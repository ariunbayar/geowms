(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{943:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ht}));var n=a(0),r=a.n(n),o=a(50),l=a(99),i=a.n(l),s=a(29),c=a(20),u=a(39);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h={tsegPersonal:function(e){var t=p(p({},Object(u.b)()),{},{body:e});return fetch("".concat(f,"/"),t).then(u.c)},tsegPersonalList:function(e,t,a){var n=p(p({},Object(u.b)()),{},{body:JSON.stringify({page:e,perpage:t,query:a})});return fetch("".concat(f,"/list/"),n).then(u.c)},tsegPersonalRemove:function(e,t){var a=p(p({},Object(u.b)()),{},{body:JSON.stringify({id:e,t_type:t})});return fetch("".concat(f,"/remove/"),a).then(u.c)},updateTseg:function(e,t){var a=p(p({},Object(u.b)()),{},{body:JSON.stringify({id:e,t_type:t})});return fetch("".concat(f,"/update/"),a).then(u.c)},searchTseg:function(e){var t=p(p({},Object(u.b)()),{},{body:JSON.stringify({query:e})});return fetch("".concat(f,"/search/"),t).then(u.c)},tsegPersonalSuccess:function(e,t,a,n){var r=p(p({},Object(u.b)()),{},{body:JSON.stringify({point_type:e,objectid:t,point_class:a,t_type:n})});return fetch("".concat(f,"/batalgaajuulah/"),r).then(u.c)},findSum:function(e,t){var a=p(p({},Object(u.b)()),{},{body:JSON.stringify({x:t,y:e})});return fetch("".concat(f,"/findSum/"),a).then(u.c)},searchTsegName:function(e,t){var a=p(p({},Object(u.b)()),{},{body:JSON.stringify({name:e,query:t})});return fetch("".concat(f,"/searchName/"),a).then(u.c)},getFieldValue:function(){var e=p({},Object(u.a)());return fetch("".concat(f,"/get-field-values/"),e).then(u.c)},successPoint:function(e){var t=p({},Object(u.a)());return fetch("".concat(f,"/success-point/").concat(e,"/"),t).then(u.c)},rejectPoint:function(e){var t=p({},Object(u.a)());return fetch("".concat(f,"/remove-point/").concat(e,"/"),t).then(u.c)}},f="/gov/api/tseg-personal";var g=a(33),_=Object(g.c)().shape({suljeenii_torol:Object(g.d)().required("Хоосон байна!"),ondor:Object(g.d)().required("Хоосон байна!"),date:Object(g.d)().required("Хоосон байна!"),hotolson:Object(g.d)().max(100,"100-с илүүгүй урттай оруулна уу!").required("Хоосон байна!"),alban_tushaal:Object(g.d)().max(200,"200-с илүүгүй урттай оруулна уу!").required("Хоосон байна!"),alban_baiguullga:Object(g.d)().max(200,"200-с илүүгүй урттай оруулна уу!").required("Хоосон байна!")}),b=a(902),y=a(162);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){j(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function j(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function x(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=B(e);if(t){var r=B(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return C(this,a)}}function C(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(u,e);var t,a,o,l=N(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).datalist=[],t.error_msg=[],t.x=[],t.state={id:"",values:{suljeenii_torol:"",sudalga_or_shine:"",date:"",hotolson:"",alban_tushaal:"",alban_baiguullga:"",center_typ:"",ondor:"",ondor_torol:"",pid:""},only_see:e.only_see,no_buttons:e.no_buttons,tesgiin_ner:"",toviin_dugaar:"",hors_shinj_baidal:"",BA:"",BB:"",BC:"",LA:"",LB:"",LC:"",zone:"",cc:"",latlongx:"",latlongy:"",trapetsiin_dugaar:"",sum_name:"",barishil_tuhai:"",real_sum:"",aimag_name:"",sum_ners:"",point_class:"",file_path1:null,file_path11:null,file_path1_error:!1,file_path2:null,file_path22:null,file_path2_error:!1,tseg_oiroos_img_url:"",tseg_holoos_img_url:"",tseg_holoos_img_url_zurag:"",tseg_oiroos_img_url_zurag:"",bairshil_tseg_oiroos_img_url:"",bairshil_tseg_holoos_img_url:"",bairshil_tseg_holoos_img_url_zurag:"",bairshil_tseg_oiroos_img_url_zurag:"",name_error:!1,id_error:!1,checkError:[],error_msg:"",error:{error:""},hors_error:!1,names:[],points_ids:[],hors_shinj_baidal_list:[],checkNull:[],bairshil_error:!1,modal_alert_status:"closed",modal_title:"",modal_type:"",timer:null,geo_id:""},t.onDrop=t.onDrop.bind(P(t)),t.onChangeHandler=t.onChangeHandler.bind(P(t)),t.tsegUpdate=t.tsegUpdate.bind(P(t)),t.handleSubmit=t.handleSubmit.bind(P(t)),t.handleXY=t.handleXY.bind(P(t)),t.handleOnchange=t.handleOnchange.bind(P(t)),t.handleBoxLeave=t.handleBoxLeave.bind(P(t)),t.handleBoxOver=t.handleBoxOver.bind(P(t)),t.handleInput=t.handleInput.bind(P(t)),t.handleCoordinatCheck=t.handleCoordinatCheck.bind(P(t)),t.handleSearchWithName=t.handleSearchWithName.bind(P(t)),t.checkError=t.checkError.bind(P(t)),t.modalClose=t.modalClose.bind(P(t)),t.modalCloseTime=t.modalCloseTime.bind(P(t)),t.getFieldValues=t.getFieldValues.bind(P(t)),t.successPoint=t.successPoint.bind(P(t)),t.rejectPoint=t.rejectPoint.bind(P(t)),t}return t=u,(a=[{key:"handleBoxOver",value:function(e){this.setState({showBox:!0})}},{key:"handleBoxLeave",value:function(e){this.setState({showBox:!1})}},{key:"getFieldValues",value:function(){var e=this;h.getFieldValue().then((function(t){var a=t.point_classes,n=t.point_types,r=t.ondor_types;e.setState({point_classes:a,point_types:n,ondor_types:r})}))}},{key:"componentDidMount",value:function(){this.getFieldValues();var e=this.props.data.match.params.id,t=this.props.data.match.params.t_type;e&&this.tsegUpdate(e,t)}},{key:"optionVal",value:function(e){var t=this;this.datalist=[],e.map((function(e,a){t.datalist.push(r.a.createElement("option",{key:a,value:e.tseg}))}))}},{key:"handleSearchWithName",value:function(e,t){var a=this;this.setState(j({},e,t.target.value)),0==t.target.value.length?(this.error_msg=[],this.error_msg.push(r.a.createElement("div",{className:"text-danger"},"Хоосон байна.")),this.error_msg.length>0&&this.setState({checkError:this.state.error})):this.error_msg=[],t.target.value.length>=1&&"hors_shinj_baidal"==e&&h.searchTsegName(t.target.name,t.target.value).then((function(e){var t=e.hors_shinj_baidal_list,n=e.point_ids,r=e.names;r?(a.optionVal(r),a.setState({names:r,name_error:!0,checkError:error})):0==r?a.setState({name_error:!1,checkError:[]}):n?(a.optionVal(n),a.setState({id_error:!0,checkError:error})):0==n?a.setState({id_error:!1,checkError:[]}):t?(a.optionVal(t),a.setState({hors_shinj_baidal_list:t,hors_error:!1,checkError:[]})):a.setState({hors_error:!0,checkError:error})}))}},{key:"checkError",value:function(){var e=this.state.error;""==this.state.tesgiin_ner&&(alert("Цэгийн нэрийг оруулна уу  !!! "),this.setState({checkError:e})),""==this.state.toviin_dugaar&&(alert("Төвийн дугаарыг оруулна уу !!!"),this.setState({checkError:e})),""==this.state.hors_shinj_baidal&&(alert(" Хөрсний шинж байдлыг тодорхойлно уу !!!"),this.setState({checkError:e})),this.state.barishil_tuhai.length<50&&(alert("Цэгийн байршлын тухай мэдээлэл нь багадаа 50 тэмдэгт байна !!!"),this.setState({checkError:e})),""!=this.state.LA&&""!=this.state.LB&&""!=this.state.LC&&""!=this.state.BA&&""!=this.state.BB&&""!=this.state.BC||(alert("Солбицлын мэдээлэл дутуу байна !!!"),this.setState({checkError:e}))}},{key:"handleInput",value:function(e){"barishil_tuhai"==e.target.name&&e.target.value.length>50&&this.setState({checkError:[]}),this.setState(j({},e.target.name,e.target.value))}},{key:"handleOnchange",value:function(e){e.target.name&&this.setState({checkError:[]}),this.setState(j({},e.target.name,parseFloat(e.target.value)))}},{key:"handleCoordinatCheck",value:function(){var e=this,t=this.state,a=t.BA,n=t.BB,r=t.BC,o=t.LA,l=t.LB,i=t.LC;if(a>40&&n>0&&r>0&&o>40&&l>0&&i>0){var s=l/60+o,c=i/3600+l/60+o-s+s,u=n/60+a,m=r/3600+n/60+a-u+u;h.findSum(c,m).then((function(t){var a=t.info;t.success?e.setState({latlongy:c,latlongx:m,aimag_name:a[0].aimag,trapetsiin_dugaar:a[0].vseg,sum_name:a[0].sum,cc:a[0].cc,zone:a[0].zone}):(e.setState({error_msg:a}),setTimeout((function(){e.setState({error_msg:""})}),2e3))}))}}},{key:"handleXY",value:function(e,t,a){var n=this;if(a)if(this.setState({latlongy:e[0],latlongx:e[1],aimag_name:t[0].aimag,trapetsiin_dugaar:t[0].vseg,sum_name:t[0].sum,cc:t[0].cc,zone:t[0].zone,BA:t[0].BA,BB:t[0].BB,BC:t[0].BC,LA:t[0].LA,LB:t[0].LB,LC:t[0].LC}),"Улаанбаатар"==t[0].aimag){var r=t[0].aimag+" хотын";this.setState({barishil_tuhai:r})}else{var o=t[0].aimag+" аймгийн "+t[0].sum+" сум";this.setState({barishil_tuhai:o})}else this.setState({error_msg:t,latlongx:"",aimag_name:"",trapetsiin_dugaar:"",sum_name:"",cc:"",zone:"",BA:"",BB:"",BC:"",LA:"",LB:"",LC:""}),setTimeout((function(){n.setState({error_msg:""})}),2e3)}},{key:"onDrop",value:function(e,t){var a=this,n=w(e,1)[0];if(n){var r=new FileReader;r.onload=function(e){a.setState(j({},t,btoa(e.target.result)))},r.readAsBinaryString(n)}}},{key:"onChangeHandler",value:function(e,t){var a,n,r=e.target.files[0];this.setState((j(a={},t+"_error",!1),j(a,t,r),a)),12===r.name.length&&/^[a-z A-Z 0-9]+[a-z A-Z 0-9]+[a-z A-Z 0-9]+[a-z A-Z 0-9]+[0-9]+[0-9]+[0-9]+[a-z A-Z 0-9]+[.]+[0-9]+[0-9]+[a-z A-Z 0-9]+$/.test(r.name)?this.setState((j(n={},t+"_error",!1),j(n,t,r),n)):this.setState(j({},t+"_error",!0))}},{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setSubmitting;n("checking"),r(!0);var o=new FormData;this.setState({values:e});var l=this.state.LB/60+this.state.LA,i=this.state.LC/3600+this.state.LB/60+this.state.LA-l+l,s=this.state.BB/60+this.state.BA,c=this.state.BC/3600+this.state.BB/60+this.state.BA-s+s,u=this.state.trapetsiin_dugaar.split(",")[0];o.append("file1",this.state.file_path1),o.append("file2",this.state.file_path2),o.append("tesgiin_ner",this.state.tesgiin_ner),o.append("idx",this.state.id),o.append("trapetsiin_dugaar",u),o.append("toviin_dugaar",this.state.toviin_dugaar),o.append("center_typ",this.state.values.center_typ),o.append("ondor_torol",this.state.values.ondor_torol),o.append("ondor",parseFloat(this.state.values.ondor)),o.append("pid",this.state.values.pid),o.append("suljeenii_torol",this.state.values.suljeenii_torol),o.append("aimag_name",this.state.aimag_name),o.append("sum_name",this.state.sum_name),o.append("latlongx",i),o.append("latlongy",c),o.append("tseg_oiroos_img_url",this.state.tseg_oiroos_img_url),o.append("tseg_holoos_img_url",this.state.tseg_holoos_img_url),o.append("barishil_tuhai",this.state.barishil_tuhai),o.append("point_class",this.state.point_class),o.append("bairshil_tseg_oiroos_img_url",this.state.bairshil_tseg_oiroos_img_url),o.append("bairshil_tseg_holoos_img_url",this.state.bairshil_tseg_holoos_img_url),o.append("sudalga_or_shine",this.state.values.sudalga_or_shine),o.append("hors_shinj_baidal",this.state.hors_shinj_baidal),o.append("date",this.state.values.date),o.append("BA",this.state.BA),o.append("LA",this.state.LA),o.append("zone",this.state.zone),o.append("cc",this.state.cc),o.append("hotolson",this.state.values.hotolson),o.append("alban_tushaal",this.state.values.alban_tushaal),o.append("alban_baiguullga",this.state.values.alban_baiguullga),o.append("geo_id",this.state.geo_id),this.props.data.match.params.id;var m=this.props.data.match.params.t_type;o.append("t_type",m),h.tsegPersonal(o).then((function(e){var t=e.success,o=e.name,l=e.ids;t?(a.setState({modal_alert_status:"open",modal_title:"Амжилттай хадгаллаа",modal_type:"success"}),n("saved"),r(!1),a.modalCloseTime()):r(!1),o?(alert("Энэхүү цэг мэдээллийн санд байна."),a.setState({name_error:!0})):a.setState({name_error:!1}),l?(alert("Энэхүү төвийн дугаар мэдээллийн санд байна."),a.setState({id_error:!0})):a.setState({id_error:!1})}))}},{key:"tsegUpdate",value:function(e,t){var a=this;h.updateTseg(e,t).then((function(n){var r=n.tseg_display;r&&r.map((function(n,r){var o=n.date;a.setState({values:S(S({},a.state.values),{},{pid:n.pid,center_typ:n.center_typ,ondor:n.ondor,ondor_torol:n.ondor_torol,suljeenii_torol:n.suljeenii_torol,sudalga_or_shine:n.sudalga_or_shine,date:o,hotolson:n.hotolson,alban_tushaal:n.alban_tushaal,alban_baiguullga:n.alban_baiguullga}),hors_shinj_baidal:n.hors_shinj_baidal,toviin_dugaar:n.point_id,tesgiin_ner:n.point_name,LA:n.LA,LB:n.LB,LC:n.LC,BA:n.BA,BB:n.BB,BC:n.BC,zone:n.zone,cc:n.cc,latlongx:n.latlongx,latlongy:n.latlongy,sum_name:n.sum,aimag_name:n.aimag,point_class:n.point_class,trapetsiin_dugaar:n.sheet1,barishil_tuhai:n.barishil_tuhai,tseg_oiroos_img_url_zurag:n.tseg_oiroos_img_url,tseg_holoos_img_url_zurag:n.tseg_holoos_img_url,bairshil_tseg_oiroos_img_url_zurag:n.bairshil_tseg_oiroos_img_url,bairshil_tseg_holoos_img_url_zurag:n.bairshil_tseg_holoos_img_url,file_path11:n.file_path1,file_path22:n.file_path2,geo_id:n.geo_id,id:e,t_type:t})}))}))}},{key:"getItem",value:function(){var e=this,t=this.props.data.match.params.id,a=this.props.data.match.params.t_type;t&&h.updateTseg(t,a).then((function(t){var a=t.tseg_display;if(a){var n=a[0].latlongx,r=a[0].latlongy;e.x=[],e.x.push(n,r)}}))}},{key:"modalCloseTime",value:function(){var e=this;this.state.timer=setTimeout((function(){e.setState({modal_alert_status:"closed"}),e.props.data.history.push("/gov/forms/tseg-info/tsegpersonal/tseg-personal/")}),2e3)}},{key:"modalClose",value:function(){clearTimeout(this.state.timer),this.setState({modal_alert_status:"closed"}),this.props.data.history.push("/gov/forms/tseg-info/tsegpersonal/tseg-personal/")}},{key:"successPoint",value:function(){var e=this,t=this.props.data.match.params.id;h.successPoint(t).then((function(t){var a=t.success,n=t.msg;a?(e.setState({modal_alert_status:"open",modal_title:n,modal_type:"success"}),e.modalCloseTime()):(e.setState({modal_alert_status:"open",modal_title:n,modal_type:"danger"}),e.modalCloseTime())})).catch((function(){e.setState({modal_alert_status:"open",modal_title:"Алдаа гарсан байна",modal_type:"danger"}),e.modalCloseTime()}))}},{key:"rejectPoint",value:function(){var e=this,t=this.props.data.match.params.id;h.rejectPoint(t).then((function(t){var a=t.success,n=t.msg;a?(e.setState({modal_alert_status:"open",modal_title:n,modal_type:"success"}),e.modalCloseTime()):(e.setState({modal_alert_status:"open",modal_title:n,modal_type:"danger"}),e.modalCloseTime())})).catch((function(){e.setState({modal_alert_status:"open",modal_title:"Алдаа гарсан байна",modal_type:"danger"}),e.modalCloseTime()}))}},{key:"render",value:function(){var e=this;""==this.state.latlongy&&this.getItem();var t=this.state,a=t.point_classes,o=t.point_types,l=(t.ondor_types,t.only_see),u=t.no_buttons,m=this.state.error_msg;return r.a.createElement(c.e,{enableReinitialize:!0,initialValues:this.state.values,validationSchema:_,onSubmit:this.handleSubmit},(function(t){var p,d=t.errors,h=(t.status,t.touched,t.isSubmitting),f=(t.setFieldValue,t.handleBlur,t.values),g=(t.isValid,t.dirty,Object.keys(d).length>0);return r.a.createElement(c.d,null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"col-md-8 "},r.a.createElement("div",{className:"row ml-3"},r.a.createElement("div",{className:"float-left"},r.a.createElement(b.a,{handleXY:e.handleXY,coordinatCheck:!1,xy:e.x,only_see:l})),r.a.createElement("div",{className:"col-md-12 mb-4 mt-4 pl-0"},r.a.createElement(s.c,{to:"/gov/forms/tseg-info/tsegpersonal/tseg-personal/",className:"btn gp-outline-primary "},r.a.createElement("i",{className:"fa fa-angle-double-left"})," Буцах")),r.a.createElement("div",{className:"float-lg-right mr-5 ml-5 mt-4 position-absolute alert alert-danger"+(""==m?" d-none":" d-block"),role:"alert"},m||null),r.a.createElement("h4",null,"Цэгийн хувийн хэрэг"),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"1"),r.a.createElement("th",null,"Цэгийн нэр"),r.a.createElement("td",{scope:"rowgroup"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"tesgiin_ner",type:"text",id:"tesgiin_ner",list:"tsegList",autoComplete:"off",className:"form-control "+(e.state.name_error||e.error_msg.length>0?" is-invalid":""),onChange:function(t){return e.handleSearchWithName("tesgiin_ner",t)},value:e.state.tesgiin_ner,disabled:l?"disabled":""}),e.state.name_error?r.a.createElement("div",{className:"invalid-feedback"},"Цэгийн нэр давхцаж байна !!!"):(e.state.tesgiin_ner,""))),r.a.createElement("th",{scope:"row"},"2"),r.a.createElement("th",null,"Цэгийн дугаар"),r.a.createElement("td",{scope:"rowgroup"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"toviin_dugaar",type:"number",onKeyDown:function(e){return(69===e.keyCode||190===e.keyCode)&&e.preventDefault()},id:"toviin_dugaar",list:"tsegList",autoComplete:"off",className:"form-control "+(e.state.id_error||e.error_msg.length>0?"is-invalid":""),onChange:function(t){return e.handleSearchWithName("toviin_dugaar",t)},value:e.state.toviin_dugaar,disabled:l?"disabled":""}),e.state.id_error?r.a.createElement("div",{className:"invalid-feedback"},"Төвийн дугаар давхцаж байна !!!"):(e.state.toviin_dugaar,"")))),r.a.createElement("tr",null,r.a.createElement("th",{rowSpan:"2",scope:"row"},"3"),r.a.createElement("th",{rowSpan:"2"},"Трапецийн дугаар",r.a.createElement("br",null)," (1:100000)"),r.a.createElement("td",{rowSpan:"2"},r.a.createElement("input",j({className:"form-control "+(d.trapetsiin_dugaar?"is-invalid":""),name:"trapetsiin_dugaar",id:"id_trapetsiin_dugaar",disabled:!0,type:"text",value:e.state.trapetsiin_dugaar},"value",""==e.state.trapetsiin_dugaar?"":"".concat(e.state.trapetsiin_dugaar)+"- "+"".concat(e.state.zone)+" -"+"".concat(e.state.cc)))),r.a.createElement("th",{scope:"row",rowSpan:"2"},"4"),r.a.createElement("th",null,"Сүлжээний төрөл"),r.a.createElement("td",null,r.a.createElement(n.Fragment,null,r.a.createElement(c.b,{name:"suljeenii_torol",as:"select",disabled:l?"disabled":"",className:"custom-select "+(d.suljeenii_torol?"is-invalid":"")},r.a.createElement("option",{value:""},"..."),o&&o.map((function(e,t){return r.a.createElement("option",{key:t,value:e.code_list_id},e.code_list_name)}))),r.a.createElement(c.a,{name:"suljeenii_torol",component:"div",className:"invalid-feedback"})))),r.a.createElement("tr",null,r.a.createElement("th",null,"Зэрэг"),r.a.createElement("td",null,r.a.createElement(n.Fragment,null,r.a.createElement(c.b,{name:"center_typ",as:"select",disabled:l?"disabled":"",className:"custom-select "+(d.center_typ?"is-invalid":"")},r.a.createElement("option",{value:""},"..."),a&&a.map((function(e,t){return f.suljeenii_torol==e.top_code_list_id&&r.a.createElement("option",{key:t,value:e.code_list_id},e.code_list_name)}))),r.a.createElement(c.a,{name:"center_typ",component:"div",className:"invalid-feedback"})))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"5"),r.a.createElement("th",null,"Аймаг"),r.a.createElement("td",{colSpan:"1",scope:"rowgroup"},r.a.createElement("input",{className:"form-control ",name:"aimag_name",id:"aimag_name",disabled:!0,type:"text",value:e.state.aimag_name})),r.a.createElement("th",null,"Сум"),r.a.createElement("td",{colSpan:"2",scope:"rowgroup"},r.a.createElement("input",{className:"form-control ",name:"sum_name",id:"sum_name",type:"text",disabled:!0,value:e.state.sum_name||""}))),r.a.createElement("tr",null,r.a.createElement("th",j({rowSpan:"4",scope:"rowgroup"},"scope","row"),"6"),r.a.createElement("th",{rowSpan:"4",scope:"rowgroup",className:"text-justify"},"WGS84 солбицлын",r.a.createElement("br",null)," тогтолтоонд, ",r.a.createElement("br",null)," ITRF 2008 эринд ",r.a.createElement("br",null),"тодорхойлсон",r.a.createElement("br",null),r.a.createElement("button",{type:"button",className:"btn gp-outline-primary",onClick:e.handleCoordinatCheck,disabled:l?"disabled":""},"Шалгах"))),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2",style:{textAlign:"center"}},"Өргөрөг(B)"),r.a.createElement("th",{colSpan:"2",scope:"rowgroup",style:{textAlign:"center"}},"Уртраг(L)")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2",className:"pl-3"},r.a.createElement("input",{className:"form-control row float-left mx-0 my-2",name:"BA",id:"BA",placeholder:"D",type:"number",onChange:function(t){return e.handleOnchange(t)},value:e.state.BA||"",disabled:l?"disabled":""}),r.a.createElement("input",{className:"form-control row float-left mx-0 my-2",placeholder:"M",name:"BB",id:"BB",type:"number",onChange:function(t){return e.handleOnchange(t)},value:e.state.BB||"",disabled:l?"disabled":""}),r.a.createElement("input",{className:"form-control row float-left mx-0 my-2",placeholder:"S",name:"BC",id:"BC",type:"number",onChange:function(t){return e.handleOnchange(t)},value:e.state.BC||"",disabled:l?"disabled":""})),r.a.createElement("td",{colSpan:"2",scope:"rowgroup",className:""},r.a.createElement("input",{className:"form-control row float-left mx-0 my-2",placeholder:"D",name:"LA",id:"LA",type:"number",onChange:function(t){return e.handleOnchange(t)},value:e.state.LA,disabled:l?"disabled":""}),r.a.createElement("input",{className:"form-control row float-left mx-0 my-2",placeholder:"M",name:"LB",id:"LB",type:"number",onChange:function(t){return e.handleOnchange(t)},value:e.state.LB||"",disabled:l?"disabled":""}),r.a.createElement("input",{className:"form-control row float-left mx-0 my-2",placeholder:"S",name:"LC",id:"LC",type:"number",onChange:function(t){return e.handleOnchange(t)},value:e.state.LC||"",disabled:l?"disabled":""}))),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"4",scope:"rowgroup"},"Өндөр тоо",r.a.createElement(c.b,{className:"form-control "+(d.ondor?"is-invalid":""),name:"ondor",id:"id_ondor",type:"number",onKeyDown:function(e){return(69===e.keyCode||190===e.keyCode)&&e.preventDefault()},disabled:l?"disabled":""}),r.a.createElement(c.a,{name:"ondor",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"7",scope:"rowgroup",style:{textAlign:"center"}},"7. Цэгийн фото зураг",!l&&r.a.createElement("div",{type:"button",onMouseOver:function(t){return e.handleBoxOver(t)},onMouseLeave:function(t){return e.handleBoxLeave(t)},style:{backgroundColor:"white"},className:"float-right"},r.a.createElement("i",{className:"fa fa-exclamation-circle float-right"},r.a.createElement("div",{className:"alert alert-dark rounded position-absolute d-none"+"".concat(e.state.showBox?" d-block":""),role:"alert"},r.a.createElement("h6",{className:"alert-heading"},"Санамж!"),r.a.createElement("p",null,'".jpeg" болон ".png" байх ёстой')))))),r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"center"},colSpan:"3",scope:"rowgroup"},"ойроос"),r.a.createElement("th",{style:{textAlign:"center"},colSpan:"3",scope:"rowgroup"},"холоос")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},r.a.createElement("div",{className:"form-group"},!l&&r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"tseg_oiroos_img_url")},imgExtension:[".jpeg",".png"],maxFileSize:225e4,singleImage:!0,label:""}),e.state.tseg_oiroos_img_url_zurag?r.a.createElement("center",null,r.a.createElement("img",{src:e.state.tseg_oiroos_img_url_zurag,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",null,"Зураг байхгүй байна.")))),r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},!l&&r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"tseg_holoos_img_url")},imgExtension:[".jpg",".png"],maxFileSize:225e4,singleImage:!0,label:""}),e.state.tseg_holoos_img_url_zurag?r.a.createElement("center",null,r.a.createElement("img",{src:e.state.tseg_holoos_img_url_zurag,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",null,"Зураг байхгүй байна.")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"center"},colSpan:"2",scope:"rowgroup"},"8. Байршлын тухай: "),r.a.createElement("th",{style:{textAlign:"center"},colSpan:"4",scope:"rowgroup"},e.state.barishil_tuhai.length<50?r.a.createElement("small",{className:"text-danger float-left"},"Цэгийн байршлын тухай мэдээлэл нь багадаа 50 тэмдэгт байна "):"",r.a.createElement("input",{className:"form-control"+(e.state.barishil_tuhai.length<50?" is-invalid":""),name:"barishil_tuhai",id:"id_barishil_tuhai",type:"textarea",onChange:function(t){return e.handleInput(t)},value:e.state.barishil_tuhai,disabled:l?"disabled":""}))),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"3",scope:"rowgroup"},"9. Байршлын тойм зураг"),r.a.createElement("th",{colSpan:"3",scope:"rowgroup"},"10. Төв цэгийн хэлбэр")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},!l&&r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"bairshil_tseg_oiroos_img_url")},imgExtension:[".jpg",".png"],maxFileSize:225e4,singleImage:!0,label:""}),e.state.bairshil_tseg_oiroos_img_url_zurag?r.a.createElement("center",null,r.a.createElement("img",{src:e.state.bairshil_tseg_oiroos_img_url_zurag,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",null,"Зураг байхгүй байна."))),r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},!l&&r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"bairshil_tseg_holoos_img_url")},imgExtension:[".jpg",".png"],maxFileSize:225e4,singleImage:!0,label:""}),e.state.bairshil_tseg_holoos_img_url_zurag?r.a.createElement("center",null,r.a.createElement("img",{src:e.state.bairshil_tseg_holoos_img_url_zurag,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",null,"Зураг байхгүй байна.")))),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"12."),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},"Хөрсний шинж байдал:"),r.a.createElement("td",{colSpan:"4",scope:"rowgroup"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"hors_shinj_baidal",type:"text",id:"hors_shinj_baidal",list:"tsegList",autoComplete:"off",className:"form-control "+(e.state.hors_error||e.error_msg.length>0?"is-invalid":""),onChange:function(t){return e.handleSearchWithName("hors_shinj_baidal",t)},value:e.state.hors_shinj_baidal,disabled:l?"disabled":""}),e.state.hors_error?r.a.createElement("div",{className:"invalid-feedback"},"Бүртгэлгүй хөрсний мэдээлэл байна"):""))),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"13."),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},"Цэг тэмдэгт суулгасан огноо:"),r.a.createElement("td",{colSpan:"3",scope:"input-group date"},r.a.createElement(c.b,{className:"form-control "+(d.date?"is-invalid":""),name:"date",id:"id_date",type:"date",disabled:l?"disabled":""}),r.a.createElement(c.a,{name:"date",component:"div",className:"invalid-feedback"}))),"-1"==f.suljeenii_torol?r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"14."),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},"Файл 1:"),r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},""===e.state.file_path11?null:r.a.createElement("a",{href:"/media/".concat(e.state.file_path11)},e.state.file_path11),r.a.createElement("input",{type:"file",className:"form-control "+(e.state.file_path1_error>0?"is-invalid":""),disabled:"3"!=f.suljeenii_torol,onChange:function(t){return e.onChangeHandler(t,"file_path1")}}),e.state.file_path1_error>0?r.a.createElement("ul",{className:"text-danger"},r.a.createElement("li",null,"XXXXDDDS.YYo"),r.a.createElement("li",null,"XXXX – Хэмжсэн цэгийн нэр"),r.a.createElement("li",null,"DDD-Жилийн өдөр (GPS-ийн өдөр, 001-365)"),r.a.createElement("li",null,"S-хэмжсэн хугацааны урт (0-9, а-Z)"),r.a.createElement("li",null,"YY-хэмжилт хийсэн оны сүүлийн 2 орон (2018 үед 18 )Жишээ нь: gunt2170.18o")):null)):null,"-1"==f.suljeenii_torol?r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"15."),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},"Файл 2:"),r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},""===e.state.file_path22?null:r.a.createElement("a",{href:"/media/".concat(e.state.file_path22)},e.state.file_path22),r.a.createElement("input",(j(p={type:"file",className:"form-control"},"className","form-control "+(e.state.file_path2_error>0?"is-invalid":"")),j(p,"disabled","3"!=f.suljeenii_torol),j(p,"onChange",(function(t){return e.onChangeHandler(t,"file_path2")})),p)),e.state.file_path2_error>0?r.a.createElement("ul",{className:"text-danger"},r.a.createElement("li",null,"XXXXDDDS.YYo"),r.a.createElement("li",null,"XXXX – Хэмжсэн цэгийн нэр"),r.a.createElement("li",null,"DDD-Жилийн өдөр (GPS-ийн өдөр, 001-365)"),r.a.createElement("li",null,"S-хэмжсэн хугацааны урт (0-9, а-Z)"),r.a.createElement("li",null,"YY-хэмжилт хийсэн оны сүүлийн 2 орон (2018 үед 18 )Жишээ нь: gunt2170.18o")):null)):null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"16."),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},"Албан байгууллага:"),r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},r.a.createElement(c.b,{className:"form-control "+(d.alban_baiguullga?"is-invalid":""),name:"alban_baiguullga",id:"id_alban_baiguullga",type:"text",disabled:l?"disabled":""}),r.a.createElement(c.a,{name:"alban_baiguullga",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"17."),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},"Албан тушаал:"),r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},r.a.createElement(c.b,{className:"form-control "+(d.alban_tushaal?"is-invalid":""),name:"alban_tushaal",id:"id_alban_tushaal",type:"text",disabled:l?"disabled":""}),r.a.createElement(c.a,{name:"alban_tushaal",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"18."),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},"Хувийн хэрэг хөтөлсөн:"),r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},r.a.createElement(c.b,{className:"form-control "+(d.hotolson?"is-invalid":""),name:"hotolson",id:"id_hotolson",type:"text",disabled:l?"disabled":""}),r.a.createElement(c.a,{name:"hotolson",component:"div",className:"invalid-feedback"}))))),r.a.createElement("div",{className:"span3 my-3"},r.a.createElement("div",null,u?null:l?r.a.createElement("div",{className:"float-right"},r.a.createElement("button",{type:"button",className:"btn gp-btn-outline-primary waves-effect waves-light ml-2",onClick:e.successPoint},"Баталгаажуулах"),r.a.createElement("button",{type:"button",className:"btn gp-btn-primary waves-effect waves-light",onClick:e.rejectPoint},"Татгалзах")):r.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:h||g||Object.keys(e.state.checkError).length>0,onClick:e.checkError},h&&r.a.createElement("i",{className:"fa fa-spinner fa-spin"}),h&&r.a.createElement("a",{className:"text-light"},"Шалгаж байна."),!h&&"Нэмэх")),r.a.createElement("datalist",{id:"tsegList"},e.datalist))))),r.a.createElement(y.a,{modalAction:function(){return e.modalClose()},status:e.state.modal_alert_status,title:e.state.modal_title,model_type_icon:e.state.modal_type})))}))}}])&&x(t.prototype,a),o&&x(t,o),u}(n.Component),D=a(237);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function R(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=q(e);if(t){var r=q(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return I(this,a)}}function I(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(l,e);var t,a,n,o=L(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={is_modal_delete_open:!1,is_modal_success_open:!1,point_class:"",point_type:""},t.handleModalDeleteOpen=t.handleModalDeleteOpen.bind(F(t)),t.handleModalDeleteClose=t.handleModalDeleteClose.bind(F(t)),t.handleModalSuccessOpen=t.handleModalSuccessOpen.bind(F(t)),t.handlePointSetName=t.handlePointSetName.bind(F(t)),t.handleBoxLeave=t.handleBoxLeave.bind(F(t)),t.handleBoxOver=t.handleBoxOver.bind(F(t)),t.successAndClose=t.successAndClose.bind(F(t)),t}return t=l,(a=[{key:"handleBoxOver",value:function(e){this.setState({showBox:!0})}},{key:"handleBoxLeave",value:function(e){this.setState({showBox:!1})}},{key:"handleModalDeleteOpen",value:function(e){e.preventDefault(),this.setState({is_modal_delete_open:!0})}},{key:"handleModalDeleteClose",value:function(){this.setState({is_modal_delete_open:!1})}},{key:"handleModalSuccessOpen",value:function(e){e.preventDefault(),this.setState({is_modal_success_open:!0})}},{key:"handleModalSuccessClose",value:function(){this.setState({is_modal_success_open:!1})}},{key:"componentDidMount",value:function(){this.handlePointSetName("point_class",this.props.values.point_class)}},{key:"componentDidUpdate",value:function(e){e.values!==this.props.values&&(this.setState({is_modal_delete_open:!1,is_modal_success_open:!1}),this.handlePointSetName("point_class",this.props.values.point_class))}},{key:"successAndClose",value:function(){this.setState({is_modal_success_open:!1}),this.props.handleSuccess()}},{key:"handlePointSetName",value:function(e,t){3==t&&this.setState(A({},e,"GPS-ийн сүлжээ")),6==t&&this.setState(A({},e,"Гравиметрийн сүлжээ")),7==t&&this.setState(A({},e,"Өндрийн сүлжээ")),4==t&&this.setState(A({},e,"Триангуляцийн сүлжээ")),5==t&&this.setState(A({},e,"Полигометрийн сүлжээ")),8==t&&this.setState(A({},e,"Зураглалын сүлжээ")),2==t&&this.setState(A({},e,"GNSS-ийн байнгын ажиллагаатай станц"))}},{key:"render",value:function(){var e=this,t=this.props.values,a=t.id,n=(t.objectid,t.point_id),o=t.point_name,l=(t.pid,t.point_class),i=t.point_type,c=(t.center_typ,t.aimag),u=t.sum,m=t.t_type,p=(t.sheet1,t.sheet2,t.sheet3,t.geom,this.props.idx);return r.a.createElement("tr",null,r.a.createElement("th",null,p+1),r.a.createElement("th",null,o),r.a.createElement("th",null,n),r.a.createElement("th",null,this.state.point_class),r.a.createElement("th",null,i>4&&i?r.a.createElement("a",null,i," зэрэг"):i<4&&i?r.a.createElement("a",null,i," анги"):""," "),r.a.createElement("th",null,c),r.a.createElement("th",null,u),r.a.createElement("th",null,r.a.createElement(s.c,{to:"/gov/forms/tseg-info/tsegpersonal/tseg-personal/".concat(a,"/").concat(m,"/засах/")},r.a.createElement("i",{className:"fa fa-pencil-square-o gp-text-primary","aria-hidden":"true"}))),r.a.createElement("th",null,r.a.createElement("a",{href:"#",onClick:this.handleModalDeleteOpen},r.a.createElement("i",{className:"fa fa-trash-o text-danger","aria-hidden":"true"})),this.state.is_modal_delete_open&&r.a.createElement(D.a,{modalClose:this.handleModalDeleteClose,modalAction:this.props.handleRemove,text:'Та "'.concat(o,'" нэртэй тохиргоог устгахдаа итгэлтэй байна уу?'),title:"Тохиргоог устгах",model_type_icon:"success"})),r.a.createElement("th",null,m[3]!=l?r.a.createElement("a",{className:"btn",onClick:this.handleModalSuccessOpen,onMouseOver:function(t){return e.handleBoxOver(t)},onMouseLeave:function(t){return e.handleBoxLeave(t)}},r.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"})):r.a.createElement("a",{className:"btn"},r.a.createElement("i",{className:"fa fa-check text-success","aria-hidden":"true"})),r.a.createElement("div",{className:"alert alert-dark rounded position-absolute d-none"+"".concat(this.state.showBox?" d-block":""),role:"alert",style:{backgroundColor:"white"}},r.a.createElement("h6",{className:"alert-heading"},"Санамж!"),r.a.createElement("span",null,"Баталгаажуулснаар шинээр үүссэн болон шинэчилсэн цэгийн мэдээллийг шинэчлэх санал дээр байгаа цэгийн жагсаалтад нэмэх болно.")),this.state.is_modal_success_open&&r.a.createElement(D.a,{modalClose:function(t){return e.handleModalSuccessClose(t)},modalAction:function(){return e.successAndClose()},text:'Та "'.concat(o,'" энэ цэгийг баталгаажуулахдаа итгэлтэй байна уу?'),title:"Баталгаажуулах уу?",actionNameBack:"    Үгүй",actionNameDelete:"  Тийм",model_type_icon:"warning"})))}}])&&R(t.prototype,a),n&&R(t,n),l}(n.Component),V=a(897);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Y(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=H(e);if(t){var r=H(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Z(this,a)}}function Z(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.Component;var $=a(893);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=oe(e);if(t){var r=oe(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return ne(this,a)}}function ne(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?re(e):t}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(l,e);var t,a,n,o=ae(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={refresh:!1,"жагсаалтын_холбоос":"/gov/api/tseg-personal/list/",custom_query:{},"талбарууд":[{field:"point_name",title:"Цэгийн нэр"},{field:"point_id",title:"Цэгийн дугаар"},{field:"point_class",title:"Цэгийн анги"},{field:"point_type",title:"Цэгийн төрөл"},{field:"state",title:"Төлөв",has_action:!0},{field:"kind",title:"Өөрчлөлт",has_action:!0}],"нэмэлт_талбарууд":[{title:"Шийдвэрлэх",icon:"fa fa-check-square-o text-warning",action:function(e){return t.goSuccess(e)}}],"хувьсах_талбарууд":[{field:"state",action:function(e){return"ШИНЭ"==(t=e)?a="text-primary":"ТАТГАЛЗСАН"==t?a="text-danger":"ЗӨВШӨӨРСӨН"==t&&(a="text-success"),a;var t,a},action_type:!0},{field:"kind",action:function(e){return"ҮҮССЭН"==(t=e)?a="text-success":"ЗАССАН"==t?a="text-primary":"УСТГАСАН"==t&&(a="text-danger"),a;var t,a},action_type:!0}]},t.goSuccess=t.goSuccess.bind(re(t)),t}return t=l,(a=[{key:"goSuccess",value:function(e){"ШИНЭ"==e.state?this.props.history.push("/gov/forms/tseg-info/tsegpersonal/tseg-personal/".concat(e.id,"/шийдвэрлэх/")):this.props.history.push("/gov/forms/tseg-info/tsegpersonal/tseg-personal/".concat(e.id,"/харах/"))}},{key:"render",value:function(){var e,t,a,n=this.state,o=n.refresh,l=n.талбарууд,i=n.жагсаалтын_холбоос,s=n.хувьсах_талбарууд,c=n.custom_query,u=n.нэмэх_товч,m=n.нэмэлт_талбарууд;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement($.a,(a="/gov/forms/tseg-info/tsegpersonal/tseg-personal/add/",(t="нэмэх_товч")in(e={refresh:o,color:"bg-dark","талбарууд":l,"жагсаалтын_холбоос":i,per_page:20,"уншиж_байх_үед_зурвас":"Хүсэлтүүд уншиж байна","хувьсах_талбарууд":s,"нэмэх_товч":u,custom_query:c,"нэмэлт_талбарууд":m})?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e))))}}])&&ee(t.prototype,a),n&&ee(t,n),l}(n.Component);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=pe(e);if(t){var r=pe(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return me(this,a)}}function me(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(i,e);var t,a,n,l=ue(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),l.call(this,e)}return t=i,(a=[{key:"render",value:function(){return r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-personal/",component:le}),r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-personal/add/",component:function(e){return r.a.createElement(z,{data:e})}}),r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-personal/:id/засах/",component:function(e){return r.a.createElement(z,{data:e})}}),r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-personal/:id/шийдвэрлэх/",component:function(e){return r.a.createElement(z,{data:e,only_see:!0})}}),r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-personal/:id/харах/",component:function(e){return r.a.createElement(z,{data:e,only_see:!0,no_buttons:!0})}}))}}])&&se(t.prototype,a),n&&se(t,n),i}(n.Component);function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(Object(a),!0).forEach((function(t){ge(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ge(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _e={tsegustsanEdit:function(e){var t=fe(fe({},Object(u.b)()),{},{body:JSON.stringify({id:e})});return fetch("".concat("/gov/api/tseg-ustsan","/edit/"),t).then(u.c)},searchTseg:function(e){var t=fe(fe({},Object(u.b)()),{},{body:JSON.stringify({query:e})});return fetch("".concat("/gov/api/tseg-personal","/search/"),t).then(u.c)},tsegUstsan:function(e){var t=fe(fe({},Object(u.b)()),{},{body:e});return fetch("".concat("/gov/api/tseg-ustsan","/"),t).then(u.c)},tseg_success:function(e){var t=fe(fe({},Object(u.b)()),{},{body:JSON.stringify({id:e})});return fetch("".concat("/gov/api/tseg-ustsan","/success/"),t).then(u.c)},tseg_remove:function(e){var t=fe(fe({},Object(u.b)()),{},{body:JSON.stringify({id:e})});return fetch("".concat("/gov/api/tseg-ustsan","/remove/"),t).then(u.c)},paginatedList:function(e,t,a){var n=fe(fe({},Object(u.b)()),{},{body:JSON.stringify({page:e,perpage:t,query:a})});return fetch("".concat("/gov/api/tseg-ustsan","/list/"),n).then(u.c)}};g.c().shape({evdersen_baidal:g.d().required("Ойролцоо цэгийн байрлал хоосон байна!"),nohtsol_baidal:g.d().min(2,"Хэт богионо байна!").max(50,"Хэт урт байна!").required("Нөхцөл хоосон байна!"),sergeeh_sanal:g.d().required("Санал хоосон байна!")});var be=g.c().shape({email:g.d().email("Имайл хаяг таарахгүй байна!").required("Имайл хаяг хоосон байна!"),baiguulaga:g.d().min(2,"Хэт богионо байна!").max(50,"Хэт урт байна!").required("Байгууллагын нэр хоосон байна."),alban_tushaal:g.d().min(2,"Хэт богионо байна!").max(50,"Хэт урт байна!").required("Албан тушаал хоосон байна!"),utas:g.b().integer("Буруу байна").positive("Буруу байна!").typeError("Заавал тоо байх ёстой"),oiroltsoo_bairlal:g.d().min(2,"Хэт богионо байна!").max(50,"Хэт урт байна!"),evdersen_baidal:g.d().required("Ойролцоо цэгийн байрлал хоосон байна!"),nohtsol_baidal:g.d().min(2,"Хэт богионо байна!").max(50,"Хэт урт байна!").required("Нөхцөл хоосон байна!"),sergeeh_sanal:g.d().required("Санал хоосон байна!")});function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Se(e,t,a,n,r,o,l){try{var i=e[o](l),s=i.value}catch(e){return void a(e)}i.done?t(s):Promise.resolve(s).then(n,r)}function we(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Oe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Ce(e);if(t){var r=Ce(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return ke(this,a)}}function ke(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?Ne(e):t}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(m,e);var t,a,n,o,l,u=xe(m);function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=u.call(this,e))._isMounted=!1,t.datalist=[],t.error_msg=[],t.bairlal_msg=[],t.state={id:-1,values:{email:"",baiguulaga:"",alban_tushaal:"",utas:"",evdersen_baidal:"",nohtsol_baidal:"",sergeeh_sanal:""},tsegiin_dugaar:"",oiroltsoo_bairlal:"",zurag_hol:"",zurag_oir:"",zurag_baruun:"",zurag_zuun:"",zurag_hoid:"",zurag_omno:"",zurag_hol_prev:"",zurag_oir_prev:"",zurag_baruun_prev:"",zurag_zuun_prev:"",zurag_hoid_prev:"",zurag_omno_prev:"",hemjilt_hiih_bolomj:!1,email_error_messege:!1,tseg_dugaar_error:!1,list:[],items:[],parse:[],checkError:[],showBox:!0,error:{error:""},bairlal_error:!1,ners:"",showMore:!1,showTsegAlert:!0,modal_alert_status:"closed",timer:null},t.handleInput=t.handleInput.bind(Ne(t)),t.handleInputEmail=t.handleInputEmail.bind(Ne(t)),t.onDrop=t.onDrop.bind(Ne(t)),t.handleCheck=t.handleCheck.bind(Ne(t)),t.handleCheckGroup=t.handleCheckGroup.bind(Ne(t)),t.handleGetAll=t.handleGetAll.bind(Ne(t)),t.handleSearchWithTseg=t.handleSearchWithTseg.bind(Ne(t)),t.optionVal=t.optionVal.bind(Ne(t)),t.handleSubmit=t.handleSubmit.bind(Ne(t)),t.checkAldaa=t.checkAldaa.bind(Ne(t)),t.handleBoxLeave=t.handleBoxLeave.bind(Ne(t)),t.handleBoxOver=t.handleBoxOver.bind(Ne(t)),t.showMore=t.showMore.bind(Ne(t)),t.modalClose=t.modalClose.bind(Ne(t)),t.modalCloseTime=t.modalCloseTime.bind(Ne(t)),t}return t=m,(a=[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=this.props.data.match.params.id;t&&this._isMounted&&this.setState({id:t}),this._isMounted&&this.handleGetAll(t),setTimeout((function(){e._isMounted&&e.setState({showBox:!1,showTsegAlert:!1})}),2e3)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"showMore",value:function(){this.setState({showMore:!this.state.showMore})}},{key:"handleSearchWithTseg",value:function(e,t){this.setState(we({},e,t.target.value)),0==t.target.value.length?(this.error_msg=[],this.error_msg.push(r.a.createElement("div",{className:"invalid-feedback"},"Хоосон байна.")),this.error_msg.length>0&&this.setState({checkError:this.state.error})):this.error_msg=[],t.target.value.length}},{key:"optionVal",value:function(e){var t=this;this.datalist=[],e.map((function(e,a){t.datalist.push(r.a.createElement("option",{key:a,value:e.tseg}))}))}},{key:"checkAldaa",value:function(){var e=this.state.tseg_dugaar_error;1==e?this.setState({tseg_dugaar_error:!0,checkError:e}):this.setState({tseg_dugaar_error:!1,checkError:[]})}},{key:"handleGetAll",value:(o=regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(this._isMounted&&this.setState({id:t}),_e.tsegustsanEdit(t).then((function(e){var t=e.form_data;t&&t.map((function(e){_e.searchTseg(e.tseg_id).then((function(e){var t=e.success,n=e.names;t&&a.setState({ners:n})})),a._isMounted&&a.setState({values:{email:e.email,baiguulaga:e.name,alban_tushaal:e.alban_tushaal,utas:e.utas,evdersen_baidal:e.evdersen_baidal,nohtsol_baidal:e.nohtsol_baidal,sergeeh_sanal:e.sergeeh_sanal},oiroltsoo_bairlal:e.oiroltsoo_bairlal,tsegiin_dugaar:e.tseg_id,hemjilt_hiih_bolomj:e.gps_hemjilt,zurag_hol_prev:e.img_holoos,zurag_oir_prev:e.img_oiroos,zurag_baruun_prev:e.img_baruun,zurag_zuun_prev:e.img_zuun,zurag_hoid_prev:e.img_hoino,zurag_omno_prev:e.img_omno,zurag_hol:e.img_holoos,zurag_oir:e.img_oiroos,zurag_baruun:e.img_baruun,zurag_zuun:e.img_zuun,zurag_hoid:e.img_hoino,zurag_omno:e.img_omno,edit:!0,checkError:[]})}))})));case 1:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,t=arguments;return new Promise((function(a,n){var r=o.apply(e,t);function l(e){Se(r,a,n,l,i,"next",e)}function i(e){Se(r,a,n,l,i,"throw",e)}l(void 0)}))},function(e){return l.apply(this,arguments)})},{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setSubmitting;n("checking"),r(!0);var o=new FormData;this.setState({values:e}),o.append("id",this.state.id),o.append("email",e.email),o.append("baiguulaga",e.baiguulaga),o.append("alban_tushaal",e.alban_tushaal),o.append("utas",e.utas),o.append("tsegiin_dugaar",this.state.tsegiin_dugaar),o.append("oiroltsoo_bairlal",this.state.oiroltsoo_bairlal),o.append("evdersen_baidal",e.evdersen_baidal),o.append("nohtsol_baidal",e.nohtsol_baidal),o.append("hemjilt_hiih_bolomj",this.state.hemjilt_hiih_bolomj),o.append("sergeeh_sanal",e.sergeeh_sanal),o.append("zurag_hol",this.state.zurag_hol),o.append("zurag_oir",this.state.zurag_oir),o.append("zurag_baruun",this.state.zurag_baruun),o.append("zurag_zuun",this.state.zurag_zuun),o.append("zurag_hoid",this.state.zurag_hoid),o.append("zurag_omno",this.state.zurag_omno),_e.tsegUstsan(o).then((function(e){e.success&&(n("saved"),r(!1),a.setState({modal_alert_status:"open"}),a.modalCloseTime())}))}},{key:"handleInput",value:function(e,t){this.setState(we({},e,t.target.value)),0==t.target.value.length?this.setState({bairlal_error:!0}):this.setState({bairlal_error:!1})}},{key:"handleInputEmail",value:function(e,t){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.target.value)?this.setState(we({emailErrorMessege:!1},e,t.target.value)):this.setState({email_error_messege:!0,checkError:this.state.error})}},{key:"handleCheck",value:function(e,t){t.target.checked?this.setState(we({},e,!0)):this.setState(we({},e,!1))}},{key:"onDrop",value:function(e,t){var a=this,n=ve(e,1)[0];if(n){var r=new FileReader;r.onload=function(e){a.setState(we({},t,btoa(e.target.result)))},r.readAsBinaryString(n)}}},{key:"handleCheckGroup",value:function(e,t,a){this.setState(we({},e,a))}},{key:"handleBoxOver",value:function(e,t){"evdersen_baidal"==e&&this.setState({showTsegAlert:!0}),"zurag"==e&&this.setState({showBox:!0})}},{key:"handleBoxLeave",value:function(e,t){"evdersen_baidal"==e&&this.setState({showTsegAlert:!1}),"zurag"==e&&this.setState({showBox:!1})}},{key:"modalCloseTime",value:function(){var e=this;this.state.timer=setTimeout((function(){e.setState({modal_alert_status:"closed"}),e.props.data.history.push("/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/")}),2e3)}},{key:"modalClose",value:function(){clearTimeout(this.state.timer),this.setState({modal_alert_status:"closed"}),this.props.data.history.push("/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/")}},{key:"render",value:function(){var e=this,t=this.state,a=t.id,n=t.zurag_hol_prev,o=t.zurag_oir_prev,l=t.zurag_baruun_prev,u=t.zurag_zuun_prev,m=t.zurag_hoid_prev,p=t.zurag_omno_prev,d=t.tseg_dugaar_error,h=t.oiroltsoo_bairlal,f=t.bairlal_error,g=t.showMore;return console.log(this.state.checkError),r.a.createElement(c.e,{initialValues:this.state.values,enableReinitialize:!0,validationSchema:be,onSubmit:this.handleSubmit},(function(t){var _=t.errors,b=(t.status,t.touched),v=t.isSubmitting;t.setFieldValue,t.handleBlur,t.values,t.isValid,t.dirty,console.log(_),1==v&&(""==e.state.tseg_dugaar_error&&(e.error_msg=[],e.error_msg.push(r.a.createElement("div",null))),""==e.state.oiroltsoo_bairlal&&(e.bairlal_msg=[],e.bairlal_msg.push(r.a.createElement("div",null)))),""!=e.state.oiroltsoo_bairlal&&(e.bairlal_msg=[]);var E=e.state.checkError,S=Object.keys(_).length>0;return Object.keys(E).length,console.log(S),r.a.createElement(c.d,null,r.a.createElement("div",{className:"container p-3 card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row ml-3"},r.a.createElement("div",{className:"col-md-12 mb-4 mt-4"},r.a.createElement(s.c,{to:"/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/",className:"btn gp-outline-primary "},r.a.createElement("i",{className:"fa fa-angle-double-left"})," Буцах")),r.a.createElement("h4",null,"Таны мэдээлэл"),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"1."),r.a.createElement("th",{style:{width:"15%"}},"Имэйл хаяг"),r.a.createElement("td",null,r.a.createElement(c.b,{name:"email",type:"text",id:"id_email",className:"form-control"+(_.email&&b.email?" is-invalid":"")}),r.a.createElement(c.a,{name:"email",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"2."),r.a.createElement("th",{style:{width:"15%"}},"Албан байгууллага"),r.a.createElement("td",null,r.a.createElement(c.b,{name:"baiguulaga",type:"text",id:"id_baiguulaga",className:"form-control"+(_.baiguulaga&&b.baiguulaga?" is-invalid":"")}),r.a.createElement(c.a,{name:"baiguulaga",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"2."),r.a.createElement("th",{style:{width:"15%"}},"Албан тушаал"),r.a.createElement("td",null,r.a.createElement(c.b,{name:"alban_tushaal",type:"text",id:"id_alban_tushaal",className:"form-control"+(_.alban_tushaal&&b.alban_tushaal?" is-invalid":"")}),r.a.createElement(c.a,{name:"alban_tushaal",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"2."),r.a.createElement("th",{style:{width:"15%"}},"Утасны дугаар"),r.a.createElement("td",null,r.a.createElement(c.b,{name:"utas",type:"text",id:"id_utas",className:"form-control"+(_.alban_tushaal&&b.alban_tushaal?" is-invalid":"")}),r.a.createElement(c.a,{name:"utas",component:"div",className:"invalid-feedback"}))))),r.a.createElement("h4",null,"Устсан цэгт тэмдэгтийн мэдээлэл"),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"1."),r.a.createElement("th",{style:{width:"15%"}},"Цэгийн дугаар:"),r.a.createElement("td",{colSpan:"4",scope:"rowgroup"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"tsegiin_dugaar",type:"text",id:"tsegiin_dugaar",autoComplete:"off",list:"tsegList",className:"form-control"+(d||e.error_msg.length>0?" is-invalid":""),onChange:function(t){return e.handleSearchWithTseg("tsegiin_dugaar",t)},value:e.state.tsegiin_dugaar}),r.a.createElement("div",{type:"button",onMouseOver:function(t){return e.handleBoxOver("evdersen_baidal",t)},onMouseLeave:function(t){return e.handleBoxLeave("evdersen_baidal",t)},className:"d-flex justify-content-center"},r.a.createElement("span",{className:"mb-1 input-group-addon fa-stack fa-lg"},r.a.createElement("i",{className:"fa fa-square fa-stack-2x",style:{color:"".concat(e.state.showTsegAlert?"#1969c3":"#034ea2")},"aria-hidden":"true"}),r.a.createElement("i",{className:"fa fa-exclamation fa-stack-1x fa-inverse",style:{color:"white"}}),r.a.createElement("i",{className:"fa"},r.a.createElement("div",{className:"alert alert-dark rounded position-absolute d-none"+"".concat(e.state.showTsegAlert?" d-block":""),role:"alert"},r.a.createElement("p",{className:"alert-heading h6"},"Санамж!"),r.a.createElement("p",{className:"small"},"Бүртгэлтэй Цэгийн дугаарыг хийх ёстойг анхаарна уу"))))),d?r.a.createElement("div",{className:"invalid-feedback"},'Уучлаарай ийм нэртэй "Цэгийн дугаар алга" Дахин шалгана уу.'):null,e.error_msg))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"2."),r.a.createElement("th",{style:{width:"15%"}},"Ойролцоо байрлал:"),r.a.createElement("td",{colSpan:"4",scope:"rowgroup"},r.a.createElement("input",{name:"oiroltsoo_bairlal",type:"text",id:"oiroltsoo_bairlal",className:"form-control"+(f||e.bairlal_msg.length>0?" is-invalid":""),onChange:function(t){return e.handleInput("oiroltsoo_bairlal",t)},value:h}),f?r.a.createElement("div",{className:"invalid-feedback"},"Хоосон байна."):null,e.bairlal_msg)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"3."),r.a.createElement("th",{style:{width:"15%"}},"Эвдэрсэн байдал:"),r.a.createElement("td",{colSpan:"4",scope:"rowgroup"},r.a.createElement(c.b,{as:"select",name:"evdersen_baidal",type:"text",id:"id_evdersen_baidal",className:"form-control"+(_.evdersen_baidal&&b.evdersen_baidal?" is-invalid":"")},r.a.createElement("option",{value:""},"--- Сонгоно уу ---"),r.a.createElement("option",{value:"Эвдэрсэн"},"Эвдэрсэн"),r.a.createElement("option",{value:"Төв гэмтсэн"},"Төв гэмтсэн"),r.a.createElement("option",{value:"Хазайсан"},"Хазайсан"),r.a.createElement("option",{value:"Дарагдсан"},"Дарагдсан"),r.a.createElement("option",{value:"Бусад"},"Бусад")),r.a.createElement(c.a,{name:"oiroltsoo_bairlal",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"4."),r.a.createElement("th",{style:{width:"15%"}},"Нөхцөл/шалтгаан:"),r.a.createElement("td",{colSpan:"4",scope:"rowgroup"},r.a.createElement(c.b,{className:"form-control "+(_.nohtsol_baidal&&b.nohtsol_baidal?" is-invalid":""),component:"textarea",name:"nohtsol_baidal",id:"id_nohtsol_baidal",type:"textarea"}),r.a.createElement(c.a,{name:"nohtsol_baidal",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"5."),r.a.createElement("th",{className:"text-center",colSpan:"4",scope:"rowgroup",style:{width:"15%"}},"Орчны фото зураг:",r.a.createElement("div",{type:"button",onMouseOver:function(t){return e.handleBoxOver("zurag",t)},onMouseLeave:function(t){return e.handleBoxLeave("zurag",t)},className:"float-right"},r.a.createElement("i",{className:"fa fa-exclamation-circle float-right"},r.a.createElement("div",{className:"alert alert-dark rounded position-absolute d-none"+"".concat(e.state.showBox?" d-block":""),style:{zIndex:"1"},role:"alert"},r.a.createElement("h6",{className:"alert-heading"},"Санамж!"),r.a.createElement("p",null,' Зургийн хэмжээ "1MB" байна. ".jpeg" болон ".png" байх ёстой')))))),r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center",colSpan:"2",scope:"rowgroup"},"холоос"),r.a.createElement("th",{className:"text-center",colSpan:"2",scope:"rowgroup"},"ойроос")),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2",scope:"rowgroup",style:{width:"50%"}},r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"zurag_hol")},imgExtension:[".jepg",".png"],maxFileSize:1529173,singleImage:!0,label:"",fileSizeError:'Хэт их байна "1MB" зураг',fileTypeError:"энэ зураг буруу байна. Зөвхөн .jpeg, .png өргөтгөлтэй зураг"}),a>=0?n?r.a.createElement("center",null,r.a.createElement("img",{src:n,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",{className:"text-primary"},"Зураг байхгүй байна.")):null),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"zurag_oir")},imgExtension:[".jpg",".png"],maxFileSize:1529173,singleImage:!0,label:"",fileSizeError:'Хэт их байна "1MB" зураг',fileTypeError:"энэ зураг буруу байна. Зөвхөн .jpeg, .png өргөтгөлтэй зураг"}),a>=0?o?r.a.createElement("center",null,r.a.createElement("img",{src:o,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",{className:"text-primary"},"Зураг байхгүй байна.")):null)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"}),r.a.createElement("td",{colSpan:"4",scope:"rowgroup"},r.a.createElement("button",{type:"button",className:"btn gp-btn-primary btn-block",onClick:function(t){return e.showMore(t)}},g?r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-caret-up","aria-hidden":"true"})," ",r.a.createElement("b",null,"Хаах")):r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-caret-down","aria-hidden":"true"})," ",r.a.createElement("b",null,"Илүү олон"))))),r.a.createElement("tr",{className:g?"d-show":"d-none"},r.a.createElement("th",{className:"text-center",colSpan:"2",scope:"rowgroup"},"Баруун"),r.a.createElement("th",{className:"text-center",colSpan:"2",scope:"rowgroup"},"Зүүн")),r.a.createElement("tr",{className:g?"d-show":"d-none"},r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"zurag_baruun")},imgExtension:[".jpg",".png"],maxFileSize:1529173,singleImage:!0,label:"",fileSizeError:'Хэт их байна "1MB" зураг',fileTypeError:"энэ зураг буруу байна. Зөвхөн .jpeg, .png өргөтгөлтэй зураг"}),a>=0?l?r.a.createElement("center",null,r.a.createElement("img",{src:l,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",{className:"text-primary"},"Зураг байхгүй байна.")):null),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"zurag_zuun")},imgExtension:[".jpg",".png"],maxFileSize:5529173,singleImage:!0,label:"",fileSizeError:'Хэт их байна "1MB" зураг',fileTypeError:"энэ зураг буруу байна. Зөвхөн .jpeg, .png өргөтгөлтэй зураг"}),a>=0?u?r.a.createElement("center",null,r.a.createElement("img",{src:u,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",{className:"text-primary"},"Зураг байхгүй байна.")):null)),r.a.createElement("tr",{className:g?"d-show":"d-none"},r.a.createElement("th",{className:"text-center",colSpan:"2",scope:"rowgroup"},"Хойно"),r.a.createElement("th",{className:"text-center",colSpan:"2",scope:"rowgroup"},"Өмнө")),r.a.createElement("tr",{className:g?"d-show":"d-none"},r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"zurag_hoid")},imgExtension:[".jpg",".png"],maxFileSize:5529173,singleImage:!0,label:"",fileSizeError:'Хэт их байна "1MB" зураг',fileTypeError:"энэ зураг буруу байна. Зөвхөн .jpeg, .png өргөтгөлтэй зураг"}),a>=0?m?r.a.createElement("center",null,r.a.createElement("img",{src:m,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",{className:"text-primary"},"Зураг байхгүй байна.")):null),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"zurag_omno")},imgExtension:[".jpg",".png"],maxFileSize:1529173,singleImage:!0,label:"",fileSizeError:'Хэт их байна "1MB" зураг',fileTypeError:"энэ зураг буруу байна. Зөвхөн .jpeg, .png өргөтгөлтэй зураг"}),a>=0?p?r.a.createElement("center",null,r.a.createElement("img",{src:p,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",{className:"text-primary"},"Зураг байхгүй байна.")):null)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"6."),r.a.createElement("th",{style:{width:"15%"}},"Сэргээх талаар таны санал:"),r.a.createElement("td",{colSpan:"4",scope:"rowgroup"},r.a.createElement(c.b,{className:"form-control "+(_.sergeeh_sanal&&b.sergeeh_sanal?" is-invalid":""),as:"select",name:"sergeeh_sanal",id:"id_sergeeh_sanal",type:"textarea"},r.a.createElement("option",{value:""},"--- Сонгоно уу ---"),r.a.createElement("option",{value:"Шаардлагагүй"},"Шаардлагагүй"),r.a.createElement("option",{value:"Сэргээх"},"Сэргээх"),r.a.createElement("option",{value:"Шилжүүлэх"},"Шилжүүлэх"),r.a.createElement("option",{value:"Шинээр байгуулах"},"Шинээр байгуулах")),r.a.createElement(c.a,{name:"sergeeh_sanal",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"7."),r.a.createElement("th",{style:{width:"15%"}},"GPS-ийн хэмжилт хийх боломжтой эсэх:"),r.a.createElement("td",{colSpan:"2",scope:"rowgroup"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("input",{type:"checkbox",id:"hemjilt_hiih_bolomj1",checked:!!e.state.hemjilt_hiih_bolomj,onChange:function(t){return e.handleCheckGroup("hemjilt_hiih_bolomj",t,!0)},value:e.state.hemjilt_hiih_bolomj}),r.a.createElement("label",{htmlFor:"hemjilt_hiih_bolomj1"},"Тийм"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"checkbox",id:"hemjilt_hiih_bolomj2",checked:!e.state.hemjilt_hiih_bolomj,onChange:function(t){return e.handleCheckGroup("hemjilt_hiih_bolomj",t,!1)},value:e.state.hemjilt_hiih_bolomj}),r.a.createElement("label",{htmlFor:"hemjilt_hiih_bolomj2"},"Үгүй")))))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:v||S},v&&r.a.createElement("i",{className:"fa fa-spinner fa-spin"}),v&&r.a.createElement("a",{className:"text-light"},"Шалгаж байна."),!v&&"Нэмэх")),r.a.createElement("datalist",{id:"tsegList"},e.datalist))),r.a.createElement(y.a,{modalAction:function(){return e.modalClose()},status:e.state.modal_alert_status,title:"Амжилттай нэмлээ",model_type_icon:"success"})))}))}}])&&Oe(t.prototype,a),n&&Oe(t,n),m}(n.Component);function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Me(e);if(t){var r=Me(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Ae(this,a)}}function Ae(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?Re(e):t}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(l,e);var t,a,n,o=Te(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={is_modal_delete_open:!1,is_modal_success_open:!1},t.handleModalSuccessOpen=t.handleModalSuccessOpen.bind(Re(t)),t.handleModalSuccessClose=t.handleModalSuccessClose.bind(Re(t)),t.handleModalDeleteOpen=t.handleModalDeleteOpen.bind(Re(t)),t.handleModalDeleteClose=t.handleModalDeleteClose.bind(Re(t)),t}return t=l,(a=[{key:"handleModalSuccessOpen",value:function(e){e.preventDefault(),this.setState({is_modal_success_open:!0})}},{key:"handleModalSuccessClose",value:function(){this.setState({is_modal_success_open:!1})}},{key:"handleModalDeleteOpen",value:function(e){e.preventDefault(),this.setState({is_modal_delete_open:!0})}},{key:"handleModalDeleteClose",value:function(){this.setState({is_modal_delete_open:!1})}},{key:"render",value:function(){var e=this.props.idx,t=this.props.values,a=t.id,n=t.email,o=t.name,l=t.alban_tushaal,i=(t.utas,t.tseg_id),c=t.is_removed,u=this.state,m=u.is_modal_success_open,p=u.is_modal_delete_open;return r.a.createElement("tr",null,r.a.createElement("td",{scope:"col"},e+1),r.a.createElement("td",{scope:"col"},n),r.a.createElement("td",null,o),r.a.createElement("td",null,l),r.a.createElement("td",null,i),r.a.createElement("td",null,!c&&r.a.createElement(s.c,{to:"/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/".concat(a,"/засах")},r.a.createElement("i",{className:"fa fa-pencil-square-o text-success","aria-hidden":"true"}))),r.a.createElement("td",null,r.a.createElement("button",{href:"#",className:"btn ".concat(c?"btn-success":" gp-btn-primary"),disabled:c?"disabled":"","aria-hidden":"true",onClick:this.handleModalSuccessOpen},c?"Баталгаажсан":"Баталгаажуулах"),m&&r.a.createElement(D.a,{modalClose:this.handleModalSuccessClose,modalAction:this.props.handleTsegSuccess,text:'Та "'.concat(i,'" цэгийг устгахдаа итгэлтэй байна уу?'),title:"Баталгаажуулах уу?",actionNameBack:"    Үгүй",actionNameDelete:"  Тийм",model_type_icon:"warning"})),r.a.createElement("td",null,!c&&r.a.createElement("a",{href:"#",onClick:this.handleModalDeleteOpen},r.a.createElement("i",{className:"fa fa-trash-o text-danger","aria-hidden":"true"})),p&&r.a.createElement(D.a,{modalClose:this.handleModalDeleteClose,modalAction:this.props.handleRemove,text:'Та "'.concat(o,'" нэртэй тохиргоог устгахдаа итгэлтэй байна уу?'),title:"Тохиргоог устгах",model_type_icon:"success"})))}}])&&ze(t.prototype,a),n&&ze(t,n),l}(n.Component);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function qe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Ye(e);if(t){var r=Ye(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Ge(this,a)}}function Ge(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?Je(e):t}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(l,e);var t,a,n,o=Ve(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={currentPage:1,TsegPerPage:20,searchQuery:"",list:[],list_length:null,modal_alert_status:"closed",timer:null,modal_text:"",modal_icon:""},t.paginate=t.paginate.bind(Je(t)),t.handleTsegSuccess=t.handleTsegSuccess.bind(Je(t)),t.handleRemove=t.handleRemove.bind(Je(t)),t.modalClose=t.modalClose.bind(Je(t)),t.modalCloseTime=t.modalCloseTime.bind(Je(t)),t}return t=l,(a=[{key:"paginate",value:function(e,t){var a=this,n=this.state.TsegPerPage;return this.setState({currentPage:e}),_e.paginatedList(e,n,t).then((function(e){return a.setState({list:e.items,list_length:e.items.length}),e}))}},{key:"handleSearch",value:function(e,t){t.target.value.length,this.setState(Fe({},e,t.target.value)),this.paginate(1,t.target.value)}},{key:"handleTsegSuccess",value:function(e){var t=this;_e.tseg_success(e).then((function(e){e.success?(t.setState({modal_alert_status:"open",modal_text:"Амжилттай баталгаажлаа",modal_icon:"success"}),t.paginate(1,""),t.modalCloseTime()):(t.setState({modal_alert_status:"open",modal_text:"Баталгаажуулахад алдаа гарлаа",modal_icon:"danger"}),t.paginate(1,""),t.modalCloseTime())}))}},{key:"handleRemove",value:function(e){var t=this;_e.tseg_remove(e).then((function(e){e.success?(t.setState({modal_alert_status:"open",modal_text:"Амжилттай утсгалаа",modal_icon:"success"}),t.paginate(1,""),t.modalCloseTime()):(t.setState({modal_alert_status:"open",modal_text:"Утгахад алдаа гарлаа",modal_icon:"danger"}),t.modalCloseTime())}))}},{key:"modalCloseTime",value:function(){var e=this;this.state.timer=setTimeout((function(){e.setState({modal_alert_status:"closed"})}),2e3)}},{key:"modalClose",value:function(){clearTimeout(this.state.timer),this.setState({modal_alert_status:"closed"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(s.c,{className:"btn gp-btn-primary float-right my-2",to:"/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/add/"},"Нэмэх"),r.a.createElement("input",{type:"text",className:"form-control col-md-4 float-left",id:"searchQuery",placeholder:"Хайх",onChange:function(t){return e.handleSearch("searchQuery",t)},value:this.state.searchQuery}),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-fluid my-4"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"}," № "),r.a.createElement("th",{scope:"col"}," Email "),r.a.createElement("th",{scope:"col"},"Байгууллага"),r.a.createElement("th",{scope:"col"},"Албан тушаал"),r.a.createElement("th",{scope:"col"},"Цэгийн дугаар"),r.a.createElement("th",null,"Засах"),r.a.createElement("th",null,"Баталгаажуулах"),r.a.createElement("th",null,"Устгах"))),r.a.createElement("tbody",null,0==this.state.list_length?r.a.createElement("tr",null,r.a.createElement("td",null,'"Бүртгэл байхгүй байна"')):this.state.list.map((function(t,a){return r.a.createElement(Le,{key:a,idx:a,values:t,handleTsegSuccess:function(){return e.handleTsegSuccess(t.id)},handleRemove:function(){return e.handleRemove(t.id)}})}))))),r.a.createElement(V.a,{paginate:this.paginate,searchQuery:this.state.searchQuery}),r.a.createElement(y.a,{modalAction:function(){return e.modalClose()},status:this.state.modal_alert_status,title:"".concat(this.state.modal_text),model_type_icon:"".concat(this.state.modal_icon)}))))}}])&&qe(t.prototype,a),n&&qe(t,n),l}(n.Component);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Ke(e);if(t){var r=Ke(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return $e(this,a)}}function $e(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(i,e);var t,a,n,l=He(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=l.call(this,e)).state={},t}return t=i,(a=[{key:"render",value:function(){return r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/",component:We}),r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/add/",component:function(e){return r.a.createElement(Pe,{data:e})}}),r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/:id/засах",component:function(e){return r.a.createElement(Pe,{data:e})}}))}}])&&Ze(t.prototype,a),n&&Ze(t,n),i}(n.Component);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=lt(e);if(t){var r=lt(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return ot(this,a)}}function ot(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(i,e);var t,a,n,l=rt(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),l.call(this,e)}return t=i,(a=[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/gov/forms/tseg-info/tsegpersonal/tseg-personal/",component:de}),r.a.createElement(o.a,{path:"/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/",component:et}),r.a.createElement(o.a,{path:"/gov/forms/tseg-info/tsegpersonal/tseg-list/",component:et}),r.a.createElement(o.a,{exact:!0,path:"/gov/forms/"})))}}])&&at(t.prototype,a),n&&at(t,n),i}(n.Component);function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=dt(e);if(t){var r=dt(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return pt(this,a)}}function pt(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(i,e);var t,a,n,l=mt(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),l.call(this,e)}return t=i,(a=[{key:"render",value:function(){return r.a.createElement("div",{className:""},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/gov/forms/tseg-info/",component:it})))}}])&&ct(t.prototype,a),n&&ct(t,n),i}(n.Component)}}]);
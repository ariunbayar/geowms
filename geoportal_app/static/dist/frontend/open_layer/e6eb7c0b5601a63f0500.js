(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{119:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),o=n.n(r);n(120);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(u,e);var t,n,r,a=s(u);function u(){return i(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return this.props.is_loading?o.a.createElement("div",{className:"loader text-center"},o.a.createElement("div",null,o.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),o.a.createElement("br",null),this.props.text?this.props.text:"Түр хүлээнэ үү...")):null}}])&&l(t.prototype,n),r&&l(t,r),u}(r.Component)},120:function(e,t,n){var r=n(69),o=n(126);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},126:function(e,t,n){(t=n(70)(!1)).push([e.i,".loader {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    background-color: rgba(255,255,255,0.7);\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    z-index: 2;\n}\n\n.suspense-loader {\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    background-color: rgba(255,255,255,0.9);\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    z-index: 10000;\n}\n",""]),e.exports=t},185:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),o=n.n(r);n(229);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,r,a=c(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={items:e.items||[],active_menu:"",is_toggle:!1},t.activeState=t.activeState.bind(u(t)),t}return t=s,(n=[{key:"componentDidMount",value:function(){}},{key:"activeState",value:function(e){this.state.active_menu==e?this.setState({active_menu:"",is_toggle:!1}):this.setState({active_menu:e,is_toggle:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.is_toggle,r=t.items,a=t.active_menu;return o.a.createElement("div",{id:"sidebar",className:n?"sidebar sidebar-left ":"sidebar sidebar-left collapsed",style:{zIndex:1}},o.a.createElement("div",{className:"sidebar-tabs"},o.a.createElement("ul",null,r.map((function(t,n){return t.bottom?null:o.a.createElement("li",{key:n,role:"button",className:a==t.key?"active":""},o.a.createElement("a",{"data-toggle":"tooltip","data-placement":"right",title:t.tooltip,className:"gp-tooltip",onClick:function(){return e.activeState(t.key)}},o.a.createElement("i",{className:t.icon})))}))),o.a.createElement("ul",null,r.map((function(t,n){return t.bottom&&o.a.createElement("li",{key:n,role:"button",className:a==t.key?"active":""},o.a.createElement("a",{"data-toggle":"tooltip","data-placement":"right",title:t.tooltip,onClick:function(){return e.activeState(t.key)}},o.a.createElement("i",{className:t.icon})))})))),o.a.createElement("div",{className:"sidebar-content"},r.map((function(e,t){return o.a.createElement("div",{key:t,className:a==e.key?"sidebar-pane active":"sidebar-pane"},e.title&&o.a.createElement("h1",{className:"sidebar-header"},e.title),o.a.createElement(e.component,null))}))))}}])&&i(t.prototype,n),r&&i(t,r),s}(r.Component)},229:function(e,t,n){var r=n(69),o=n(230);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},230:function(e,t,n){(t=n(70)(!1)).push([e.i,".sidebar-left {\n    border-right: 3px solid transparent;\n}\n\n.sidebar {\n    position: absolute;\n    height: calc(100% - 37px - 96px);\n    top: 3px;\n    left: 3px;\n    bottom: 3px;\n    width: 400px;\n    overflow: hidden;\n    background-color: rgba(255, 255, 255, 0.4);\n    transition: 0.5s;\n}\n.sidebar.collapsed {\n    transition: 0.5s;\n    width: 42px;\n}\n\n@media (min-width: 768px){\n    .sidebar-left {\n        left: 6px;\n    }\n}\n\n@media (max-width: 991px) and (min-width: 768px){\n    .sidebar {\n        width: 305px;\n    }\n}\n\n.sidebar-tabs {\n    top: 0;\n    bottom: 0;\n    height: 100%;\n    background-color: rgba(0, 60, 136, 0.5);\n}\n\n.sidebar-tabs, .sidebar-tabs > ul {\n    position: absolute;\n    width: 40px;\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n}\n\n.sidebar-tabs > ul + ul {\n    bottom: 0;\n}\n\n.sidebar-tabs > ul > li {\n    width: 100%;\n    height: 40px;\n    color: #fff;\n    font-size: 12pt;\n    overflow: hidden;\n    transition: all 80ms;\n}\n.sidebar-tabs > ul > li:hover{\n    background-color: rgba(3, 78, 162, 0.5);\n}\n\n.sidebar-tabs > ul > li.active {\n    color: #fff;\n    background-color: #034ea2;\n}\n\n.sidebar-tabs > ul > li > a {\n    display: block;\n    width: 100%;\n    height: 100%;\n    line-height: 40px;\n    color: inherit;\n    text-decoration: none;\n    text-align: center;\n}\n\n.sidebar-tabs > ul > li > a >.fa {\n    display: inline-block;\n    font-family: FontAwesome;\n    font-style: normal;\n    font-weight: normal;\n    line-height: 1;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n.sidebar-left .sidebar-tabs {\n    left: 0;\n}\n\n.sidebar-tabs {\n    overflow: hidden;\n}\n\n.sidebar-tabs, .sidebar-tabs > ul {\n    position: absolute;\n    width: 40px;\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n}\n\n@media (min-width: 768px){\n    .sidebar-tabs {\n        border-radius: 2px 0 0 2px;\n    }\n}\n\n\n.sidebar-left .sidebar-content {\n    left: 43px;\n    right: 0;\n}\n\n.sidebar-content {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    background-color: rgba(255, 255, 255, 0.95);\n    overflow-x: hidden;\n    overflow-y: auto;\n}\n\n@media (min-width: 768px){\n    .sidebar-content {\n        border-radius: 0 2px 2px 0;\n    }\n}\n\n.sidebar-pane.active {\n    display: block;\n}\n@media (max-width: 991px) and (min-width: 768px){\n    .sidebar-pane {\n        min-width: 265px;\n    }\n}\n\n.sidebar-pane {\n    display: none;\n    left: 0;\n    right: 0;\n    box-sizing: border-box;\n    padding: 10px 20px;\n}\n\n.sidebar-header {\n    margin: -10px -20px 0;\n    height: 40px;\n    padding: 0 20px;\n    line-height: 40px;\n    font-size: 14.4pt;\n    color: #fff;\n    background-color: #034ea2;\n}\n\n.lorem {\n    font-style: italic;\n    color: #AAA;\n}\n",""]),e.exports=t},486:function(e,t,n){"use strict";n.d(t,"a",(function(){return An}));var r=n(0),o=n.n(r),a=(n(245),n(115)),i=n(580),l=n(303),c=n(925),s=n(2),u=n(302),p=n(295),f=n(147),m=n(197),d=n(974),h=n(67),y=n(172),b=n(130),g=n(226),v=n(223),_=n(347),w=n(926),E=n(973),S=n(76),k=n(106),x=n(127),O=n(17),P=n(342),j=n(343),C=n(341),N=n(33),R=n(531),L=n(29),F=n(159),T=n(93),D=n(487),M=n(58),I=n(19);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(a,e);var t,n,r,o=V(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=e||{};(t=o.call(this,{element:document.createElement("div"),target:n.target})).toggleLayer=t.toggleLayer.bind(B(t)),t.initLayer=t.initLayer.bind(B(t)),t.handleClick=t.handleClick.bind(B(t)),t.last_active=null;var r=n.layers.map(t.initLayer),i="суурь-давхаргууд ".concat(I.e," ").concat(I.b),l=t.element;return l.className=i,r.forEach((function(e){return l.appendChild(e)})),t}return t=a,(n=[{key:"initLayer",value:function(e){var t=this,n=e.thumbnail_1x,r=e.thumbnail_2x,o=e.layer,a=e.is_active,i=document.createElement("a");i.setAttribute("href","#"),i.className="суурь-давхарга"+(a?" active":"");var l=document.createElement("img");return l.srcset="".concat(n," 1x, ").concat(r," 2x"),i.appendChild(l),i.addEventListener("click",(function(e){e.preventDefault(),t.handleClick(i,o)})),this.toggleLayer(!0===a,i,o),i}},{key:"toggleLayer",value:function(e,t,n){this.last_active&&e&&(this.last_active.layer.setVisible(!1),this.last_active.el.classList.toggle("active",!1)),n.setVisible(e),t.classList.toggle("active",e),e&&(this.last_active={el:t,layer:n})}},{key:"handleClick",value:function(e,t){this.last_active&&this.last_active.el===e||this.toggleLayer(!0,e,t)}}])&&A(t.prototype,n),r&&A(t,r),a}(M.a),X=n(14),q=n.n(X);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),e}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return te(this,n)}}function te(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?ne(e):t}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oe=function(e){$(n,e);var t=ee(n);function n(e){var r;return Y(this,n),(r=t.call(this,e)).handleCoordinateSet=r.handleCoordinateSet.bind(ne(r)),r}return Z(n,[{key:"componentDidMount",value:function(){this.handleCoordinateSet()}},{key:"componentDidUpdate",value:function(e){this.handleCoordinateSet()}},{key:"handleCoordinateSet",value:function(){var e=q.a.findDOMNode(this);e.focus(),e.select()}},{key:"render",value:function(){return o.a.createElement("input",{type:"text",className:"form-control",onChange:function(){},onBlur:this.props.handleBlur,value:this.props.coordinate})}}]),n}(r.Component),ae=function(e){$(n,e);var t=ee(n);function n(e){var r;Y(this,n);var o=e||{};(r=t.call(this,{element:document.createElement("div"),target:o.target})).is_component_initialized=!1;var a="coordinate-copy-control ".concat(I.b," ").concat(I.c);return r.element.className=a,r.renderComponent=r.renderComponent.bind(ne(r)),r.toggleControl=r.toggleControl.bind(ne(r)),r}return Z(n,[{key:"toggleControl",value:function(e){this.element.classList.toggle(I.c,!e)}},{key:"renderComponent",value:function(e){var t=this;e.handleBlur=function(){return t.toggleControl(!1)},this.is_component_initialized||(q.a.render(o.a.createElement(oe,e),this.element),this.is_component_initialized=!0),q.a.hydrate(o.a.createElement(oe,e),this.element)}},{key:"setCoordinate",value:function(e){this.renderComponent({coordinate:e}),this.toggleControl(!0)}}]),n}(M.a);n(22);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se={loadWMSLayers:function(e){var t=le({},{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}});return fetch("/дэд-сан/".concat(e,"/давхаргууд/"),t).then(pe)},loadBaseLayers:function(){var e=le({},{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}});return fetch("/суурь-давхарга/",e).then(pe)},payment:function(e,t,n){var r=le(le({},fe()),{},{body:JSON.stringify({price:e,description:t,data_id:n})});return fetch("/back/payment/purchase/",r).then(pe)},paymentDraw:function(e){var t=le(le({},fe()),{},{body:JSON.stringify(e)});return fetch("/payment/purchase-draw/",t).then(pe)},paymentCalcPrice:function(e,t,n,r){var o=le(le({},fe()),{},{body:JSON.stringify({area:e,layer_list:t,feature_info_list:n,selected_type:r})});return fetch("/payment/calc-price/",o).then(pe)},purchaseFromCart:function(e){var t=le(le({},fe()),{},{body:JSON.stringify({datas:e})});return fetch("/payment/purchase-from-cart/",t).then(pe)},searchPoint:function(e){var t=le(le({},fe()),{},{body:JSON.stringify({point_id:e})});return fetch("/gov/api/tseg-personal/find-point/",t).then(pe)},getAimags:function(){var e=le({},{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}});return fetch("/api/aimag/",e).then(pe)},getSum:function(e){var t=le(le({},fe()),{},{body:JSON.stringify({aimag_name:e})});return fetch("/api/sum/",t).then(pe)},getUser:function(){var e=le({},{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}});return fetch("/get_user/",e).then(pe)},checkButtonEnableWithPdf:function(e){var t=le(le({},fe()),{},{body:JSON.stringify({pdf_id:e})});return fetch("/payment/check-enable-pdf/",t).then(pe)},getPopUpInfo:function(e,t){var n=le(le({},fe()),{},{body:JSON.stringify({layers_code:e,coordinate:t})});return fetch("/payment/get-popup-info/",n).then(pe)},checkButtonEnableWithId:function(e){var t=le(le({},fe()),{},{body:JSON.stringify({geo_id:e})});return fetch("/payment/check-enable-pdf-id/",t).then(pe)},getFeatureInfo:function(e,t){var n=le(le({},fe()),{},{body:JSON.stringify({layer_codes:e,coordinates:t})});return fetch("/payment/get-feature-info/",n).then(pe)},getGeom:function(e){var t=le(le({},fe()),{},{body:JSON.stringify({geo_id:e})});return fetch("/payment/get-geom/",t).then(pe)},getContainGeoms:function(e,t,n){var r=le(le({},fe()),{},{body:JSON.stringify({layers_code:e,geometry:t,km_scale:n})});return fetch("/payment/get-contain-geoms/",r).then(pe)}};function ue(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),r=0;r<n.length;r++){var o=n[r].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}function pe(e){return e.text().then((function(t){var n=t&&JSON.parse(t);if(!e.ok){-1!==[401,403].indexOf(e.status)&&location.reload(!0);var r=n&&n.message||e.statusText;return Promise.reject(r)}return n}))}function fe(){return{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRFToken":ue("csrftoken")}}}function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,n){return t&&be(e.prototype,t),n&&be(e,n),e}function ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ee(this,n)}}function Ee(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?Se(e):t}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=function(e){ve(n,e);var t=we(n);function n(e){var r;return ye(this,n),(r=t.call(this,e)).state={price:3e3,description:"Газрын бүрхэвч, газар ашиглалт",payload:!1,data_id:2},r}return ge(n,[{key:"handlePayment",value:function(){var e=this;this.setState({payload:!0});var t=this.state,n=t.price,r=t.description,o=t.data_id;se.payment(n,r,o).then((function(t){var n=t.payment_id;n&&setTimeout((function(){e.props.history.push("/payment/purchase/".concat(n,"/"))}),1e3)}))}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.is_complete,r=this.state.payload;return o.a.createElement("div",null,o.a.createElement("div",{className:"show d-block modal modal-dialog"},o.a.createElement("div",{className:"modal-dialog-scrollable modal-dialog-centered"},o.a.createElement("div",{className:"modal-content animated swing"},o.a.createElement("div",{className:"modal-header",onClick:this.props.handleClose},o.a.createElement("h5",{className:"modal-title"},"Дэлгэрэнгүй мэдээлэл"),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"×"))),o.a.createElement("div",{className:"modal-body"},!n&&o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement("strong",null,"Түр хүлээнэ үү..."),o.a.createElement("div",{className:"spinner-border ml-auto",role:"status","aria-hidden":"true"})),n&&t.map((function(e,t){var n=de(e,2),r=n[0],a=n[1];return o.a.createElement("div",{key:t},o.a.createElement("h6",null,r),o.a.createElement("table",{className:"table"},o.a.createElement("tbody",null,a.map((function(e,t){var n=de(e,2),r=n[0],a=n[1];return o.a.createElement("tr",{key:t},o.a.createElement("th",null,r),o.a.createElement("td",null,a))})))))}))),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",onClick:this.props.handleClose,className:"btn btn-secondary","data-dismiss":"modal"},"Буцах"),r?o.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Ачааллаж байна...",o.a.createElement("a",{className:"spinner-border text-light",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading..."))):null)))),o.a.createElement("div",{className:"modal-backdrop fade show"}))}}]),n}(r.Component),Oe=function(e){ve(n,e);var t=we(n);function n(e){var r;ye(this,n);var o=e||{};return(r=t.call(this,{element:document.createElement("div"),target:o.target})).is_component_initialized=!1,r.element.className="modal fade show",r.renderComponent=r.renderComponent.bind(Se(r)),r.toggleControl=r.toggleControl.bind(Se(r)),r}return ge(n,[{key:"toggleControl",value:function(e){this.element.classList.toggle("d-block",e)}},{key:"renderComponent",value:function(e){var t=this;e.handleClose=function(){return t.toggleControl(!1)},this.is_component_initialized||(q.a.render(o.a.createElement(xe,e),this.element),this.is_component_initialized=!0),q.a.hydrate(o.a.createElement(xe,e),this.element)}},{key:"showModal",value:function(e,t){this.toggleControl(!0),this.renderComponent({content:e,is_complete:t})}}]),n}(M.a);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t,n){return t&&Ce(e.prototype,t),n&&Ce(e,n),e}function Re(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){var o=Me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Te(this,n)}}function Te(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?De(e):t}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ie=function(e){Re(n,e);var t=Fe(n);function n(e){var r;return je(this,n),(r=t.call(this,e)).div=[],r.xy=[],r.state={coordinate:[],torf:!1,data:[],x:null,y:null,is_button:!1,is_purchase:!1,alert_msg:"",max_size:8,first_number:0,is_again:!1},r.removeList=r.removeList.bind(De(r)),r.checkDataForPurchase=r.checkDataForPurchase.bind(De(r)),r.moreItems=r.moreItems.bind(De(r)),r.undoItems=r.undoItems.bind(De(r)),r.makeList=r.makeList.bind(De(r)),r}return Ne(n,[{key:"componentDidMount",value:function(){this.makeList()}},{key:"componentDidUpdate",value:function(e,t){var n=this;(e.geom_name!==this.props.geom_name&&this.makeList(),e.point_id===this.props.point_id&&this.props.is_again_clicked)&&(this.state.data.length>0&&this.state.data.filter((function(e){return e.id==n.props.point_id})).length>0||this.makeList());t.data!==this.state.data&&0==this.state.data.length&&this.setState({is_button:!0})}},{key:"makeList",value:function(){var e=this,t=this.props,n=(t.coordinate,t.torf),r=t.point_name,o=t.code,a=t.point_id,i=t.geom_name,l=t.pdf_id_props;if(1==n&&""!==i){var c="Нэр байхгүй байна",s="pdf байхгүй";l&&(s=l),r&&(c=r);var u={name:c,id:a,code:o,geom_name:i,pdf_id:s};if(this.state.data.length>0)if(this.state.data.filter((function(e){return e.geom_name==u.geom_name})).length>0)this.setState({alert_msg:"Адилхан цэг байна !",success:!1}),setTimeout((function(){e.setState({alert_msg:"",success:!1})}),2e3);else{var p=this.state.data;p.push(u),this.setState({data:p,is_button:!1})}else this.setState({data:[u],is_button:!1})}}},{key:"removeList",value:function(e){var t=this.state.data;if(1==t.length&&this.setState({data:[]}),t.length>1){if(t.every((function(t){return e}))){var n=t.filter((function(t){return t.geom_name!==e}));this.setState({data:n})}}}},{key:"checkDataForPurchase",value:function(){var e=this;this.setState({is_purchase:!0}),this.state.data.length>0?se.purchaseFromCart(this.state.data).then((function(t){var n=t.success,r=t.msg,o=t.payment_id;n&&(e.setState({alert_msg:r,success:n}),setTimeout((function(){e.setState({data:[],is_purchase:!1,is_button:!0}),window.location.href="/payment/purchase/".concat(o,"/")}),1e3)),n||(e.setState({is_purchase:!1,is_button:!1,alert_msg:r}),setTimeout((function(){e.setState({alert_msg:""})}),2e3))})).catch((function(e){return alert("Алдаа гарсан тул хуудсыг дахин ачааллуулна уу")})):this.setState({alert_msg:"Уучлаарай сагс хоосон байна"})}},{key:"moreItems",value:function(){var e=this.state,t=e.max_size,n=e.first_number,r=t,o=r-n;n+=o,r+=o,this.setState({first_number:n,max_size:r,undoItem:!0})}},{key:"undoItems",value:function(){var e=this.state,t=e.max_size,n=e.first_number,r=n,o=t,a=o-n;r-=a,o-=a,this.setState({max_size:o,first_number:r}),r<=0&&this.setState({undoItem:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=(t.coordinate,t.torf,t.data),r=(t.is_button,t.alert_msg),a=t.success,i=t.max_size,l=t.first_number,c=t.undoItem,s=this.props;s.x,s.y;return n.length>0?(this.div=[],n.slice(l,i).map((function(t,n){var r=n+1+l;e.div.push(o.a.createElement("div",{className:"rounded bg-light card-baraa row shadow-sm bg-white",key:n},o.a.createElement("div",{className:"col-md-1 icon"},o.a.createElement("i",{type:"button",className:"fa fa-trash text-danger",onClick:function(){return e.removeList(t.geom_name)}})),o.a.createElement("span",{className:"col-md-10 name"},o.a.createElement("b",null,r,". Цэгийн нэр: "),t.name)))}))):this.div=[],o.a.createElement("div",{className:"root"},""!==r&&a?o.a.createElement("div",{className:"alert alert-success alert-custom-css",role:"alert"},r):o.a.createElement("div",{className:"alert alert-danger alert-custom-css "+(""!==r?"d-block":"d-none"),role:"alert"},r),o.a.createElement("div",null,o.a.createElement("div",{className:"cart-button"},o.a.createElement("div",{className:"card-count"},n.length),o.a.createElement("div",{className:"card-icon"},o.a.createElement("i",{className:"fa fa-shopping-cart","aria-hidden":"true"}))),o.a.createElement("div",{className:"cart-list"},c?o.a.createElement("a",{type:"button",className:"btn-outline btn-block p-0 my-2 m-0 text-center",onClick:function(){return e.undoItems()}},o.a.createElement("i",{style:{fontSize:"30px"},className:"fa fa-angle-up gp-text-primary","aria-hidden":"true"})):null,this.div,n.length>i?o.a.createElement("a",{type:"button",className:"btn-outline btn-block p-0 my-2 m-0 text-center",onClick:function(){return e.moreItems()}},o.a.createElement("i",{style:{fontSize:"30px"},className:"fa fa-angle-down gp-text-primary","aria-hidden":"true"})):null,this.state.is_purchase?o.a.createElement("button",{className:"btn gp-btn-primary my-4",disabled:!0},o.a.createElement("div",{className:"spinner-border",role:"status"},o.a.createElement("span",{className:"sr-only"}))," Түр хүлээнэ үү..."):o.a.createElement("button",{className:"btn gp-btn-primary pay-button my-4",onClick:function(){return e.checkDataForPurchase()},disabled:!0},"Засвартай байгаа"))))}}]),n}(r.Component),ze=function(e){Re(n,e);var t=Fe(n);function n(e){var r;je(this,n);var o=e||{};return(r=t.call(this,{element:document.createElement("div"),target:o.target})).is_component_initialized=!0,r.is_cart=!1,r.element.className="d-block",r.renderComponent=r.renderComponent.bind(De(r)),r.showModal=r.showModal.bind(De(r)),r}return Ne(n,[{key:"renderComponent",value:function(e){this.is_component_initialized||(q.a.render(o.a.createElement(Ie,e),this.element),this.is_component_initialized=!0),q.a.hydrate(o.a.createElement(Ie,e),this.element)}},{key:"showModal",value:function(e,t,n,r,o,a,i,l,c,s){this.renderComponent({coordinate:e,torf:t,x:n,y:r,point_name:o,code:a,point_id:i,is_again_clicked:l,geom_name:c,pdf_id_props:s})}}]),n}(M.a);function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t,n){return t&&Be(e.prototype,t),n&&Be(e,n),e}function Je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ke(e);if(t){var o=Ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?Ye(e):t}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze=function(e){Je(n,e);var t=qe(n);function n(e){var r;return Ue(this,n),(r=t.call(this,e)).state={price:3e3,description:"Газрын бүрхэвч, газар ашиглалт",payload:!1,data_id:2,is_button:r.props.is_button},r}return We(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.content,n=e.is_button;t&&this.setState({is_button:!n})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.content,r=t.is_button;e.content!==n&&null!==n&&n.length>=1&&this.setState({is_button:!r})}},{key:"handlePayment",value:function(){var e=this;this.setState({payload:!0});var t=this.state,n=t.price,r=t.description,o=t.data_id;se.payment(n,r,o).then((function(t){var n=t.payment_id;n&&setTimeout((function(){e.props.history.push("/payment/purchase/".concat(n,"/"))}),1e3)}))}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.is_complete,r=e.feature_price,a=(e.geodb_export_field,e.geodb_pk_field,e.geodb_schema,e.geodb_table,this.state),i=a.payload,l=a.is_button;return o.a.createElement("div",null,o.a.createElement("div",{className:"show d-block modal"},o.a.createElement("div",{className:"modal-dialog modal-dialog-scrollable"},o.a.createElement("div",{className:"modal-content animated swing"},o.a.createElement("button",{type:"button",className:"close border","data-dismiss":"modal","aria-label":"Close",onClick:this.props.handleClose},o.a.createElement("span",{"aria-hidden":"true"},"×")),o.a.createElement("div",{className:"modal-body"},!n&&o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement("strong",null,"Түр хүлээнэ үү..."),o.a.createElement("div",{className:"spinner-border ml-auto",role:"status","aria-hidden":"true"})),n&&t.map((function(e,t){var n=Ge(e,2),a=(n[0],n[1]);return o.a.createElement("div",{key:t},o.a.createElement("h6",{className:"text-center"},"Цэгийн мэдээлэл"),o.a.createElement("table",{className:"table"},o.a.createElement("tbody",null,a.map((function(e,t){var n=Ge(e,2),r=n[0],a=n[1];return"point_id"==r?o.a.createElement("tr",{key:t},o.a.createElement("th",null,"Цэгийн дугаар:"),o.a.createElement("td",null,a)):"point_name"==r?o.a.createElement("tr",{key:t},o.a.createElement("th",null,"Цэгийн Нэр:"),o.a.createElement("td",null,a)):"id"==r?o.a.createElement("tr",{key:t},o.a.createElement("th",null,"Цэгийн дахин давтагдашгүй дугаар:"),o.a.createElement("td",null,a)):"point_class_name"==r?o.a.createElement("tr",{key:t},o.a.createElement("th",null,"Сүлжээний төрөл:"),o.a.createElement("td",null,a)):null})),a.map((function(e,t){var n=Ge(e,2),r=n[0],a=n[1];return"aimag"==r?o.a.createElement("tr",{key:t},o.a.createElement("th",null,"Аймаг:"),o.a.createElement("td",null,a)):"sum"==r?o.a.createElement("tr",{key:t},o.a.createElement("th",null,"Сум:"),o.a.createElement("td",null,a)):"mclass"==r?o.a.createElement("tr",{key:t},o.a.createElement("th",null,"Сүлжээний зэрэг:"),o.a.createElement("td",null,a)):null})),o.a.createElement("tr",null,o.a.createElement("th",null,"Трапецийн дугаар(1:100000)"),o.a.createElement("td",null,a.map((function(e,t){var n=Ge(e,2),r=n[0],a=n[1];return"sheet1"==r?o.a.createElement("a",{key:t},a,"-"):"sheet2"==r?o.a.createElement("a",{key:t},parseInt(a),"-"):"sheet3"==r?o.a.createElement("a",{key:t},parseInt(a)):null})))),o.a.createElement("tr",{key:"price"},o.a.createElement("th",null,"Үнэ"),o.a.createElement("td",null,r)))))}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12 mb-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-8 col-sm-6 d-flex justify-content-center"},o.a.createElement("button",{type:"button",className:"btn btn-lg gp-btn-primary",onClick:this.props.handlePointToCart,disabled:l},o.a.createElement("i",{className:"fa fa-shopping-cart"}),"  Сагсанд нэмэх")),o.a.createElement("div",{className:"col-sm-6 float-right"},o.a.createElement("a",{href:"/profile/tseg-personal/tseg-info/tseg-personal/",className:"btn btn-lg gp-btn-primary ml-3"},o.a.createElement("i",{className:"fa fa-location-arrow mr-2"}),"Цэг нэмэх")),o.a.createElement("div",{className:"col-4 col-sm-6 d-flex justify-content-center"},i?o.a.createElement("button",{type:"button",className:"btn btn-lg btn-secondary","data-dismiss":"modal"},"Ачааллаж байна...",o.a.createElement("a",{className:"spinner-border text-light",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading..."))):null))))))),o.a.createElement("div",{className:"modal-backdrop fade show"}))}}]),n}(r.Component),$e=function(e){Je(n,e);var t=qe(n);function n(e){var r;Ue(this,n);var o=e||{};return(r=t.call(this,{element:document.createElement("div"),target:o.target})).comp={cart:new ze},r.is_component_initialized=!1,r.element.className="modal fade show",r.renderComponent=r.renderComponent.bind(Ye(r)),r.toggleControl=r.toggleControl.bind(Ye(r)),r}return We(n,[{key:"toggleControl",value:function(e){this.element.classList.toggle("d-block",e)}},{key:"handlePointToCart",value:function(e,t,n){e(!0,t,n),this.toggleControl(!1)}},{key:"renderComponent",value:function(e){var t=this;e.handleClose=function(){return t.toggleControl(!1)},e.handlePointToCart=function(){return t.handlePointToCart(e.func,e.content,e.code)},e.is_button=!0,this.is_component_initialized||(q.a.render(o.a.createElement(Ze,e),this.element),this.is_component_initialized=!0),q.a.hydrate(o.a.createElement(Ze,e),this.element)}},{key:"showModal",value:function(e,t,n,r,o,a,i,l,c){this.toggleControl(!0),this.renderComponent({feature_price:e,geodb_export_field:t,geodb_pk_field:n,geodb_schema:r,geodb_table:o,code:a,content:i,is_complete:l,func:c})}}]),n}(M.a);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t,n){return t&&tt(e.prototype,t),n&&tt(e,n),e}function rt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ct(e);if(t){var o=ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return it(this,n)}}function it(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?lt(e):t}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var st=function(e){rt(n,e);var t=at(n);function n(e){var r;return et(this,n),(r=t.call(this,e)).state={total_price:0,description:"Газрын бүрхэвч, газар ашиглалт",handlePaymentIsLoad:!1,types:["shp","jpeg","png","tiff","pdf"],selected_type:""},r.handlePayment=r.handlePayment.bind(lt(r)),r.onChangeType=r.onChangeType.bind(lt(r)),r.closeModal=r.closeModal.bind(lt(r)),r}return nt(n,[{key:"onChangeType",value:function(e){var t=this,n=this.props,r=n.area,o=n.layer_list,a=n.feature_info_list,i=e.target.value;this.setState({selected_type:i}),se.paymentCalcPrice(r,o,a,i).then((function(e){var n=e.success,r=e.total_price;n&&t.setState({total_price:r})}))}},{key:"closeModal",value:function(){this.setState({total_price:0,selected_type:""}),this.props.handleClose()}},{key:"handlePayment",value:function(){var e=this;this.setState({handlePaymentIsLoad:!0});var t=this.state,n=t.description,r=t.selected_type,o=t.total_price,a=this.props,i=a.coodrinatLeftTop,l=a.coodrinatRightBottom,c=a.layer_info.bundle,s=a.area,u=a.feature_info_list,p=a.layer_list,f={price:o,description:n,coodrinatLeftTop:i,coodrinatRightBottom:l,bundle_id:c.id,area:s.output,area_type:s.type,feature_info_list:u,layer_list:p,selected_type:r};se.paymentDraw(f).then((function(e){var t=e.success,n=e.payment_id;t&&(window.location.href="/payment/purchase/polygon/".concat(n,"/"))})).catch((function(t){alert("Алдаа гарсан байна"),e.setState({handlePaymentIsLoad:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.types,r=t.total_price,a=this.props,i=a.layer_info,l=a.is_loading,c=a.area,s=a.feature_info_list;return o.a.createElement("div",null,o.a.createElement("div",{className:"show d-block modal bd-example-modal-lg",tabIndex:"-1",role:"dialog","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header",onClick:function(){return e.closeModal()}},o.a.createElement("h5",{className:"modal-title"},"Худалдан авалтын мэдээлэл"),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"×"))),l?o.a.createElement("div",{className:"modal-body height-30"},o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement("div",{className:"spinner-border gp-text-primary",role:"status"}))):o.a.createElement("div",{className:"modal-body"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"recipient-name",className:"col-form-label"},"Татаж авах төрөл:"),o.a.createElement("select",{className:"form-control",onChange:function(t){return e.onChangeType(t)}},o.a.createElement("option",{value:""},"--- Ямар төрлөөр авахаа сонгоно уу ---"),n.map((function(e,t){return o.a.createElement("option",{key:t,value:e},".",e)})))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"recipient-name",className:"col-form-label"},"Худалдан авах талбайн хэмжээ:"),o.a.createElement("span",{className:"form-control",id:"size"},c.output,c.type,o.a.createElement("sup",null,"2"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"recipient-name",className:"col-form-label"},"Худалдан авах мөнгөн дүн:"),o.a.createElement("span",{className:"form-control",id:"price"},r,"₮"))),o.a.createElement("div",{className:"col-md-6"},o.a.createElement("ul",null,i.wms_list.map((function(e,t){var n=e.name,r=e.layers,a=[],i=n;return r.map((function(e,t){var n=e.name,r=e.code;return s.map((function(e,t){e.layer_code==r&&a.push(n)}))})),a.length>0&&o.a.createElement("li",{key:t},i,o.a.createElement("ul",null,a.map((function(e,t){return o.a.createElement("li",{key:t},e)}))))}))))))),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",onClick:function(){return e.closeModal()},className:"btn btn-secondary"},"Буцах"),o.a.createElement("div",{className:"form-group"},this.state.handlePaymentIsLoad?o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:"btn gp-btn-primary"},o.a.createElement("a",{className:"spinner-border text-light",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading...")),o.a.createElement("span",null," Уншиж байна. "))):o.a.createElement("button",{disabled:!0,type:"button",className:"btn gp-btn-primary",onClick:this.handlePayment},"Засвартай байгаа")))))),o.a.createElement("div",{className:"modal-backdrop fade show"}))}}]),n}(r.Component),ut=function(e){rt(n,e);var t=at(n);function n(e){var r;et(this,n);var o=e||{};return(r=t.call(this,{element:document.createElement("div"),target:o.target})).is_component_initialized=!1,r.element.className="modal fade show",r.renderComponent=r.renderComponent.bind(lt(r)),r.toggleControl=r.toggleControl.bind(lt(r)),r}return nt(n,[{key:"toggleControl",value:function(e){this.element.classList.toggle("d-block",e)}},{key:"renderComponent",value:function(e){var t=this;e.handleClose=function(){return t.toggleControl(!1)},this.is_component_initialized||(q.a.render(o.a.createElement(st,e),this.element),this.is_component_initialized=!0),q.a.hydrate(o.a.createElement(st,e),this.element)}},{key:"showModal",value:function(e,t,n,r,o,a,i){this.toggleControl(!0),this.renderComponent({is_loading:e,coodrinatLeftTop:t,coodrinatRightBottom:n,layer_info:r,area:o,feature_info_list:a,layer_list:i})}}]),n}(M.a);n(582);function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ht(e);if(t){var o=ht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dt(this,n)}}function dt(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}M.a;function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Et(e);if(t){var o=Et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?wt(e):t}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(i,e);var t,n,r,a=vt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={name:e.layer.name,code:e.layer.code,tile:e.layer.tile,wms_tile:e.layer.wms_tile,wms_or_cache_ur:e.layer.wms_or_cache_ur,is_visible:e.layer.defaultCheck,legend:e.layer.legend,is_change_color:e.layer.is_change_color,color:e.layer.color},t.toggle=t.toggle.bind(wt(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.state.wms_or_cache_ur?this.state.tile.setVisible(this.props.layer.defaultCheck):this.state.wms_tile.setVisible(this.props.layer.defaultCheck)}},{key:"toggle",value:function(e){this.props.addLayer([this.props.layer],this.props.name,e),this.setState({is_visible:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,r=t.code,a=t.is_visible,i=t.legend,l=t.is_change_color,c=t.color;return o.a.createElement("li",null,o.a.createElement("label",null,o.a.createElement("div",{className:"custom-control custom-switch"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:r,onChange:function(t){return e.toggle(t.target.checked)},checked:a}),o.a.createElement("label",{className:"custom-control-label",htmlFor:r},n))),o.a.createElement("ul",null,o.a.createElement("li",null,i?o.a.createElement("img",{className:"img",src:i}):l&&o.a.createElement("input",{type:"color",value:c,disabled:!0}))))}}])&&bt(t.prototype,n),r&&bt(t,r),i}(r.Component);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ct(e);if(t){var o=Ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jt(this,n)}}function jt(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(i,e);var t,n,r,a=Pt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={layers:e.layers},t}return t=i,(n=[{key:"render",value:function(){var e=this;return o.a.createElement("ul",{style:{listStyle:"none"}},this.state.layers.map((function(t,n){return o.a.createElement(St,{layer:t,addLayer:e.props.addLayer,key:n,name:e.props.name})})))}}])&&xt(t.prototype,n),r&&xt(t,r),i}(r.Component);function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=It(e);if(t){var o=It(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dt(this,n)}}function Dt(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?Mt(e):t}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(l,e);var t,n,a,i=Tt(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).state={name:e.wms.name,tiles:e.wms.tiles,layers:e.wms.layers,is_visible:!0},t.toggle=t.toggle.bind(Mt(t)),t}return t=l,(n=[{key:"toggle",value:function(e){var t=e.target.checked;this.setState({is_visible:t}),this.props.addLayer(this.state.layers,null,t)}},{key:"render",value:function(){var e=this.state,t=e.tiles,n=e.name,a=e.layers,i=e.is_visible;return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"my-1"},o.a.createElement("div",{className:"custom-control custom-switch font-weight-bold"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:n,onChange:this.toggle,checked:i}),o.a.createElement("label",{className:"custom-control-label",htmlFor:n},n))),o.a.createElement(Nt,{name:n,layers:a,addLayer:this.props.addLayer,tileWMS:t}))}}])&&Lt(t.prototype,n),a&&Lt(t,a),l}(r.Component);function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t,n){return t&&Vt(e.prototype,t),n&&Vt(e,n),e}function Bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ht(e);if(t){var o=Ht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(e,t){return!t||"object"!==At(t)&&"function"!=typeof t?qt(e):t}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yt=function(e){Bt(n,e);var t=Jt(n);function n(e){var r;return Gt(this,n),(r=t.call(this,e)).state={},r}return Ut(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("span",null,"Давхаргууд"),o.a.createElement("hr",null),this.props.map_wms_list.map((function(t,n){return o.a.createElement(zt,{wms:t,key:n,addLayer:e.props.addLayer})})))}}]),n}(r.Component),Kt=function(e){Bt(n,e);var t=Jt(n);function n(e){var r;Gt(this,n);var o=e||{};(r=t.call(this,{element:document.createElement("div"),target:o.target})).is_component_initialized=!1;var a="col-md-2 ⚙ rounded bg-light ".concat(I.c);return r.element.className=a,r.renderComponent=r.renderComponent.bind(qt(r)),r.toggleControl=r.toggleControl.bind(qt(r)),r}return Ut(n,[{key:"toggleControl",value:function(e){this.element.classList.toggle(I.c,e)}},{key:"renderComponent",value:function(e){this.is_component_initialized||(q.a.render(o.a.createElement(Yt,e),this.element),this.is_component_initialized=!0),q.a.hydrate(o.a.createElement(Yt,e),this.element)}},{key:"showSideBar",value:function(e,t,n){this.toggleControl(t),this.renderComponent({map_wms_list:e,addLayer:n})}}]),n}(M.a),Zt=n(119);function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t,n){return t&&en(e.prototype,t),n&&en(e,n),e}function nn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cn(e);if(t){var o=cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return an(this,n)}}function an(e,t){return!t||"object"!==$t(t)&&"function"!=typeof t?ln(e):t}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sn=function(e){nn(n,e);var t=on(n);function n(e){var r;return Qt(this,n),(r=t.call(this,e)).click_count=0,r.is_from_inspire=!0,r.properties=[],r.state={startNumber:null,totalNumner:null,is_prev:!1,is_plus:!0,data:[],datas:e.datas,mode:"",name:"",id:"",code:"",geom_name:"",pdf_id:"",is_purchase:!1,is_enable:!1,is_authenticated:!1},r}return tn(n,[{key:"componentDidMount",value:function(){var e=this;this.element=document.getElementById("popup"),this.props.sendElem&&this.props.sendElem(this.element),se.getUser().then((function(t){var n=t.is_authenticated;e.setState({is_authenticated:n})}))}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.datas,o=n.is_loading;e.datas===r&&o==e.is_loading||this.setState({datas:r,is_loading:o})}},{key:"render",value:function(){var e=this.props,t=e.PPComponent,n=e.is_empty,r=e.is_from_inspire,a=e.close,i=this.state,l=i.datas,c=i.is_loading;return o.a.createElement("div",null,o.a.createElement(t,{datas:l,is_empty:n,is_from_inspire:r,is_loading:c,close:a}))}}]),n}(r.Component),un=function(e){nn(n,e);var t=on(n);function n(e){var r;Qt(this,n);var o=e||{};return(r=t.call(this,{element:document.createElement("div"),target:o.target})).is_component_initialized=!1,r.element.className="ol-popup",r.element.setAttribute("id","popup"),r.renderComponent=r.renderComponent.bind(ln(r)),r.toggleControl=r.toggleControl.bind(ln(r)),r.getData=r.getData.bind(ln(r)),r}return tn(n,[{key:"toggleControl",value:function(e){e?(this.element.style.display="block",this.element.style.zIndex="1050"):this.element.style.display="none"}},{key:"renderComponent",value:function(e){this.is_component_initialized||(q.a.render(o.a.createElement(sn,e),this.element),this.is_component_initialized=!0),q.a.hydrate(o.a.createElement(sn,e),this.element)}},{key:"blockPopUp",value:function(e,t,n,r){this.toggleControl(e),this.renderComponent({sendElem:t,close:n,PPComponent:r})}},{key:"getData",value:function(e,t,n,r,o,a,i){var l=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],c=arguments.length>8?arguments[8]:void 0;this.toggleControl(e),this.renderComponent({datas:t,close:n,setSource:r,cartButton:o,is_empty:a,is_from_inspire:i,is_loading:l,PPComponent:c})}}]),n}(M.a);n(36),n(485);function pn(e){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t,n){return t&&mn(e.prototype,t),n&&mn(e,n),e}function hn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_n(e);if(t){var o=_n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gn(this,n)}}function gn(e,t){return!t||"object"!==pn(t)&&"function"!=typeof t?vn(e):t}function vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wn=function(e){hn(n,e);var t=bn(n);function n(e){var r;return fn(this,n),(r=t.call(this,e)).state={torf:r.props.TorF},r}return dn(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.TorF;t&&setTimeout((function(){e.setState({torf:!t})}),2e3)}},{key:"componentWillReceiveProps",value:function(){var e=this,t=this.props.TorF;t&&(this.setState({torf:t}),setTimeout((function(){e.setState({torf:!t})}),2e3))}},{key:"render",value:function(){var e=this.props,t=(e.TorF,e.msg),n=this.state.torf;return o.a.createElement("div",null,n?o.a.createElement("div",{className:"alert alert-danger alert-custom-css",role:"alert"},t):null)}}]),n}(r.Component),En=function(e){hn(n,e);var t=bn(n);function n(e){var r;fn(this,n);var o=e||{};return(r=t.call(this,{element:document.createElement("div"),target:o.target})).is_component_initialized=!0,r.is_cart=!1,r.element.className="d-block",r.renderComponent=r.renderComponent.bind(vn(r)),r.showAlert=r.showAlert.bind(vn(r)),r}return dn(n,[{key:"renderComponent",value:function(e){this.is_component_initialized||(q.a.render(o.a.createElement(wn,e),this.element),this.is_component_initialized=!0),q.a.hydrate(o.a.createElement(wn,e),this.element)}},{key:"showAlert",value:function(e,t){this.renderComponent({TorF:e,msg:t})}}]),n}(M.a),Sn=n(185),kn=n(57);function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function On(e){return function(e){if(Array.isArray(e))return Ln(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Rn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){Cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||Rn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(e,t){if(e){if("string"==typeof e)return Ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ln(e,t):void 0}}function Ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zn(e);if(t){var o=zn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mn(this,n)}}function Mn(e,t){return!t||"object"!==xn(t)&&"function"!=typeof t?In(e):t}function In(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var An=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(I,e);var t,n,r,M=Dn(I);function I(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,I),(t=M.call(this,e)).sendFeatureInfo=[],t.is_not_visible_layers=[],t.saved_aimag_name="",t.clicked_coordinate=[],t.state={projection:"EPSG:3857",is_authenticated:!1,projection_display:"EPSG:4326",bundle:e.bundle,map_wms_list:[],is_sidebar_open:!0,is_search_sidebar_open:!0,is_modal_info_open:!1,coordinate_clicked:null,vector_layer:null,is_draw_open:!1,draw_layer:null,draw:null,source_draw:null,is_cart:!1,y:null,x:null,is_loading:!1,format:new u.a,layer_one_tile:null,form_datas:e.form_datas,center:e.center,layer_2405:"",vectorSource:null,search_date:"",is_search_bar:e.is_search_bar||!0,is_menu_bar:e.is_menu_bar||"open",is_menu_bar_all:e.is_menu_bar_all||"open",has_popup:null==e.has_popup||e.has_popup},t.controls={coordinateCopy:new ae,modal:new Oe,shopmodal:new $e,cart:new ze,drawModal:new ut,sidebar:new Kt,alertBox:new En,popup:new un},t.layer_styles={MultiPolygon:new b.c({stroke:new g.a({color:"black",width:2}),fill:new v.a({color:"rgba(162, 174, 187)"})}),Polygon:new b.c({stroke:new g.a({color:"black",width:2}),fill:new v.a({color:"red"})}),Point:new b.c({image:new _.a({radius:5,fill:new v.a({color:"green"})})}),LineString:new b.c({stroke:new g.a({color:"blue",width:2})}),MultiLineString:new b.c({stroke:new g.a({color:"green",width:2})}),MultiPoint:new b.c({image:new _.a({radius:5,fill:new v.a({color:"#F34213"})})})},t.marker=t.initMarker(),t.handleToggle=t.handleToggle.bind(In(t)),t.handleMapDataLoaded=t.handleMapDataLoaded.bind(In(t)),t.handleMapClick=t.handleMapClick.bind(In(t)),t.handleSetCenter=t.handleSetCenter.bind(In(t)),t.toggleSidebar=t.toggleSidebar.bind(In(t)),t.loadMapData=t.loadMapData.bind(In(t)),t.loadWmsLayers=t.loadWmsLayers.bind(In(t)),t.addWmsLayers=t.addWmsLayers.bind(In(t)),t.showFeaturesAt=t.showFeaturesAt.bind(In(t)),t.cartButton=t.cartButton.bind(In(t)),t.onClickCloser=t.onClickCloser.bind(In(t)),t.getElement=t.getElement.bind(In(t)),t.setSourceInPopUp=t.setSourceInPopUp.bind(In(t)),t.formatArea=t.formatArea.bind(In(t)),t.handleModalApproveClose=t.handleModalApproveClose.bind(In(t)),t.getOnlyFeature=t.getOnlyFeature.bind(In(t)),t.resetFilteredOnlyFeature=t.resetFilteredOnlyFeature.bind(In(t)),t.allLayerVisible=t.allLayerVisible.bind(In(t)),t.addLayerToSearch=t.addLayerToSearch.bind(In(t)),t.drawBorderCircle=t.drawBorderCircle.bind(In(t)),t.fromLonLatToMapCoord=t.fromLonLatToMapCoord.bind(In(t)),t.check_inspire_layer=t.check_inspire_layer.bind(In(t)),t.transformToLatLong=t.transformToLatLong.bind(In(t)),t.setFeatureOnMap=t.setFeatureOnMap.bind(In(t)),t.removeFeatureFromSource=t.removeFeatureFromSource.bind(In(t)),t.getFeatureInfoFromInspire=t.getFeatureInfoFromInspire.bind(In(t)),t.writeFeat=t.writeFeat.bind(In(t)),t.getPopUpInfo=t.getPopUpInfo.bind(In(t)),t.setVisibleMarket=t.setVisibleMarket.bind(In(t)),t.readFeatures=t.readFeatures.bind(In(t)),t.readFeature=t.readFeature.bind(In(t)),t.getErguulLayer=t.getErguulLayer.bind(In(t)),t.addVectorSource=t.addVectorSource.bind(In(t)),t.popUpload=t.popUpload.bind(In(t)),t.featureFromUrl=t.featureFromUrl.bind(In(t)),t.getDetailOfPoint=t.getDetailOfPoint.bind(In(t)),t.ChoosePopUp=t.ChoosePopUp.bind(In(t)),t.updateParams=t.updateParams.bind(In(t)),t.featureFromVectorData=t.featureFromVectorData.bind(In(t)),t}return t=I,(n=[{key:"initMarker",value:function(){var e=new b.c({image:new w.a({anchor:[.5,86],anchorXUnits:"fraction",anchorYUnits:"pixels",scale:.4,src:"/static/assets/image/marker.png"})}),t=new S.a([0,0]),n=new a.a({geometry:t});return n.setStyle(e),{feature:n,point:t}}},{key:"handleModalApproveClose",value:function(){this.setState({is_modal_info_open:!1})}},{key:"cartButton",value:function(e,t,n,r,o,a,i){1==e&&this.controls.cart.showModal(this.clicked_coordinate,e,this.state.x,this.state.y,t,n,r,o,a,i)}},{key:"componentDidMount",value:function(){var e=this;se.getUser().then((function(t){var n=t.is_authenticated;e.setState({is_authenticated:n})})),this.loadMapData(),this.clicked_coordinate.length>0&&this.controls.coordinateCopy.setCoordinate(this.clicked_coordinate)}},{key:"getFullName",value:function(e){var t=e.getProperties().first_name;return e.getProperties().last_name.charAt(0).toUpperCase()+". "+(t.charAt(0).toUpperCase()+t.slice(1))}},{key:"getErguulLayer",value:function(){var e=this,t=new m.a({source:new y.a({}),style:function(t,n){var r=n<100?t.get("name"):"";return new b.c({image:new _.a({radius:5,fill:new v.a({color:e.props.point_color})}),text:new E.a({text:r,font:"20px Calibri,sans-serif",stroke:new g.a({color:"white",width:1}),offsetY:-18})})},name:"erguul"});this.map.addLayer(t),this.erguul_layer=t}},{key:"readFeature",value:function(e){var t="aimag_sum",n=this.state.vector_layer;this.removeFeatureFromSource(t);var r=(new u.a).readFeatures(e,{dataProjection:this.state.projection_display,featureProjection:this.state.projection})[0];n.getSource().addFeature(r),r.setProperties({id:t}),this.map.getView().fit(r.getGeometry(),{padding:[50,50,50,50],duration:2e3})}},{key:"readFeatures",value:function(e){var t=this,n=this.erguul_layer,r=n.getSource();e.features.map((function(e,n){var o=(new u.a).readFeatures(e,{dataProjection:t.state.projection_display,featureProjection:t.state.projection})[0],a=t.getFullName(o);o.setProperties({name:a}),r.addFeature(o)}));var o=n.getStyle(),a={name:"Эргүүл",layers:[{name:"Эргүүлд гарсан хүмүүс",wms_tile:n,defaultCheck:1,is_change_color:!0,color:o().getImage().getFill().getColor()}]};this.state.map_wms_list.unshift(a)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.vector_source,o=n.form_datas,a=n.wms_list,i=n.center,l=this.state.layer_one_tile;if(t.layer_one_tile!=l&&this.setState({layer_one_tile:l}),e.features!==this.props.features&&this.readFeatures(this.props.features),e.feature!==this.props.feature&&this.props.feature!=={}&&this.readFeature(this.props.feature),a!==e.wms_list&&(this.setState({is_sidebar_open:!1}),this.controls.sidebar.showSideBar([],!0,this.addLayerToSearch),this.loadWmsLayers(a)),this.props.code!==e.code){var c=this.props,s=c.code,u=c.url;this.oneLayerAdd(u,s),this.setState({is_loading:!0})}this.state.map_wms_list!==t.map_wms_list&&this.setState({map_wms_list:this.state.map_wms_list}),r!==t.vector_source&&r&&Object.keys(r).length>0&&this.addVectorSource(r),o!==t.form_datas&&this.setState({form_datas:o}),i!==t.center&&i&&this.popUpload(i)}},{key:"loadMapData",value:function(){var e=this;Promise.all([se.loadBaseLayers()]).then((function(t){var n=Nn(t,1)[0].base_layer_list;e.handleMapDataLoaded(n)}))}},{key:"addVectorSource",value:function(e){var t=this.state,n=t.projection,r=t.projection_display,o=(t.form_datas,this.layer_styles),a=this.props.aimag_geom;if(this.map&&this.map.getLayers().forEach((function(e){e&&"aimag"===e.get("id")&&e.getSource().clear()})),Object.keys(e).length>0){var i=new u.a({dataProjection:r,featureProjection:n}).readFeatures(e),l=new y.a({features:i}),c=new m.a({source:l,style:function(e){return o[e.getGeometry().getType()]},id:"aimag"});if(a&&Object.keys(a).length>0)var s=new u.a({dataProjection:r,featureProjection:n}).readFeatures(a),p=new y.a({features:s}),f=new m.a({source:p,style:new b.c({stroke:new g.a({color:"blue",width:2})})});this.map&&(a&&Object.keys(a).length>0?(this.map.addLayer(c),this.map.addLayer(f),this.map.getView().fit(p.getExtent(),{padding:[50,50,50,50],duration:2e3})):(this.map.addLayer(c),this.map.getView().fit(l.getExtent(),{padding:[50,50,50,50],duration:2e3})))}}},{key:"loadWmsLayers",value:function(e){var t=this;this.addWmsLayers(e),this.props.loadErguul&&this.props.loadErguul((function(e){return t.readFeatures(e)}))}},{key:"oneLayerAdd",value:function(e,t){var n=this,r=this.state.layer_one_tile;if(this.map.removeLayer(r),t){var o=new d.a({source:new D.a({projection:this.state.projection,ratio:1,url:e,params:{LAYERS:t,FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",exceptions:"application/vnd.ogc.se_inimage"}})});this.setState({layer_one_tile:o}),this.map.addLayer(o),setTimeout((function(){n.setState({is_loading:!1})}),500)}else setTimeout((function(){n.setState({is_loading:!1})}),500)}},{key:"addWmsLayers",value:function(e){var t=this,n=[.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209014892578e-21,1341104507446289e-21,6.705522537231445e-7,3.3527612686157227e-7],r=["EPSG:4326:0","EPSG:4326:1","EPSG:4326:2","EPSG:4326:3","EPSG:4326:4","EPSG:4326:5","EPSG:4326:6","EPSG:4326:7","EPSG:4326:8","EPSG:4326:9","EPSG:4326:10","EPSG:4326:11","EPSG:4326:12","EPSG:4326:13","EPSG:4326:14","EPSG:4326:15","EPSG:4326:16","EPSG:4326:17","EPSG:4326:18","EPSG:4326:19","EPSG:4326:20","EPSG:4326:21"];if(e.length>0){var o=e.map((function(e){var o=e.name,a=e.url,i=e.chache_url,l=e.wms_or_cache_ur;return{name:o,layers:e.layers.map((function(e){return jn(jn({},e),{},{wms_or_cache_ur:l,tile:new h.a({preload:6,minZoom:e.zoom_start,maxZoom:e.zoom_stop,source:new F.a({url:i,layer:e.code,matrixSet:"EPSG:4326",format:"image/png",projection:t.state.projection_display,tileGrid:new T.b({tileSize:[256,256],extent:[-180,-90,180,90],origin:[-180,90],resolutions:n,matrixIds:r}),style:"",wrapX:!0,tileLoadFunction:kn.b}),code:e.code}),wms_tile:new h.a({preload:6,source:new k.a({projection:t.state.projection,ratio:1,url:a,params:{LAYERS:e.code,FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",exceptions:"application/vnd.ogc.se_inimage"},tileLoadFunction:kn.b}),code:e.code})})}))}}));o.map((function(e,t){return e.layers.map((function(e,t){0==e.defaultCheck&&e.tile.setVisible(!1),0==e.defaultCheck&&e.wms_tile.setVisible(!1),e.legend=e.wms_tile.getSource().getLegendUrl()}))})),this.setState({map_wms_list:o}),o.map((function(e){var n=e.layers.map((function(e){return e.wms_or_cache_ur?e.tile:e.wms_tile}));n&&n.map((function(e){t.map.addLayer(e)}))})),this.map.addControl(this.controls.sidebar)}}},{key:"updateParams",value:function(e,t){e=(e=e.replace("-","/")).replace("-","/"),this.map.getLayers().getArray().forEach((function(n){(n.get("code")&&"c2405"==n.get("code")||"c2406"==n.get("code"))&&(t?n.getSource().updateParams({cql_filter:"attr2 like '%".concat(e,"%' ")}):n.getSource().updateParams({cql_filter:null}))}))}},{key:"handleMapDataLoaded",value:function(e){var t=this,n=this.state,r=(n.center,n.has_popup),o=[.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209014892578e-21,1341104507446289e-21,6.705522537231445e-7,3.3527612686157227e-7],a=["EPSG:4326:0","EPSG:4326:1","EPSG:4326:2","EPSG:4326:3","EPSG:4326:4","EPSG:4326:5","EPSG:4326:6","EPSG:4326:7","EPSG:4326:8","EPSG:4326:9","EPSG:4326:10","EPSG:4326:11","EPSG:4326:12","EPSG:4326:13","EPSG:4326:14","EPSG:4326:15","EPSG:4326:16","EPSG:4326:17","EPSG:4326:18","EPSG:4326:19","EPSG:4326:20","EPSG:4326:21"],c=e.reduce((function(e,n,r){var i;return"xyz"==n.tilename&&(i=new h.a({preload:6,source:new x.a({crossOrigin:"Anonymous",url:n.url}),name:"base_layer"})),"wms"==n.tilename&&(i=new h.a({source:new k.a({ratio:1,url:n.url,params:{LAYERS:n.layers,FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",exceptions:"application/vnd.ogc.se_inimage"},tileLoadFunction:kn.b}),name:"base_layer"})),"wmts"==n.tilename&&(i=new h.a({source:new F.a({url:n.url,layer:n.layers,matrixSet:t.state.projection_display,format:"image/png",projection:t.state.projection_display,tileGrid:new T.b({tileSize:[256,256],extent:[-180,-90,180,90],origin:[-180,90],resolutions:o,matrixIds:a}),tileLoadFunction:kn.b,style:"",wrapX:!0})})),e.base_layers.push(i),e.base_layer_controls.push({is_active:0==r,thumbnail_1x:n.thumbnail_1x,thumbnail_2x:n.thumbnail_2x,layer:i}),e}),{base_layers:[],base_layer_controls:[]}),s=c.base_layers,u=c.base_layer_controls,p=new m.a({source:new y.a({}),style:new b.c({stroke:new g.a({color:"rgba(100, 255, 0, 1)",width:2}),fill:new v.a({color:"rgba(100, 255, 0, 0.3)"})}),name:"vector_layer"});this.setState({vector_layer:p});var f=new m.a({source:new y.a({features:[this.marker.feature]}),name:"marker_layer"});this.marker_layer=f;var d=[new P.a,new j.a({projection:this.state.projection_display,coordinateFormat:function(e){return Object(O.f)(e,"{y},{x}",6)},undefinedHTML:""}),new J({layers:u}),new C.a,this.controls.modal,this.controls.shopmodal,this.controls.drawModal,this.controls.coordinateCopy,this.controls.sidebar,this.controls.cart,this.controls.alertBox];r&&d.push(this.controls.popup);var _=new i.a({maxTilesLoading:16,target:"map",controls:Object(N.a)().extend(d),layers:[].concat(On(s),[p]),view:new l.a({projection:this.state.projection,center:[11461613.630815497,5878656.0228370065],zoom:5.041301562246971,minZoom:1})});_.on("click",this.handleMapClick),this.map=_,this.props.marker_layer&&this.map.addLayer(this.marker_layer),r&&this.controls.popup.blockPopUp(!0,this.getElement,this.onClickCloser,this.ChoosePopUp),this.getErguulLayer(),this.setState({is_loading:!1})}},{key:"ChoosePopUp",value:function(e){var t=this.props.PPContent;return o.a.createElement(t,e)}},{key:"onClickCloser",value:function(){var e=this.overlay,t=this.element_closer;e.setPosition(void 0),t.blur(),this.setVisibleMarket(!1)}},{key:"popUpload",value:function(e){this.state.form_datas;var t=this.map.getView().getProjection(),n=Object(s.p)(e,this.state.projection_display,t);this.overlay.setPosition(n)}},{key:"getElement",value:function(e){var t=this.map,n=new c.a({element:e,autoPan:!0,autoPanAnimation:{duration:250},autoPanMargin:65,offset:[15,-150]});t.addOverlay(n),this.element=e,this.overlay=n;var r=e.children[0];this.element_content=r.children[1],this.element_closer=r.children[0]}},{key:"handleMapClick",value:function(e){if(!this.state.is_draw_open){var t=e.coordinate;this.marker.point.setCoordinates(t);var n=e.map.getView().getProjection(),r=Object(s.p)(e.coordinate,n,this.state.projection_display),o=Object(O.f)(r,"{y},{x}",6);this.clicked_coordinate=o,this.showFeaturesAt(t)}}},{key:"allLayerVisible",value:function(e){var t=this;this.removeFeatureFromSource("buffer"),this.map.getLayers().getArray().forEach((function(n){n.get("filter")&&n.get("filter")==t.state.filtered_layer_name&&(n.setVisible(!1),t.map.removeLayer(n)),e?(n.get("code")&&n.getVisible()&&n.setVisible(!1),"inside"==n.get("name")&&n.getVisible()&&(n.setVisible(!1),t.map.removeLayer(n))):n.get("code")&&n.get("name")&&"inside"!=n.get("name")&&n.getVisible()&&(t.is_not_visible_layers.push(n.get("code")),n.setVisible(!1))}))}},{key:"addLayerToSearch",value:function(e,t,n){var r=this;if(this.state.filtered_wms){n?e.map((function(e){r.is_not_visible_layers.push(e.code),e.wms_or_cache_ur?e.tile.setVisible(!1):e.wms_tile.setVisible(!1)})):e.map((function(e){var t=r.is_not_visible_layers.filter((function(t){return t!==e.code}));r.is_not_visible_layers=t,e.wms_or_cache_ur?e.tile.setVisible(!1):e.wms_tile.setVisible(!1)}));var o=this.state,a=o.aimag_name,i=o.search_coordinate,l=o.sum_name,c=o.search_scale;this.getOnlyFeature(a,i,l,c,this.is_not_visible_layers)}else e.map((function(e){e.wms_or_cache_ur?e.tile.setVisible(n):e.wms_tile.setVisible(n)}))}},{key:"resetFilteredOnlyFeature",value:function(){var e=this;this.removeFeatureFromSource("aimag_sum"),this.removeFeatureFromSource("buffer"),this.map.getLayers().forEach((function(t){t&&(e.is_not_visible_layers.map((function(n){t.get("code")==n&&t.setVisible(!0),e.state.filtered_layer_name&&t.get("filter")==e.state.filtered_layer_name&&e.map.removeLayer(t)})),"inside"==t.get("name")&&e.map.removeLayer(t))})),this.setState({filtered_wms:void 0,filtered_layer:void 0}),this.is_not_visible_layers=[],this.onClickCloser()}},{key:"getKiloFromScale",value:function(e){return e/1e3}},{key:"fromLonLatToMapCoord",value:function(e){return Object(s.d)([e[0],e[1]])}},{key:"drawBorderCircle",value:function(e){this.removeFeatureFromSource("aimag_sum");var t=this.state.vector_layer,n=this.state.format.readFeatures(e,{dataProjection:this.state.projection_display,featureProjection:this.state.projection});n[0].setProperties({id:"buffer"}),t.getSource().addFeature(n[0])}},{key:"getOnlyFeature",value:function(e,t,n,r,o){var a,i=this;this.onClickCloser(),this.allLayerVisible(o),o&&(this.is_not_visible_layers=o);var l=this.state.map_wms_list.map((function(o){var l=o.name,c=o.layers,s="";return{name:l,layers:i.is_not_visible_layers.map((function(o){var l,u;return c.map((function(c){if(o==c.code){l=c;var p=c.tile.getSource().urls[0];if(!e&&t){var f=i.getKiloFromScale(r);s="DWITHIN(geom,Point("+t[0]+" "+t[1]+"),"+f+",kilometers)",a=t[0]+","+t[1]}else e&&n?(s="aimag='"+e+"' AND sum='"+n+"'",a=e+"_"+n):e&&!n&&(s="aimag='"+e+"'",a=e);var m=new h.a({source:new k.a({projection:i.state.projection,url:p,params:{LAYERS:c.code,FORMAT:"image/png",cql_filter:s}}),filter:a});!e&&t&&i.drawBorderCircle(t,i.getKiloFromScale(r)),m&&(i.map.addLayer(m),u=m)}})),jn(jn({},l),{},{tile:u})}))}}));this.setState({filtered_wms:l,filtered_layer_name:a,aimag_name:e,search_coordinate:t,sum_name:n,search_scale:r}),n||this.showFeaturesAt(this.fromLonLatToMapCoord(t))}},{key:"getWMSArray",value:function(){return this.array=[],this.state.map_wms_list&&(this.array=this.state.map_wms_list),this.state.filtered_wms&&(this.array=this.state.filtered_wms),this.state.layer_one_tile&&(this.array=this.state.layer_one_tile),this.array}},{key:"check_inspire_layer",value:function(e){var t=!1,n="",r=e.split("_");return r.map((function(e,o){if(0==o&&"gp"==e&&"layer"==r[o+1]){var a=r.slice(2);n=a.join("_"),t=!0}})),{layer_code:n,is_feature:t}}},{key:"getPopUpInfo",value:function(e,t){var n=this,r=Object(s.m)(e),o=t.length>0?t:this.is_not_visible_layers.length>0?this.is_not_visible_layers:[];se.getPopUpInfo(o,r).then((function(e){var t=e.datas;n.sendFeatureInfo.length>0&&n.sendFeatureInfo.map((function(e,n){t.push(e[0])})),t.length}))}},{key:"showFeaturesAt",value:function(e){this.is_empty=!0,this.sendFeatureInfo=[];var t=this.overlay;this.state.has_popup&&t.setPosition(e),this.props.form_datas&&this.state.has_popup&&this.controls.popup.getData(!0,this.props.form_datas,this.onClickCloser,this.setSourceInPopUp,this.cartButton,this.is_empty,!1,!1,this.ChoosePopUp),this.props.property_pp&&this.featureFromVectorData(e),this.props.featurefromUrl||this.featureFromUrl(e),this.sendFeatureInfo=[],this.is_empty=!0}},{key:"featureFromVectorData",value:function(e){var t=this,n=new R.a({condition:L.e});this.map.addInteraction(n),n.on("select",(function(n){return t.featureSelected(n,e)}))}},{key:"featureSelected",value:function(e,t){var n=e.selected[0];if(n){var r=n.getProperties();this.controls.popup.getData(!0,r,this.onClickCloser,this.setSourceInPopUp,null,this.is_empty,!1,!1,this.ChoosePopUp)}else this.controls.popup.getData(!0,{},this.onClickCloser,this.setSourceInPopUp,null,this.is_empty,!1,!1,this.ChoosePopUp)}},{key:"setSourceInPopUp",value:function(e){var t=this.selectSource;"private"!=e&&this.state.vector_layer.setSource(null),"private"==e&&this.state.vector_layer.setSource(t)}},{key:"getDetailOfPoint",value:function(e,t,n,r,o,a,i,l){var c=this;if(e.getVisible()){var s=this.check_inspire_layer(t),u=s.layer_code,f=s.is_feature;if(f&&i.push(u),!f){var m=e.getSource().getFeatureInfoUrl(n,o,r,{INFO_FORMAT:"application/vnd.ogc.gml"});m&&fetch(m).then((function(e){return e.text()})).then((function(e){var r=(new p.a).readFeatures(e);r.length>0&&r.map((function(e,t){if(e.getGeometry().getType().includes("Polygon")){var n=new y.a({features:r});c.selectSource=n,c.state.vector_layer.setSource(c.selectSource)}}));var o=r.map((function(e){var t=e.getGeometryName(),n=e.getKeys().filter((function(e){return e!=t})).map((function(t){return[t,e.get(t)]}));return[e.getId(),n]}));o.length>0&&(c.is_empty=!1,c.sendFeatureInfo.length>0&&c.sendFeatureInfo.map((function(e,n){e[0].field_name!==o[0][0]&&(o.push(a),o.push(t),c.sendFeatureInfo.push(o))})),0==c.sendFeatureInfo.length&&(o.push(a),o.push(t),c.sendFeatureInfo.push(o)),i.length>0?c.getPopUpInfo(n,i):c.controls.popup.getData(!0,c.sendFeatureInfo,c.onClickCloser,c.setSourceInPopUp,c.cartButton,c.is_empty,!1,!1,c.ChoosePopUp))}))}}}},{key:"featureFromUrl",value:function(e){var t=this,n=this.map.getView(),r=n.getProjection(),o=n.getResolution(),a=this.getWMSArray(),i=[];this.setVisibleMarket(!0),a.length>0?a.map((function(n){var a=n.layers;a&&a.map((function(n){n.tile;var a=n.wms_tile,l=n.geodb_table,c=n.code;t.getDetailOfPoint(a,c,e,r,o,l,i,a,c,e,r,o,l,i,!0)}))})):this.props.code&&this.getDetailOfPoint(a,this.props.code,e,r,o,[],i,!0)}},{key:"handleToggle",value:function(e){var t=this.state.layers[e];t.setVisible(!t.getVisible())}},{key:"handleSetCenter",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.removeFeatureFromSource("buffer"),this.removeFeatureFromSource("aimag_sum");var r=this.map.getView(),o=r.getProjection(),a=Object(s.p)(e,this.state.projection_display,o);n&&this.marker.point.setCoordinates(a),r.animate({zoom:t},{center:r.setCenter(a)})}},{key:"removeFeatureFromSource",value:function(e){var t=this.state.vector_layer.getSource(),n=t.getFeatures();if(null!=n&&n.length>0)for(var r=0;r<n.length;r++)if(n[r].getProperties().id==e){t.removeFeature(n[r]);break}}},{key:"setVisibleMarket",value:function(e){this.marker_layer.setVisible(e)}},{key:"getFeatureInfoFromInspire",value:function(e,t,n){var r,o=this;this.onClickCloser(),this.setVisibleMarket(!1);var a=null;if(e){var i=this.writeFeat(e[0]);r=JSON.parse(i).geometry}else r=t,a=this.getKiloFromScale(n);this.getWMSArray().map((function(e,t){var n=e.layers;n&&n.map((function(e,t){var n=e.tile,r=e.code;if(n.getVisible()){var a=o.check_inspire_layer(r),i=a.layer_code;a.is_feature&&o.is_not_visible_layers.push(i)}}))})),this.allLayerVisible("inside"),se.getContainGeoms(this.is_not_visible_layers,r,a).then((function(e){var t=e.features,n=e.layers_code,r=e.buffer;if(e.success){o.is_not_visible_layers=n;var a=o.state.format.readFeatures(t,{dataProjection:o.state.projection_display,featureProjection:o.state.projection}),i=new b.c({image:new _.a({radius:5,fill:new v.a({color:"red"})}),stroke:new g.a({color:"blue",width:2}),fill:new v.a({color:"rgba(0,191,255,0.3)"})}),l=new y.a({features:a}),c=new m.a({source:l,name:"inside",style:i});r&&o.drawBorderCircle(r),o.map.addLayer(c),c.setVisible(!0),o.setState({filtered_layer:c})}}))}},{key:"writeFeat",value:function(e){var t=this.state.format.writeFeatureObject(e,{dataProjection:this.state.projection_display,featureProjection:this.state.projection});return JSON.stringify(t)}},{key:"setFeatureOnMap",value:function(e,t,n){if(e){var r=this.state.vector_layer,o="aimag_sum";this.removeFeatureFromSource(o),(e=(new u.a).readFeatures(e,{dataProjection:this.state.projection_display,featureProjection:this.state.projection}))[0].setProperties({id:o}),r.getSource().addFeature(e[0]),this.map.getView().fit(e[0].getGeometry(),{padding:[100,100,100,100],duration:2e3})}this.getFeatureInfoFromInspire(e,t,n)}},{key:"toggleSidebar",value:function(e){var t,n=!0;e==this.state.is_sidebar_open&&(n=!1),n&&this.setState((function(e){return{is_sidebar_open:!e.is_sidebar_open}})),t=!!this.state.is_sidebar_open,this.controls.sidebar.showSideBar(this.state.map_wms_list,t,this.addLayerToSearch)}},{key:"transformToLatLong",value:function(e){var t=this;return e[0].map((function(e,n){return Object(s.p)(e,t.state.projection,t.state.projection_display)}))}},{key:"formatArea",value:function(e){var t,n,r=Object(f.a)(e);return r>1e4?(t=Math.round(r/1e6*100)/100,n="km"):(t=Math.round(100*r)/100,n="m"),{output:t,type:n}}},{key:"calcPrice",value:function(e,t,n,r,o){var a=this.formatArea(e),i=[];t.wms_list.map((function(e,t){e.layers.map((function(e,t){i.push(e.code)}))})),this.controls.drawModal.showModal(!1,n,r,t,a,o,i)}},{key:"render",value:function(){var e=this,t=this.state,n=t.is_loading,r=t.is_search_bar,a=t.is_menu_bar,i=t.is_menu_bar_all,l=this.props.height?this.props.height:"80vh",c=[];return"open"==a&&c.push({key:"menus",icon:"fa fa-bars",title:"Давхаргууд",component:function(){return o.a.createElement("div",null,e.state.map_wms_list.map((function(t,n){return o.a.createElement(zt,{wms:t,key:n,addLayer:e.addLayerToSearch})})))}}),r&&c.push({key:"search",icon:"fa fa-search",component:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:" rounded shadow-sm p-3 mb-3 bg-white rounded"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"font-weight-bold",htmlFor:"formGroupInput"},"Өдрөөр хайх"),o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{type:"date",className:"form-control",placeholder:"search_date",name:"search_date",onChange:function(t){return e.setState({search_date:t.target.value})},value:e.state.search_date})),o.a.createElement("div",{className:"mb-3"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-5"},o.a.createElement("button",{className:"btn gp-btn-primary my-3",type:"submit",onClick:function(){return e.updateParams(e.state.search_date,!0)}},o.a.createElement("i",{className:"fa fa-search mr-1"}),"Хайх")),o.a.createElement("div",{className:"col-md-7 d-flex flex-row-reverse"},o.a.createElement("button",{className:"btn gp-btn-primary my-3",type:"button",onClick:function(){return e.updateParams(e.state.search_date,!1)}},o.a.createElement("i",{className:"fa fa-trash mr-1"}),"Цэвэрлэх")))))))}}),c.push({key:"settings",icon:"fa fa-gear",component:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn gp-btn-primary",type:"button",onClick:function(){return Object(kn.a)("ALL")}},o.a.createElement("i",{className:"fa fa-trash mr-1"}),"Cache цэвэрлэх"))},bottom:!0}),o.a.createElement("div",{className:"px-0 mx-0"},o.a.createElement(Zt.a,{is_loading:n}),o.a.createElement("div",{id:"map",style:{height:"".concat(l)},className:"mw-100 px-0 mx-0"},"open"==i&&o.a.createElement(Sn.a,{items:c})))}}])&&Fn(t.prototype,n),r&&Fn(t,r),I}(r.Component)},57:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=function(e,t){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="arraybuffer",n.onload=function(){var t=new Uint8Array(this.response),n=new Blob([t],{type:"image/png"}),r=(window.URL||window.webkitURL).createObjectURL(n);e.getImage().src=r},n.send()},o=function(e){"ALL"===e?(localStorage.clear(),setTimeout((function(){window.location.reload()}),1e3)):localStorage.removeItem(e)}},582:function(e,t,n){var r=n(69),o=n(583);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},583:function(e,t,n){(t=n(70)(!1)).push([e.i,'element.style {\n    position: relative;\n}\n\n\n.⚙ {\n    position: absolute;\n    top: 1%;\n    right: 70px;\n    bottom: 150px;\n    padding-top: 1rem;\n    padding-bottom: 1rem;\n    overflow-y: auto;\n    background-color: white;\n    -webkit-box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    -moz-box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    opacity: 1;\n}\n\n.⚙.ol-hidden {\n    opacity: 0;\n    visibility: hidden;\n    transition: opacity .1s linear, visibility 0s linear .1s;\n}\n\n.⚙-search {\n    position: absolute;\n    top: 1%;\n    left: 70px;\n    bottom: 150px;\n    padding-top: 1rem;\n    padding-bottom: 1rem;\n    overflow-y: auto;\n    background-color: white;\n    -webkit-box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    -moz-box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    opacity: 1;\n}\n.⚙-search.ol-hidden {\n    opacity: 0;\n    visibility: hidden;\n    transition: opacity .1s linear, visibility 0s linear .1s;\n}\n\n\n.⚙-toggle-search{\n    position: absolute;\n    top: 7px;\n    left: 12px;\n    width: 50px;\n    height: 50px;\n    background-color: rgba(0,60,136,0.5);\n    border-radius: 4px;\n    padding: 2px;\n}\n.⚙-toggle-search:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-search:focus{\n    background-color: rgba(0,60,136,0.7);\n\n}\n\n.⚙-toggle-search a{\n    position: absolute;\n    top: -6px;\n    left: 7px;\n    width: 50px;\n    height: 50px;\n\n}\n\n.fa-lg{\n    font-size: 40px;\n    color: white;\n    line-height: unset;\n}\n\n.⚙-toggle{\n    position: absolute;\n    top: 19px;\n    right: 0.6rem;\n    width: 45px;\n    height: 45px;\n    background-color: rgba(0,60,136,0.5);\n    border-radius: 4px;\n    padding: 1px;\n}\n\n.⚙-toggle:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n\n.⚙-toggle:focus{\n    background-color: rgba(0,60,136,0.7);\n\n}\n\n.⚙-toggle a{\n    position: absolute;\n    top: -6px;\n    right: -7px;\n    width: 50px;\n    height: 50px;\n\n}\n\n.⚙-toggle .fa-lg{\n    font-size: 40px;\n    color: white;\n    padding: 0px 3px;\n}\n\n.ol-full-screen {\n    right: .5rem;\n    top: 20px;\n    width: 46px;\n    height: 46px;\n\n}\n.ol-full-screen .ol-full-screen-false{\n    width: 40px;\n    height: 40px;\n    font-size: 30px;\n\n}\n.ol-full-screen .ol-full-screen-true{\n    width: 40px;\n    height: 40px;\n    font-size: 30px;\n\n}\n.ol-zoom {\n    width: 46px;\n    height: 87px;\n    left: unset;\n    right: .5rem;\n    top: 70px;\n}\n.ol-zoom  .ol-zoom-out{\n    width: 40px;\n    height: 40px;\n    font-size: 40px;\n\n}\n.ol-zoom .ol-zoom-in{\n    width: 40px;\n    height: 40px;\n    font-size: 40px;\n}\n\n.ol-mouse-position {\n    right: 4rem;\n    background: rgba(0,60,136,0.3);\n    border-radius: 4px;\n    padding: 2px .2rem;\n    font-size: smaller;\n    color: #eee;\n    text-align: center;\n    width: 8.8rem;\n    min-height: 1rem;\n}\n\n.coordinate-copy-control {\n    width: 10rem;\n    left: 2%;\n    top: 0.5rem;\n    opacity: 1;\n}\n.coordinate-copy-control.ol-hidden {\n    opacity: 0;\n    visibility: hidden;\n    transition: opacity .25s linear, visibility 0s linear .25s;\n}\n\n.ol-scale-line{\n    position: absolute;\n    bottom: 9px;\n}\n\n\n.draw-button {\n    position: absolute;\n    top: 300px;\n    right: 12px;\n    width: 50px;\n    height: 50px;\n    background-color: rgba(0,60,136,0.5);\n    border-radius: 4px;\n    padding: 2px 5px;\n}\n.draw-button:active{\n    background-color: rgba(0,60,136,0.9);\n\n}\n\n.draw-button .fa-object-ungroup{\n    font-size: 30px;\n    color: white;\n    line-height: unset;\n}\n\n\n.root{\n    padding-top: 50px;\n    padding-right: 30px;\n    padding-bottom: 50px;\n    padding-left: 80px;\n}\n\n\n.cart-size{\n    font-size: 40px;\n    margin-left: 5px;\n    color: white;\n    line-height: unset;\n}\n\n.cart-count{\n    color: rgb(255, 255, 255);\n    margin-top: -40px;\n    margin-left: 15px;\n}\n\n.cart-button{\n    position: absolute;\n    top: 70px;\n    left: 12px;\n    width: 50px;\n    height: 50px;\n    background-color: rgba(0,60,136,0.5);\n    border-radius: 4px;\n    padding: 2px;\n}\n.cart-button .card-icon{\n    position: absolute;\n    padding: 9px 3px;\n    font-size: 28px;\n    color: white;\n}\n\n.cart-button .card-count{\n    padding: 0px 27px;\n    font-size: 22px;\n    color: white;\n    position: absolute;\n}\n.cart-list {\n    padding: 2px 3px;\n    position: absolute;\n    left: 10px;\n    top: 130px;\n}\n\n.card-baraa {\n    height: auto;\n    width: auto;\n    background-color: rgba(0,60,136,0.5);\n    margin-top: 7px;\n    padding: 9px 7px;\n}\n.cart{\n    z-index: 1;\n}\n\n.alert-custom-css{\n    width: auto;\n    position: absolute;\n    bottom: 5%;\n}\n\n.ol-popup {\n    position: absolute;\n    background-color: white;\n    box-shadow: 0 1px 4px rgba(0,0,0,0.2);\n    border-radius: 10px;\n    border: 1px solid #cccccc;\n    min-width: 200px;\n    max-width: 600px;\n    z-index: 1030;\n    min-height: 170px;\n    opacity: 0.8;\n}\n\n.ol-popup:after, .ol-popup:before {\n    top: 135px;\n    border: solid transparent;\n    content: " ";\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none;\n}\n\n.ol-popup:after {\n    border-top-color: white;\n    border-width: 10px;\n    transform: rotate(90deg);\n    margin-left: -10px;\n    left: -10px;\n}\n\n.ol-popup:before {\n    border-top-color: #cccccc;\n    border-width: 10px;\n    transform: rotate(90deg);\n    margin-left: -11px;\n    left: -10px;\n}\n\n.ol-popup-contet {\n    margin-top: 5px;\n    margin-left: 15px;\n    margin-bottom: 5px;\n    margin-right: 15px;\n}\n\n.ol-popup-header-content {\n    margin-left: 15px;\n    margin-right: 15px;\n}\n\n.ol-popup-header{\n    border-top-left-radius: 9px;\n    border-top-right-radius: 9px;\n    margin: 0;\n    top: 0;\n    padding: 0;\n    background-color:rgba(0,0,0,0.2);\n}\n\n.ol-popup-closer {\n    float: right;\n    text-decoration: none;\n}\n\n.ol-popup-closer:hover {\n    color: red\n}\n\n.ol-popup-table .table td, .ol-popup-table .table td{\n    padding:0px !important;\n}\n\n.borderless td, .borderless th {\n    border: none;\n}\n\n.no-padding td, .no-padding th {\n    padding-left: 10px !important;\n    padding-right: 0px !important;\n    padding-top: 0px !important;\n    padding-bottom: 5px !important;\n}\n\n.no-padding td {\n    padding-left: 20px !important;\n}\n\n.borderless th {\n    text-transform: lowercase;\n}\n\n.суурь-давхаргууд{\n    right: 8px;\n    position: absolute;\n    bottom: 9px;\n\n}\n.суурь-давхаргууд > .суурь-давхарга{\n    display: block;\n    width: 8rem;\n    height: 4.5rem;\n    overflow: hidden;\n    margin: 1px;\n    border-radius: 2px;\n    float: right;\n    transition: opacity .15s ease-out;\n}\n.суурь-давхаргууд > .суурь-давхарга.active,\n.суурь-давхаргууд:hover > .суурь-давхарга.active:hover,\n.суурь-давхаргууд > .суурь-давхарга:hover {\n    opacity: 1;\n}\n.суурь-давхаргууд > .суурь-давхарга,\n.суурь-давхаргууд:hover > .суурь-давхарга.active {\n    opacity: .7;\n}\n',""]),e.exports=t},815:function(e,t,n){n(153),e.exports=n(924)},816:function(e,t,n){var r=n(69),o=n(817);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},817:function(e,t,n){(t=n(70)(!1)).push([e.i,".bundle-ol {\n    padding: 1rem 0;\n}\n\n.bundle-ol > a {\n    text-decoration: none;\n    display: block;\n}\n\n#owl-demo .item{\n    padding: 2px 0px;\n    margin: 10px;\n    -webkit-border-radius: 3px;\n    -moz-border-radius: 3px;\n    border-radius: 3px;\n    text-align: center;\n}\n\n",""]),e.exports=t},924:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(14),i=n(31),l=n(13),c=n(486),s=n(119);n(816);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(i,e);var t,n,r,a=m(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={isload:!1},t}return t=i,(n=[{key:"copyToClipboard",value:function(e){var t=this;this.setState({isload:!0});var n=document.createElement("textarea");n.innerText=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),n.remove(),setTimeout((function(){t.setState({isload:!1})}),1e3)}},{key:"render",value:function(){var e=this,t=this.props,n=t.name,r=t.url,a=(t.color,t.link),i=this.state.isload;return o.a.createElement(o.a.Fragment,null,a?o.a.createElement("a",{className:"col-2 mt-3 col-md-2 col-xl-2",href:r},o.a.createElement("div",{className:"card text-center border border-success"},o.a.createElement("div",{className:"card-body",role:"button"},o.a.createElement("h4",{className:"text-info"},n),o.a.createElement("h6",{className:"text-mute"},n?"Дарж татах":"Хоосон байна")))):o.a.createElement("div",{className:"col-2 mt-3 col-md-2 col-xl-2",onClick:function(){return e.copyToClipboard(r)}},i?o.a.createElement("div",{className:"card text-center border border-success"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h4",{className:"text-success"},n),o.a.createElement("h6",{className:"fa fa-check text-success"},"Амжилттай хууллаа"))):o.a.createElement("div",{className:"card text-center border border-info",role:"button"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h4",{className:"text-info"},n),o.a.createElement("h6",{className:"text-mute"},n?"Дарж хуулах":"Хоосон байна")))))}}])&&p(t.prototype,n),r&&p(t,r),i}(r.Component);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,r,a=_(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={open_layer:e.open_layer,bundle:{},wms_url:"",wfs_url:"",wmts_url:"",shape_file_url:"",gml_url:"",geo_json_url:"",csv_url:"",layer_obj:{},wms_obj:{},is_loading:!1,selected_wms:{},is_open:!1},t.setWms=t.setWms.bind(E(t)),t.setBundle=t.setBundle.bind(E(t)),t}return t=i,(n=[{key:"setWms",value:function(e,t){var n=this;this.setState({layer_obj:t,is_loading:!0}),setTimeout((function(){n.setState({is_loading:!1})}),500)}},{key:"setBundle",value:function(e){var t=this;this.setState({bundle:e,is_loading:!0,layer_obj:{}}),setTimeout((function(){t.setState({is_loading:!1})}),500)}},{key:"componentDidMount",value:function(){var e=this.props.open_layer;e&&this.setState({bundle:e[0]})}},{key:"render",value:function(){var e=this,t=this.state,n=t.open_layer,r=t.bundle,a=t.layer_obj,i=t.is_loading,l=t.selected_wms,u=t.is_open;return o.a.createElement("div",{className:"col-md-12"},o.a.createElement(s.a,{is_loading:i}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 mt-3 col-md-12 col-xl-12"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"row"},n&&n.length>0?o.a.createElement("div",{id:"owl-demo",className:"owl-carousel owl-theme"},n.map((function(t,n){return o.a.createElement("div",{className:"item",key:n,onClick:function(){return e.setBundle(t)}},o.a.createElement("img",{src:t.icon,className:"ahha",style:{height:"80px"}}),o.a.createElement("h6",{className:t.id==r.id?"text-primary":""},t.name),t.id==r.id&&o.a.createElement("hr",{className:"bg-primary"}))}))):o.a.createElement("div",{className:"col-12 text-center"},o.a.createElement("h5",null,"Нээлттэй өгөгдөл байхгүй байна"))))))),o.a.createElement("div",{className:"row text-center"},o.a.createElement("div",{className:"col-12"},o.a.createElement("h1",{className:"text-center"},r&&r.name))),a&&a.code&&o.a.createElement("div",{className:"row"},o.a.createElement(y,{name:"WMS",url:a.wms_url,color:"bg-dark"}),o.a.createElement(y,{name:"WMTS",url:a.wmts_url,color:"bg-dark"}),o.a.createElement(y,{name:"WFS",url:a.wfs_url,color:"bg-dark"}),o.a.createElement(y,{name:"GEOJSON",link:!0,url:a.geo_json_url,color:"bg-dark"}),o.a.createElement(y,{name:"GML",link:!0,url:a.gml_url,color:"bg-dark"}),o.a.createElement(y,{name:"SHAPE FILE",link:!0,url:a.shape_file_url,color:"bg-dark"})),o.a.createElement("div",{className:"row mb-5"},o.a.createElement("div",{className:"col-2 mt-3 col-md-2 col-xl-2"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"list-group"},o.a.createElement("div",{id:"accordion1"},(null==r?void 0:r.wms_list)&&r.wms_list.map((function(t,n){return t.layers.length>0&&o.a.createElement("ul",{className:"list-group",key:n},o.a.createElement("li",{className:"list-group-item",role:"button",id:"".concat(n),"data-toggle":"collapse","data-target":"#collapse-".concat(n+1),"aria-controls":"collapse-".concat(n+1),onClick:function(){return e.setState({selected_wms:t,is_open:!u})}},o.a.createElement("i",{className:"icon expand-icon fa fa-".concat(l.id==t.id&&u?"minus":"plus"),id:"".concat(n)}),"  ",t.name),o.a.createElement("div",{id:"collapse-".concat(n+1),className:"ml-3 collapse list-group","data-parent":"#accordion1"},t.layers.map((function(n,r){return o.a.createElement("div",{key:r,role:"button",className:"list-group-item list-group-item-action ".concat(a.id==n.id?"active":""),onClick:function(){return e.setWms(t,n)}},o.a.createElement("a",null,n.name))}))))}))))))),o.a.createElement("div",{className:"col-10 mt-3 col-md-10 col-xl-10"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header"},o.a.createElement("h4",{className:"text-center"},a.name)),o.a.createElement("div",{className:"card-body"},o.a.createElement(c.a,{bundle:r,url:a.wms_url,is_menu_bar_all:"close",has_popup:!1,code:a.code}))))))}}])&&g(t.prototype,n),r&&g(t,r),i}(r.Component);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(c,e);var t,n,r,a=N(c);function c(){return P(this,c),a.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"bg-light"},o.a.createElement(i.a,null,o.a.createElement(l.d,null,o.a.createElement(l.b,{path:"/open-layer/",component:function(t){return o.a.createElement(k,O({},t,{open_layer:e.props.open_layer}))}}))))}}])&&j(t.prototype,n),r&&j(t,r),c}(r.Component),T=JSON.parse(document.getElementById("open-layer-app-data").innerHTML);Object(a.render)(o.a.createElement(F,{open_layer:T}),document.getElementById("open-layer-app"))}},[[815,2,0]]]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{178:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),o=n.n(r);n(219);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,e);var t,n,r,a=l(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={items:e.items||[],active_menu:"",is_togle:!1},t.activeState=t.activeState.bind(u(t)),t}return t=s,(n=[{key:"componentDidMount",value:function(){}},{key:"activeState",value:function(e){this.state.active_menu==e?this.setState({active_menu:"",is_togle:!1}):this.setState({active_menu:e,is_togle:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.is_togle,r=t.items,a=t.active_menu;return o.a.createElement("div",{id:"sidebar",className:n?"sidebar sidebar-left ":"sidebar sidebar-left collapsed",style:{zIndex:1}},o.a.createElement("div",{className:"sidebar-tabs"},o.a.createElement("ul",null,r.map((function(t,n){return t.bottom?null:o.a.createElement("li",{key:n,className:a==t.key?"active":""},o.a.createElement("a",{onClick:function(){return e.activeState(t.key)}},o.a.createElement("i",{className:t.icon})))}))),o.a.createElement("ul",null,r.map((function(t,n){return t.bottom&&o.a.createElement("li",{key:n,className:a==t.key?"active":""},o.a.createElement("a",{onClick:function(){return e.activeState(t.key)}},o.a.createElement("i",{className:t.icon})))})))),o.a.createElement("div",{className:"sidebar-content"},r.map((function(e,t){return o.a.createElement("div",{key:t,className:a==e.key?"sidebar-pane active":"sidebar-pane"},e.title&&o.a.createElement("h1",{className:"sidebar-header"},e.title),o.a.createElement(e.component,null))}))))}}])&&i(t.prototype,n),r&&i(t,r),s}(r.Component)},219:function(e,t,n){var r=n(62),o=n(220);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},220:function(e,t,n){(t=n(63)(!1)).push([e.i,".sidebar-left {\n    border-right: 3px solid transparent;\n}\n\n.sidebar {\n    position: absolute;\n    height: calc(100% - 37px - 96px);\n    top: 3px;\n    left: 3px;\n    bottom: 3px;\n    width: 400px;\n    overflow: hidden;\n    background-color: rgba(255, 255, 255, 0.4);\n    transition: 0.5s;\n}\n.sidebar.collapsed {\n    transition: 0.5s;\n    width: 42px;\n}\n\n@media (min-width: 768px){\n    .sidebar-left {\n        left: 6px;\n    }\n}\n\n@media (max-width: 991px) and (min-width: 768px){\n    .sidebar {\n        width: 305px;\n    }\n}\n\n.sidebar-tabs {\n    top: 0;\n    bottom: 0;\n    height: 100%;\n    background-color: rgba(0, 60, 136, 0.5);\n}\n\n.sidebar-tabs, .sidebar-tabs > ul {\n    position: absolute;\n    width: 40px;\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n}\n\n.sidebar-tabs > ul + ul {\n    bottom: 0;\n}\n\n.sidebar-tabs > ul > li {\n    width: 100%;\n    height: 40px;\n    color: #fff;\n    font-size: 12pt;\n    overflow: hidden;\n    transition: all 80ms;\n}\n\n.sidebar-tabs > ul > li.active {\n    color: #fff;\n    background-color: #034ea2;\n}\n\n.sidebar-tabs > ul > li > a {\n    display: block;\n    width: 100%;\n    height: 100%;\n    line-height: 40px;\n    color: inherit;\n    text-decoration: none;\n    text-align: center;\n}\n\n.sidebar-tabs > ul > li > a >.fa {\n    display: inline-block;\n    font-family: FontAwesome;\n    font-style: normal;\n    font-weight: normal;\n    line-height: 1;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n.sidebar-left .sidebar-tabs {\n    left: 0;\n}\n\n.sidebar-tabs {\n    overflow: hidden;\n}\n\n.sidebar-tabs, .sidebar-tabs > ul {\n    position: absolute;\n    width: 40px;\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n}\n\n@media (min-width: 768px){\n    .sidebar-tabs {\n        border-radius: 2px 0 0 2px;\n    }\n}\n\n\n.sidebar-left .sidebar-content {\n    left: 43px;\n    right: 0;\n}\n\n.sidebar-content {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    background-color: rgba(255, 255, 255, 0.95);\n    overflow-x: hidden;\n    overflow-y: auto;\n}\n\n@media (min-width: 768px){\n    .sidebar-content {\n        border-radius: 0 2px 2px 0;\n    }\n}\n\n.sidebar-pane.active {\n    display: block;\n}\n@media (max-width: 991px) and (min-width: 768px){\n    .sidebar-pane {\n        min-width: 265px;\n    }\n}\n\n.sidebar-pane {\n    display: none;\n    left: 0;\n    right: 0;\n    box-sizing: border-box;\n    padding: 10px 20px;\n}\n\n.sidebar-header {\n    margin: -10px -20px 0;\n    height: 40px;\n    padding: 0 20px;\n    line-height: 40px;\n    font-size: 14.4pt;\n    color: #fff;\n    background-color: #034ea2;\n}\n\n.lorem {\n    font-style: italic;\n    color: #AAA;\n}",""]),e.exports=t},515:function(e,t,n){var r=n(62),o=n(774);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},60:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=function(e,t){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="arraybuffer",n.onload=function(){var t=new Uint8Array(this.response),n=new Blob([t],{type:"image/png"}),r=(window.URL||window.webkitURL).createObjectURL(n);e.getImage().src=r},n.send()},o=function(e){"ALL"===e?(localStorage.clear(),setTimeout((function(){window.location.reload()}),1e3)):localStorage.removeItem(e)}},771:function(e,t,n){n(149),e.exports=n(885)},772:function(e,t,n){var r=n(62),o=n(773);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},773:function(e,t,n){(t=n(63)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300;0,400;0,500;0,700;0,900;1,300;1,400;1,500&display=swap);"]),t.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap);"]),t.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap);"]),t.push([e.i,"body{\n    font-family: 'Roboto', sans-serif;\n    font-size: 19px;\n    font-weight: 400;\n    color: black;\n}\n\na .fa{\n    font-size: 20px;\n}\na .fa:hover{\n  color: rgba(0,60,136,1);\n}\na .footerButton{\n    font-size: 8px;\n}\na .footerButton:hover{\n  color: rgba(0,60,136,1);\n}\n\n.wmsLayerButtonBack{\n    background-color: rgba(0, 60, 136, 0.5);\n    border-radius: 4px;\n    padding: 1px 1px;\n    width: 39px;\n    height: 39px;\n    top: 160px;\n    border-radius: 10px 0 0 0px;\n    right: 0px;\n    position: fixed;\n\n\n}\n.wmsLayerButtonBack:active{\n  background-color: rgba(0, 60, 136, 0.7);\n}\n.wmsLayerButtonBack:hover {\n  background-color: rgba(0, 60, 136, 0.7);\n}\n\n.wmsLayerButton{\n    color: white;\n    padding: 8px 8px;\n\n}\n\n.fas{\n    font-size: 22px;\n\n}\n/* bundle layer screen */\n.wmsLayerScreen{\n    position: fixed;\n    right: 0px;\n    left: 0px;\n    bottom: 0%;\n    padding-top: 25px;\n    padding-bottom: 45px;\n    padding-right: 20px;\n    padding-left: 20px;\n    overflow-y: auto;\n    width: 100%;\n    height: 80%;\n    background-color: whitesmoke;\n    border-top-right-radius: 10px;\n    border-top-left-radius: 10px;\n    -webkit-box-shadow: 0px -3px 12px -1px rgba(0,0,0,0.62);\n    -moz-box-shadow: 0px -3px 12px -1px rgba(0,0,0,0.62);\n    transition: .4s;\n    box-shadow: 0px -3px 12px -1px rgba(0,0,0,0.62);\n}\n.wmsLayerScreen-hide{\n  bottom: -100%;\n  transition: 0.4s;\n}\n\n.wmsLayerScreen .col-10{\n  color:rgba(0,60,136,1);\n}\n\n.header {\n    position: fixed;\n    z-index: 10;\n    width: 100%;\n    padding: 12px;\n    background-color:rgba(0,60,136,1);\n    color: white;\n  }\n.header .fa {\n    font-size: 32px;\n}\n.header h1 {\n  font-size: 18px;\n}\n.header .input-group {\n  top: 16%;\n}\n.header .geoIconNoText{\n  width: 50px;\n}\n\n.metaDataScreen{\n    overflow: hidden;\n}\n\n.wmsLayerScreen img{\n  width: 60px;\n  height: 60px;\n}\n.wmsLayerScreen p{\n  font-size: 10px;\n}\n\n/* back arrow style*/\n.backarrow {\n  z-index: 1;\n  font-size: 35px;\n  position: fixed;\n  left: 6%;\n  top: 20px;\n  color: rgba(0, 60, 136, 01);\n}\n.backarrow:active{\n  color: rgba(0, 60, 136, 0.7);\n\n}\n\n.geoIcon{\n  width: 56%;\n  height: 100%;\n}\n\n.xButton {\n  position: absolute;\n  top: 2%;\n  right: -4%;\n  font-size: 20px;\n  color:rgba(0,60,136,1);\n}\nhr {\n  margin-top: 5px;\n  margin-bottom: 16px;\n}",""]),e.exports=t},774:function(e,t,n){(t=n(63)(!1)).push([e.i,".🌍 {\n    position: relative;\n}\n\n.🌍 > #map{\n     position: fixed;\n     right: 0px;\n     width: 100%;\n     height:100%;\n }\n\n.🌍 > .⚙ {\n    z-index: 2;\n    position: fixed;\n    width: 80%;\n    top: 0;\n    right: 0px;\n    left: -85%;\n    height: 100%;\n    bottom: -80%;\n    background-color: white;\n    color: rgba(0, 60, 136, 1);\n    padding-bottom: 20px;\n    padding-top: 20px;\n    padding-left: 20px;\n    padding-right: 20px;\n    overflow-y: auto;\n    -webkit-box-shadow: 0px -3px 12px -1px rgba(0,0,0,0.62);\n    -moz-box-shadow: 0px -3px 12px -1px rgba(0,0,0,0.62);\n    box-shadow: 0px -3px 12px -1px rgba(0,0,0,0.62);\n    transition: 0.4s;\n    font-size: 12px;\n}\n.🌍 > .⚙-hide {\n    transition: 0.4s;\n    left: 0%;\n\n}\n.⚙ .checkbox{\n    border-radius: 30px;\n}\n.⚙ a{\n    font-size: 15px;\n}\n\n.⚙ hr {\n    margin-top: 0rem;\n    margin-bottom: 0rem;\n}\n.🌍 > .⚙-toggle{\n    position: fixed;\n    top: 200px;\n    right: 0px;\n    width: 39px;\n    height: 39px;\n    background-color: rgba(0,60,136,0.5);\n    border-radius: 4px;\n    padding: 2px;\n    border-radius: 0 0 0px 10px;\n    text-align: center;\n}\n.⚙-toggle:active{\n    background-color: rgba(0,60,136,0.7);\n\n}\n.⚙-toggle:hover{\n    background-color: rgba(0,60,136,0.7);\n\n}\n\n.⚙-toggle .fa-lg{\n    font-size: 22px;\n    color: white;\n    padding: 9px 8px;\n}\n.⚙-toggle .fa{\n    font-size: 30;\n}\n\n.🌍 > .⚙-location {\n    position: fixed;\n    top: 350px;\n    right: 0px;\n    width: 39px;\n    height: 39px;\n    background-color: rgba(0,60,136,0.5);\n    border-radius: 4px;\n    padding: 2px;\n    border-radius: 10px 0 0px 10px;\n    text-align: center;\n}\n\n.⚙-location:active{\n    background-color: rgba(0,60,136,0.7);\n\n}\n.⚙-location:hover{\n    background-color: rgba(0,60,136,0.7);\n\n}\n\n.⚙-location .fa-lg {\n    font-size: 18px;\n    color: white;\n    padding: 11px 9px;\n}\n\n.⚙-location .fa{\n    font-size: 30;\n}\n\n.суурь-давхаргууд{\n    right: .5rem;\n    bottom: 2px;\n    position: fixed;\n}\n.суурь-давхаргууд > .суурь-давхарга{\n    display: block;\n    width: 4rem;\n    height: 2rem;\n    overflow: hidden;\n    margin: 1px;\n    border-radius: 2px;\n    float: right;\n    transition: opacity .15s ease-out;\n}\n.суурь-давхаргууд > .суурь-давхарга.active,\n.суурь-давхаргууд:hover > .суурь-давхарга.active:hover,\n.суурь-давхаргууд > .суурь-давхарга:hover {\n    opacity: 1;\n}\n.суурь-давхаргууд > .суурь-давхарга,\n.суурь-давхаргууд:hover > .суурь-давхарга.active {\n    opacity: .7;\n}\n\n\n.ol-zoom {\n    width:42px;\n    height: 84px;\n    left: unset;\n    right: 0px;\n    top: 250px;\n    font-size: 25px;\n    position: fixed;\n    background-color: unset;\n\n}\n.ol-zoom:hover {\n    background-color: unset;\n}\n\n.ol-zoom  .ol-zoom-out{\n    width: 39px;\n    height: 39px;\n    border-radius: 0px 0 0px 10px;\n\n}\n.ol-zoom .ol-zoom-in{\n    width: 39px;\n    height: 39px;\n    border-radius: 10px 0 0px 0px;\n\n}\n\n.ol-viewport .ol-mouse-position {\n    font-size: 12px;\n}\n.ol-mouse-position {\n    position: fixed;\n    top: 2%;\n    left: 1rem;\n    background: rgba(0,60,136,0.3);\n    border-radius: 4px;\n    padding: 2px .2rem;\n    font-size: smaller;\n    color: #eee;\n    text-align: center;\n    width: 8.8rem;\n    min-height: 1rem;\n}\n.ol-scale-line  {\n    bottom: 7%;\n    position: fixed;\n}\n.coordinate-copy-control {\n    width: 10rem;\n    left: calc(50% - 5rem);\n    top: 1rem;\n    opacity: 1;\n}\n.coordinate-copy-control.ol-hidden {\n    opacity: 0;\n    visibility: hidden;\n    transition: opacity .25s linear, visibility 0s linear .25s;\n}\n\n.xButtonLayer {\n    font-size: 27px;\n    position: absolute;\n    right: 9%;\n    color: rgba(0,60,136,1);\n}\n.searchComponent{\n    padding: 0px 28px;\n}\n\n.sidebarHeader {\n    position: fixed;\n    border-top-right-radius: 10px;\n    border-top-left-radius: 10px;\n    background-color: white;\n    left: 14px;\n    width: 100%;\n    padding-top: 12px;\n    -webkit-box-shadow: -2px 10px 6px -10px rgba(0,0,0,0.75);\n    -moz-box-shadow: -2px 10px 6px -10px rgba(0,0,0,0.75);\n    box-shadow: 0px 6px 6px -9px rgba(0,0,0,0.75);\n    z-index: 2;\n}\n.sidebarFooter{\n    top: 5%;\n    position: absolute;\n    overflow-y: scroll;\n}\n\n.phone-modal{\n    font-size: 12px;\n\n}",""]),e.exports=t},885:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(12),i=n.n(a);n(772);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={loadWMSLayers:function(e){var t=l({},{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}});return fetch("/дэд-сан/".concat(e,"/давхаргууд/"),t).then(f)},loadBaseLayers:function(){var e=l({},{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}});return fetch("/суурь-давхарга/",e).then(f)},wmsLayerAll:function(){var e=l({},{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}});return fetch("/m/",e).then(f)},wmsLayerOneDatas:function(e){var t=l({},{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}});return fetch("/m/дэд-сан/"+e,t).then(f)}};function f(e){return e.text().then((function(t){var n=t&&JSON.parse(t);if(!e.ok){-1!==[401,403].indexOf(e.status)&&location.reload(!0);var r=n&&n.message||e.statusText;return Promise.reject(r)}return n}))}n(237);var p=n(106),d=n(890),y=n(471),m=n(2),h=n(329),b=n(136),g=n(282),v=n(283),w=n(61),x=n(86),_=n(141),S=n(118),O=n(144),E=n(935),k=n(236),j=n(214),P=n(125),L=n(221),C=n(17),R=n(31),N=n(514),I=n(512),z=n(182),T=n(79),B=n(18);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,n,r,o=F(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=e||{};(t=o.call(this,{element:document.createElement("div"),target:n.target})).toggleLayer=t.toggleLayer.bind(V(t)),t.initLayer=t.initLayer.bind(V(t)),t.handleClick=t.handleClick.bind(V(t)),t.last_layer=null,t.last_layer_el=null,t.last_active=null;var r=n.layers.map(t.initLayer),i="суурь-давхаргууд ".concat(B.e," ").concat(B.b),c=t.element;return c.className=i,r.forEach((function(e){return c.appendChild(e)})),t}return t=a,(n=[{key:"initLayer",value:function(e){var t=this,n=(e.thumbnail_1x,e.thumbnail_2x),r=e.layer,o=e.is_active,a=document.createElement("a");return a.setAttribute("href","#"),a.className="суурь-давхарга"+(o?" active":""),a.style.backgroundImage="url(".concat(n,")"),a.addEventListener("click",(function(e){e.preventDefault(),t.handleClick(a,r)})),this.toggleLayer(!0===o,a,r),a}},{key:"toggleLayer",value:function(e,t,n){this.last_active&&e&&(this.last_active.layer.setVisible(!1),this.last_active.el.classList.toggle("active",!1)),n.setVisible(e),t.classList.toggle("active",e),e&&(this.last_active={el:t,layer:n})}},{key:"handleClick",value:function(e,t){this.last_active&&this.last_active.el===e||this.toggleLayer(!0,e,t)}}])&&A(t.prototype,n),r&&A(t,r),a}(T.a);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),e}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(e){$(n,e);var t=K(n);function n(e){var r;return H(this,n),(r=t.call(this,e)).handleCoordinateSet=r.handleCoordinateSet.bind(Q(r)),r}return Y(n,[{key:"componentDidMount",value:function(){this.handleCoordinateSet()}},{key:"componentDidUpdate",value:function(e){this.handleCoordinateSet()}},{key:"handleCoordinateSet",value:function(){var e=i.a.findDOMNode(this);e.focus(),e.select()}},{key:"render",value:function(){return o.a.createElement("input",{type:"text",className:"form-control",onChange:function(){},onBlur:this.props.handleBlur,value:this.props.coordinate})}}]),n}(r.Component),ne=function(e){$(n,e);var t=K(n);function n(e){var r;H(this,n);var o=e||{};(r=t.call(this,{element:document.createElement("div"),target:o.target})).is_component_initialized=!1;var a="coordinate-copy-control ".concat(B.b," ").concat(B.c);return r.element.className=a,r.render=r.render.bind(Q(r)),r.toggleControl=r.toggleControl.bind(Q(r)),r}return Y(n,[{key:"toggleControl",value:function(e){this.element.classList.toggle(B.c,!e)}},{key:"renderComponent",value:function(e){var t=this;e.handleBlur=function(){return t.toggleControl(!1)},this.is_component_initialized||(i.a.render(o.a.createElement(te,e),this.element),this.is_component_initialized=!0),i.a.hydrate(o.a.createElement(te,e),this.element)}},{key:"setCoordinate",value:function(e){this.renderComponent({coordinate:e}),this.toggleControl(!0)}}]),n}(T.a);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),e}function se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?de(e):t}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=function(e){se(n,e);var t=fe(n);function n(){return ie(this,n),t.apply(this,arguments)}return le(n,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.is_complete;return o.a.createElement("div",{className:"modal-dialog modal-dialog-scrollable phone-modal",style:{zIndex:"5"}},o.a.createElement("div",{className:"modal-content",onClick:this.props.handleClose},o.a.createElement("div",{className:"modal-header",onClick:this.props.handleClose},o.a.createElement("h5",{className:"modal-title"},"Дэлгэрэнгүй мэдээлэл"),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"×"))),o.a.createElement("div",{className:"modal-body"},!n&&o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement("strong",null,"Түр хүлээнэ үү..."),o.a.createElement("div",{className:"spinner-border ml-auto",role:"status","aria-hidden":"true"})),n&&t.map((function(e,t){var n=oe(e,2),r=n[0],a=n[1];return o.a.createElement("div",{key:t},o.a.createElement("h6",null,r),o.a.createElement("table",{className:"table"},o.a.createElement("tbody",null,a.map((function(e,t){var n=oe(e,2),r=n[0],a=n[1];return o.a.createElement("tr",{key:t},o.a.createElement("th",null,r),o.a.createElement("td",null,a))})))))}))),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",onClick:this.props.handleClose,className:"btn btn-secondary","data-dismiss":"modal"},"Буцах"))))}}]),n}(r.Component),he=function(e){se(n,e);var t=fe(n);function n(e){var r;ie(this,n);var o=e||{};return(r=t.call(this,{element:document.createElement("div"),target:o.target})).is_component_initialized=!1,r.element.className="modal fade show",r.renderComponent=r.renderComponent.bind(de(r)),r.toggleControl=r.toggleControl.bind(de(r)),r}return le(n,[{key:"toggleControl",value:function(e){this.element.classList.toggle("d-block",e)}},{key:"renderComponent",value:function(e){var t=this;e.handleClose=function(){return t.toggleControl(!1)},this.is_component_initialized||(i.a.render(o.a.createElement(me,e),this.element),this.is_component_initialized=!0),i.a.hydrate(o.a.createElement(me,e),this.element)}},{key:"showModal",value:function(e,t){this.toggleControl(!0),this.renderComponent({content:e,is_complete:t})}}]),n}(T.a);n(515);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var o=Se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?_e(e):t}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(i,e);var t,n,r,a=we(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={name:e.layer.name,code:e.layer.code,tile:e.layer.tile,is_visible:e.layer.defaultCheck,legend:e.layer.legend},t.toggle=t.toggle.bind(_e(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.state.tile.setVisible(this.props.layer.defaultCheck)}},{key:"toggle",value:function(e){this.state.tile.setVisible(e),this.setState({is_visible:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,r=t.code,a=t.is_visible,i=t.legend;return o.a.createElement("li",null,o.a.createElement("label",null,o.a.createElement("div",{className:"custom-control custom-switch"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:r,onChange:function(t){return e.toggle(t.target.checked)},checked:a}),o.a.createElement("label",{className:"custom-control-label",htmlFor:r},n))),i&&o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("img",{className:"img",src:i}))))}}])&&ge(t.prototype,n),r&&ge(t,r),i}(r.Component);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ce(e);if(t){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Le(this,n)}}function Le(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(i,e);var t,n,r,a=Pe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={layers:e.layers},t}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("ul",{style:{listStyle:"none"}},this.state.layers.map((function(e,t){return o.a.createElement(Oe,{layer:e,key:t})})))}}])&&ke(t.prototype,n),r&&ke(t,r),i}(r.Component);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ae(e);if(t){var o=Ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?Me(e):t}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(c,e);var t,n,a,i=Te(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={name:e.wms.name,tiles:e.wms.tiles,layers:e.wms.layers,is_visible:!0},t.toggle=t.toggle.bind(Me(t)),t}return t=c,(n=[{key:"toggle",value:function(e){var t=e.target.checked;this.setState({is_visible:t}),this.state.layers.map((function(e){return e.tile.setVisible(t)}))}},{key:"render",value:function(){var e=this.state,t=e.tiles,n=e.name,a=e.layers;return e.is_visible,o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"col-11"},o.a.createElement("div",{className:"col-12"},o.a.createElement("h6",null," ",n),o.a.createElement("hr",null))),o.a.createElement(Re,{layers:a,tileWMS:t}))}}])&&Ie(t.prototype,n),a&&Ie(t,a),c}(r.Component);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){Ge=function(e,t){return new a(e,void 0,t)};var n=Ue(RegExp),r=RegExp.prototype,o=new WeakMap;function a(e,t,r){var a=n.call(this,e,t);return o.set(a,r||o.get(e)),a}function i(e,t){var n=o.get(t);return Object.keys(n).reduce((function(t,r){return t[r]=e[n[r]],t}),Object.create(null))}return Ve(a,n),a.prototype.exec=function(e){var t=r.exec.call(this,e);return t&&(t.groups=i(t,this)),t},a.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var n=o.get(this);return r[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+n[t]})))}if("function"==typeof t){var a=this;return r[Symbol.replace].call(this,e,(function(){var e=[];return e.push.apply(e,arguments),"object"!==Fe(e[e.length-1])&&e.push(i(e,a)),t.apply(this,e)}))}return r[Symbol.replace].call(this,e,t)},Ge.apply(this,arguments)}function Ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}function Ue(e){var t="function"==typeof Map?new Map:void 0;return(Ue=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Xe(e,arguments,We(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),He(r,e)})(e)}function Xe(e,t,n){return(Xe=qe()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&He(o,n.prototype),o}).apply(null,arguments)}function qe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ye={parseCoordinateString:function(e){var t=Ge(/^(\x2D?[0-9]+(\.[0-9]+)?)[ ,](\x2D?[0-9]+(\.[0-9]+)?)$/,{latitude:1,longitude:3}).exec(e),n=0,r=0;t&&(n=parseFloat(t.groups.latitude),r=parseFloat(t.groups.longitude));return[r,n]}};function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tt(e);if(t){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qe(this,n)}}function Qe(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?et(e):t}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(i,e);var t,n,r,a=Ze(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={coordinate:""},t.handleSubmitCoordinate=t.handleSubmitCoordinate.bind(et(t)),t}return t=i,(n=[{key:"handleSubmitCoordinate",value:function(e){e.preventDefault();var t=Ye.parseCoordinateString(this.state.coordinate);this.props.handleSetCenter(t,3),this.props.toggleSidebar(!1)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:this.props.is_sidebar_open?"col-md-12 ⚙ ⚙-hide":"col-md-12 ⚙"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"row xButtonLayer"},o.a.createElement("a",{onClick:function(){return e.props.toggleSidebar(!1)}},o.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))),o.a.createElement("div",{className:"row sidebarFooter"},this.props.map_wms_list.map((function(e,t){return o.a.createElement(De,{wms:e,key:t})})))))}}])&&Je(t.prototype,n),r&&Je(t,r),i}(r.Component),rt=(n(178),n(60)),ot=n(334);function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e){return function(e){if(Array.isArray(e))return pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ft(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||ft(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){if(e){if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(e,t):void 0}}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gt(e);if(t){var o=gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(e,t){return!t||"object"!==at(t)&&"function"!=typeof t?bt(e):t}function bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(i,e);var t,n,r,a=mt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={projection:"EPSG:3857",projection_display:"EPSG:4326",bundle:e.bundle,map_wms_list:[],is_sidebar_open:!1,coordinate_clicked:null,vector_layer:null,hureelayer:null,longitude:0,latitude:0,feature_info:[]},t.controls={coordinateCopy:new ne,modal:new he},t.marker=t.initMarker(),t.handleToggle=t.handleToggle.bind(bt(t)),t.handleMapDataLoaded=t.handleMapDataLoaded.bind(bt(t)),t.handleMapClick=t.handleMapClick.bind(bt(t)),t.handleSetCenter=t.handleSetCenter.bind(bt(t)),t.toggleSidebar=t.toggleSidebar.bind(bt(t)),t.loadMapData=t.loadMapData.bind(bt(t)),t.showFeaturesAt=t.showFeaturesAt.bind(bt(t)),t.showFeaturesLimit=t.showFeaturesLimit.bind(bt(t)),t.locationSet=t.locationSet.bind(bt(t)),t.connectPointToPoint=t.connectPointToPoint.bind(bt(t)),t.searchValueAddLayer=t.searchValueAddLayer.bind(bt(t)),t.removeSearchValueAddLayer=t.removeSearchValueAddLayer.bind(bt(t)),t}return t=i,(n=[{key:"initMarker",value:function(){var e=new O.c({image:new E.a({anchor:[.5,86],anchorXUnits:"fraction",anchorYUnits:"pixels",scale:.4,src:"/static/assets/image/marker.png"})}),t=new w.a([0,0]),n=new p.a({geometry:t});return n.setStyle(e),{feature:n,point:t}}},{key:"componentDidMount",value:function(){var e=this;this.state.bundle.id&&this.loadMapData(this.state.bundle.id),navigator.geolocation.getCurrentPosition((function(t){t.coords.longitude,t.coords.latitude,e.setState({longitude:t.coords.longitude,latitude:t.coords.latitude})}))}},{key:"componentDidUpdate",value:function(e,t){if(t.coordinate_clicked!==this.state.coordinate_clicked&&this.controls.coordinateCopy.setCoordinate(this.state.coordinate_clicked),this.props.bundle.id!==e.bundle.id){var n=this.props.bundle;this.setState({bundle:n}),this.loadMapData(n.id)}}},{key:"loadMapData",value:function(e){var t=this;Promise.all([u.loadBaseLayers(),u.loadWMSLayers(e)]).then((function(e){var n=ut(e,2),r=n[0].base_layer_list,o=n[1].wms_list;t.handleMapDataLoaded(r,o)}))}},{key:"handleMapDataLoaded",value:function(e,t){var n=this,r=[.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209014892578e-21,1341104507446289e-21,6.705522537231445e-7,3.3527612686157227e-7],o=["EPSG:4326:0","EPSG:4326:1","EPSG:4326:2","EPSG:4326:3","EPSG:4326:4","EPSG:4326:5","EPSG:4326:6","EPSG:4326:7","EPSG:4326:8","EPSG:4326:9","EPSG:4326:10","EPSG:4326:11","EPSG:4326:12","EPSG:4326:13","EPSG:4326:14","EPSG:4326:15","EPSG:4326:16","EPSG:4326:17","EPSG:4326:18","EPSG:4326:19","EPSG:4326:20","EPSG:4326:21"],a=t.map((function(e){var t=e.name,a=e.url,i=e.chache_url,c=e.wms_or_cache_ur;return{name:t,layers:e.layers.map((function(e){return lt(lt({},e),{},{wms_or_cache_ur:c,tile:new b.a({preload:6,minZoom:e.zoom_start,maxZoom:e.zoom_stop,source:new _.a({url:i,layer:e.code,matrixSet:n.state.projection_display,format:"image/png",projection:n.state.projection_display,tileGrid:new S.b({tileSize:[256,256],extent:[-180,-90,180,90],origin:[-180,90],resolutions:r,matrixIds:o}),style:"",wrapX:!0,cacheSize:1e3,tileLoadFunction:rt.b})}),wms_tile:new b.a({preload:6,source:new L.a({projection:n.state.projection,ratio:1,url:a,params:{LAYERS:e.code,FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",exceptions:"application/vnd.ogc.se_inimage"},tileLoadFunction:rt.b})})})}))}}));a.map((function(e,t){return e.layers.map((function(e,t){0==e.defaultCheck&&e.tile.setVisible(!1),0==e.defaultCheck&&e.wms_tile.setVisible(!1),e.legend=e.wms_tile.getSource().getLegendUrl()}))})),this.setState({map_wms_list:a});var i=e.reduce((function(e,t,a){var i;return"xyz"==t.tilename&&(i=new b.a({preload:6,source:new P.a({crossOrigin:"Anonymous",url:t.url})})),"wms"==t.tilename&&(i=new b.a({source:new L.a({ratio:1,url:t.url,params:{LAYERS:t.layers,FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",exceptions:"application/vnd.ogc.se_inimage"},tileLoadFunction:rt.b}),name:"base_layer"})),"wmts"==t.tilename&&(i=new b.a({source:new _.a({url:t.url,layer:t.layers,matrixSet:n.state.projection_display,format:"image/png",projection:n.state.projection_display,tileGrid:new S.b({tileSize:[256,256],extent:[-180,-90,180,90],origin:[-180,90],resolutions:r,matrixIds:o}),tileLoadFunction:rt.b,style:"",wrapX:!0})})),e.base_layers.push(i),e.base_layer_controls.push({is_active:0==a,thumbnail_1x:t.thumbnail_1x,thumbnail_2x:t.thumbnail_2x,layer:i}),e}),{base_layers:[],base_layer_controls:[]}),c=i.base_layers,l=i.base_layer_controls,s=new g.a({source:new v.a({}),style:new O.c({stroke:new k.a({color:"rgb(51, 204, 204)",width:2})})});this.search_vector_layer=s;var u=new g.a({source:new v.a,style:new O.c({image:new E.a({anchor:[.5,86],anchorXUnits:"fraction",anchorYUnits:"pixels",scale:.4,src:"/static/assets/image/marker.png"})})});this.setState({vector_layer:u});var f=new g.a({source:new v.a({features:[this.marker.feature]})}),p=new d.a({target:"map",controls:Object(R.a)().extend([new N.a({projection:this.state.projection_display,coordinateFormat:function(e){return Object(C.f)(e,"{y},{x}",6)},undefinedHTML:""}),new X({layers:l}),new I.a,this.controls.modal]),layers:[].concat(it(c),it(a.reduce((function(e,t){var n=t.layers.map((function(e){return e.tile}));return[].concat(it(e),it(n))}),[])),[u,f,s]),view:new y.a({projection:this.state.projection,center:[11461613.630815497,5878656.0228370065],zoom:5.041301562246971})});p.on("click",this.handleMapClick),this.map=p,this.searchValueAddLayer()}},{key:"searchValueAddLayer",value:function(){var e=this.props.geo_data,t=this.state,n=t.projection_display,r=t.projection;if(e.geo_json){var o="search_value_layer";this.removeSearchValueAddLayer(o);var a=(new ot.a).readFeatures(e.geo_json,{dataProjection:n,featureProjection:r});a[0].setProperties({id:o}),this.search_vector_layer.getSource().addFeature(a[0]),this.map.getView().fit(a[0].getGeometry(),{padding:[25,25,25,25]})}}},{key:"removeSearchValueAddLayer",value:function(e){var t=this.search_vector_layer.getSource(),n=t.getFeatures();if(null!=n&&n.length>0)for(var r=0;r<n.length;r++)if(n[r].getProperties().id==e){t.removeFeature(n[r]);break}}},{key:"handleMapClick",value:function(e){if(this.state.is_sidebar_open)this.setState({is_sidebar_open:!1});else if(this.props.wmsLayerScreenIsload)this.props.wmsLayerName();else{var t=e.map.getView().getProjection(),n=Object(m.p)(e.coordinate,t,this.state.projection_display),r=Object(C.f)(n,"{y},{x}",6);this.setState({coordinate_clicked:r}),this.showFeaturesAt(e.coordinate)}}},{key:"connectPointToPoint",value:function(e){var t=this,n=this.state,r=n.longitude,o=n.latitude,a=n.vector_layer,i=[r,o],c=Object(m.d)(i,this.state.projection),l=new O.c({stroke:new k.a({color:"#d12710",width:4,lineDash:[.6,5]})});this.features=[],e.map((function(e,n){var r=e.getGeometry().getCoordinates(),o=new x.a([c,r]),i=new p.a(o);i.setStyle(l),a.getSource().addFeature(i);var s=o.getCoordinates().length;t.line=o,t.routeLength=s})),this.geoMarker=new p.a({type:"geoMarker",geometry:new w.a(c[0])})}},{key:"showFeaturesLimit",value:function(){var e=this,t=this.state,n=t.longitude,r=t.latitude,o=[n,r],a=[n+.12,r+.4],i=[n-.12,r-.4],c=Object(m.d)(o,this.state.projection),l=(Object(m.d)(a,this.state.projection),Object(m.d)(i,this.state.projection),this.map.getView()),s=l.getProjection();l.getResolution(),this.setState({pay_modal_check:!1}),this.state.map_wms_list.forEach((function(t){t.layers.forEach((function(t){var n=t.tile,r=(t.feature_price,t.geodb_export_field,t.geodb_pk_field,t.geodb_schema,t.geodb_table);if(t.code,1==n.getVisible()){var o=n.getSource(),a=o.getFeatureInfoUrl(c,5e3,s,{INFO_FORMAT:"application/vnd.ogc.gml",feature_count:10});a?fetch(a).then((function(e){return e.text()})).then((function(t){var n=(new h.a).readFeatures(t),o=(new v.a({features:n}),n.map((function(e){var t=e.getGeometryName(),n=e.getKeys().filter((function(e){return e!=t})).map((function(t){return[t,e.get(t)]}));return[e.getId(),n]})));e.state.is_draw_open||"mpoint_view"==r||e.state.pay_modal_check||"privite"==r||o.length>0&&e.setState({feature_info:o})})):console.log("no feature url",o)}}))}))}},{key:"showFeaturesAt",value:function(e){var t=this,n=this.map.getView(),r=n.getProjection(),o=n.getResolution();this.setState({pay_modal_check:!1}),this.state.map_wms_list.forEach((function(n){n.layers.forEach((function(n){var a=n.tile,i=(n.feature_price,n.geodb_export_field,n.geodb_pk_field,n.geodb_schema,n.geodb_table);if(n.code,1==a.getVisible()){var c=a.getSource(),l=c.getFeatureInfoUrl(e,o,r,{INFO_FORMAT:"application/vnd.ogc.gml"});l?(t.state.is_draw_open,fetch(l).then((function(e){return e.text()})).then((function(e){var n=(new h.a).readFeatures(e),r=new v.a({features:n}),o=n.map((function(e){var t=e.getGeometryName(),n=e.getKeys().filter((function(e){return e!=t})).map((function(t){return[t,e.get(t)]}));return[e.getId(),n]}));t.state.is_draw_open||"mpoint_view"==i||t.state.pay_modal_check||"privite"==i||(t.state.vector_layer.setSource(r),t.connectPointToPoint(n),o.length>0&&t.controls.modal.showModal(o,!0))}))):console.log("no feature url",c)}}))}))}},{key:"handleToggle",value:function(e){var t=this.state.layers[e];t.setVisible(!t.getVisible())}},{key:"handleSetCenter",value:function(e,t){var n=this.map.getView(),r=n.getProjection(),o=Object(m.p)(e,this.state.projection_display,r);this.marker.point.setCoordinates(o),n.animate({zoom:t,duration:4e3},{center:n.setCenter(o),duration:2e3});var a=new g.a({source:new v.a({projection:this.state.projection_display,features:[new p.a(new z.a(o,1e3))]}),style:new O.c({stroke:new k.a({color:"BLUE",width:2}),fill:new j.a({color:"rgba(100, 255, 0, 0)"})})});this.setState({hureelayer:a}),this.map.addLayer(this.state.hureelayer)}},{key:"toggleSidebar",value:function(e){this.setState({is_sidebar_open:e})}},{key:"locationSet",value:function(){var e=this;this.map.removeLayer(this.state.hureelayer),this.showFeaturesLimit(),navigator.geolocation.getCurrentPosition((function(t){var n=[t.coords.longitude,t.coords.latitude];e.handleSetCenter(n,14.6)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("button",{onClick:this.showDetail,style:{display:"none"}},"click here"),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"🌍"},o.a.createElement("div",{id:"map"}),o.a.createElement(nt,{map_wms_list:this.state.map_wms_list,toggleSidebar:this.toggleSidebar,is_sidebar_open:this.state.is_sidebar_open,handleSetCenter:this.handleSetCenter}),o.a.createElement("div",{className:"⚙-toggle"},o.a.createElement("a",{href:"#",onClick:function(){return e.setState((function(e){return{is_sidebar_open:!e.is_sidebar_open}}))}},o.a.createElement("i",{className:"fa fa-bars fa-lg","aria-hidden":"true"}))),o.a.createElement("div",{className:"⚙-location"},o.a.createElement("a",{href:"#",onClick:function(){return e.locationSet()}},o.a.createElement("i",{className:"fa fa-location-arrow fa-lg","aria-hidden":"true"})))))))}}])&&dt(t.prototype,n),r&&dt(t,r),i}(r.Component);function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Et(e);if(t){var o=Et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(e,t){return!t||"object"!==wt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(i,e);var t,n,r,a=St(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={bundle:e.bundle,wmsLayerScreenIsload:e.wmsLayerScreenIsload},t}return t=i,(n=[{key:"handleSelectBundle",value:function(e,t){e.preventDefault(),this.setState({bundle:t})}},{key:"componentDidUpdate",value:function(e){if(e.wmsLayerScreenIsload!==this.props.wmsLayerScreenIsload){var t=this.props.wmsLayerScreenIsload;this.setState({wmsLayerScreenIsload:t})}}},{key:"render",value:function(){return o.a.createElement(vt,{bundle:this.state.bundle,wmsLayerName:this.props.wmsLayerName,wmsLayerScreenIsload:this.state.wmsLayerScreenIsload,geo_data:this.props.geo_data})}}])&&xt(t.prototype,n),r&&xt(t,r),i}(r.Component);function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=It(e);if(t){var o=It(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rt(this,n)}}function Rt(e,t){return!t||"object"!==jt(t)&&"function"!=typeof t?Nt(e):t}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(i,e);var t,n,r,a=Ct(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={metaDataScreenIsload:!0,wmsLayerScreenIsload:!1,loginScreenIsload:!1,bundleName:"Гэо дата",bundleId:null,bundle:[]},t.wmsLayerName=t.wmsLayerName.bind(Nt(t)),t}return t=i,(n=[{key:"wmsLayerName",value:function(){this.state.wmsLayerScreenIsload?this.setState({wmsLayerScreenIsload:!1}):this.setState({wmsLayerScreenIsload:!0})}},{key:"wmsLayerId",value:function(e,t){var n=this;this.setState({bundleId:e,bundleName:t}),Promise.all([u.wmsLayerOneDatas(e)]).then((function(e){e&&(n.setState({bundle:e[0].bundle_display,metaDataScreenIsload:!1}),n.setState({metaDataScreenIsload:!0}))}))}},{key:"componentDidMount",value:function(){var e=this.props.bundle.bundles[0],t=e.id,n=e.name;this.wmsLayerId(t,n)}},{key:"render",value:function(){var e=this,t=this.props.bundle,n=t.bundles,r=t.geo_data;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",null,this.state.metaDataScreenIsload&&o.a.createElement("div",{className:"metaDataScreen"},o.a.createElement(kt,{bundle:this.state.bundle,wmsLayerName:this.wmsLayerName,wmsLayerScreenIsload:this.state.wmsLayerScreenIsload,geo_data:r}),o.a.createElement("a",{className:"wmsLayerButtonBack",onClick:function(){return e.wmsLayerName()}},o.a.createElement("i",{className:"fas fa-layer-group wmsLayerButton","aria-hidden":"true"}))),o.a.createElement("div",{className:this.state.wmsLayerScreenIsload?"wmsLayerScreen":"wmsLayerScreen wmsLayerScreen-hide"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-10"},o.a.createElement("a",null,"ДЭД САН")),o.a.createElement("div",{className:"col-2 xButton"},o.a.createElement("a",{onClick:function(){return e.wmsLayerName()}},o.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))),o.a.createElement("hr",null),o.a.createElement("div",{className:"row "},n.map((function(t,n){return o.a.createElement("div",{className:"col-4 text-center sub",key:n},o.a.createElement("a",{onClick:function(){return e.wmsLayerId(t.id,t.name)}},o.a.createElement("img",{src:t.icon}),e.state.bundleId==t.id?o.a.createElement("p",{className:"text-primary"},t.name):o.a.createElement("p",null,t.name)))})))))))}}])&&Pt(t.prototype,n),r&&Pt(t,r),i}(r.Component),Tt=JSON.parse(document.getElementById("mobile-app-data").innerHTML);Object(a.render)(o.a.createElement(zt,{bundle:Tt}),document.getElementById("mobile-app"))}},[[771,2,0]]]);
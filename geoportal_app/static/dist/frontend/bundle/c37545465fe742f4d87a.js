(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{120:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r);n(121);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,r,o=l(u);function u(){return i(this,u),o.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return this.props.is_loading?a.a.createElement("div",{className:"loader text-center"},a.a.createElement("div",null,a.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),a.a.createElement("br",null),this.props.text?this.props.text:"Түр хүлээнэ үү...")):null}}])&&c(t.prototype,n),r&&c(t,r),u}(r.Component)},121:function(e,t,n){var r=n(67),a=n(127);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},127:function(e,t,n){(t=n(68)(!1)).push([e.i,".loader {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    background-color: rgba(255,255,255,0.7);\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    z-index: 2;\n}\n\n.suspense-loader {\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    background-color: rgba(255,255,255,0.9);\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    z-index: 10000;\n}\n",""]),e.exports=t},15:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));function r(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),r=0;r<n.length;r++){var a=n[r].trim();if(a.substring(0,e.length+1)===e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}function a(e){return e.text().then((function(t){var n=t&&JSON.parse(t);if(!e.ok){-1!==[401,403].indexOf(e.status)&&location.reload(!0);var r=e.status,a={text:n&&n.message||e.statusText,code:r};return Promise.reject(a)}return n}))}function o(){return{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRFToken":r("csrftoken")}}}function i(){return{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}}},185:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r);n(229);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,r,o=s(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={items:e.items||[],active_menu:"",is_toggle:!1},t.activeState=t.activeState.bind(u(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){}},{key:"activeState",value:function(e){this.state.active_menu==e?this.setState({active_menu:"",is_toggle:!1}):this.setState({active_menu:e,is_toggle:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.is_toggle,r=t.items,o=t.active_menu;return a.a.createElement("div",{id:"sidebar",className:n?"sidebar sidebar-left ":"sidebar sidebar-left collapsed",style:{zIndex:1}},a.a.createElement("div",{className:"sidebar-tabs"},a.a.createElement("ul",null,r.map((function(t,n){return t.bottom?null:a.a.createElement("li",{key:n,role:"button",className:o==t.key?"active":""},a.a.createElement("a",{"data-toggle":"tooltip","data-placement":"right",title:t.tooltip,className:"gp-tooltip",onClick:function(){return e.activeState(t.key)}},a.a.createElement("i",{className:t.icon})))}))),a.a.createElement("ul",null,r.map((function(t,n){return t.bottom&&a.a.createElement("li",{key:n,role:"button",className:o==t.key?"active":""},a.a.createElement("a",{"data-toggle":"tooltip","data-placement":"right",title:t.tooltip,onClick:function(){return e.activeState(t.key)}},a.a.createElement("i",{className:t.icon})))})))),a.a.createElement("div",{className:"sidebar-content"},r.map((function(e,t){return a.a.createElement("div",{key:t,className:o==e.key?"sidebar-pane active":"sidebar-pane"},e.title&&a.a.createElement("h1",{className:"sidebar-header"},e.title),a.a.createElement(e.component,null))}))))}}])&&i(t.prototype,n),r&&i(t,r),l}(r.Component)},227:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return F})),n.d(t,"c",(function(){return B})),n.d(t,"b",(function(){return V.a}));var r=n(0),a=n.n(r),o=n(46),i=n(69),c=n(106);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(b,e);var t,n,r,s,d,y=m(b);function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(t=y.call(this,e)).state={aimag_id:-1,sum_id:-1,horoo_id:-1,aimag:e.aimag,sum:[],horoo:[],vector_layer:e.vector_layer,geo_id:"",layers:[]},t.getGeom=t.props.getGeom,t.funcs=t.props.funcs,t.getFeatureInfoFromInspire=t.getFeatureInfoFromInspire.bind(h(t)),t.setVisibleLayer=t.setVisibleLayer.bind(h(t)),t.clearLayers=t.clearLayers.bind(h(t)),t}return t=b,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({aimag:e.aimag,vector_layer:e.vector_layer})}},{key:"handleInput",value:function(e){if(e.target.value){var t=e.target.value;if("-1"!==t){var n=this.state.aimag[t];this.setGeom(n.geo_id),this.setState({sum:n.children,aimag_id:t,sum_id:-1,horoo_id:-1})}else this.handleSubmitClear()}}},{key:"handleInputSum",value:function(e,t,n){if(e.target.value){var r=e.target.value;if("-1"!==r){this.setState(u({},t,r));var a=n[r];this.setGeom(a.geo_id),"sum_id"==t&&this.setState({horoo:a.children})}else{var o,i;"horoo_id"==t&&(this.setState(u({},t,-1)),o="sum"),"sum_id"==t&&(this.setState((u(i={},t,-1),u(i,"horoo_id",-1),i)),o="aimag"),this.setGeom(this.state[o][this.state[o+"_id"]].geo_id)}}}},{key:"clearLayers",value:function(){this.state.layers.map((function(e,t){window.map.getLayers().forEach((function(t){e&&t&&e.get("name")&&t.get("name")&&e.get("name")==t.get("name")&&window.map.removeLayer(t)}))})),this.setState({layers:[]})}},{key:"handleSubmitClear",value:function(){var e=this.state.vector_layer.getSource();o.c(o.f.au_search_layer_name,e),this.props.setCenterOfMap(),this.props.resetSearchLayerFeatures(),this.clearLayers(),this.funcs.resetSearch(),this.setState({sum_id:-1,aimag_id:-1,horoo_id:-1,sum:[],horoo:[]})}},{key:"setGeom",value:(s=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getGeom(t,this.getFeatureInfoFromInspire),this.getFeatureInfoFromInspire(t),this.setState({geo_id:t});case 3:case"end":return e.stop()}}),e,this)})),d=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=s.apply(e,t);function o(e){l(a,n,r,o,i,"next",e)}function i(e){l(a,n,r,o,i,"throw",e)}o(void 0)}))},function(e){return d.apply(this,arguments)})},{key:"setVisibleLayer",value:function(e,t){this.state.layers.map((function(n,r){n.get("name")==e&&n.setVisible(t)}))}},{key:"getFeatureInfoFromInspire",value:function(e,t,n){var r=this;Array(),e||(e=this.state.geo_id),(n?[{layers:n}]:this.props.map_wms_list).map((function(n,a){n.is_display,n.layers.map((function(n,a){var s=n.checked,l=n.code,f=n.wms_or_cache_ur,p=n.tile,m=n.wms_tile,d="administrative_boundary_"+l;if(t||r.setVisibleLayer(d,t),s){var h=f?p:m;h.setVisible(!1);var y=h.getSource().getUrls(),b=new i.a(u({source:new c.a({url:y[0],projection:o.f.feature_projection,ratio:1,params:{LAYERS:l,FORMAT:"image/png",VERSION:"1.1.1",FILTER:JSON.stringify({within:e}),STYLES:"",exceptions:"application/vnd.ogc.se_inimage"},serverType:"geoserver",transition:0})},"name",d));r.state.layers.push(b),window.map.addLayer(b)}}))}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.sum,r=t.aimag,o=t.horoo;return a.a.createElement("form",null,a.a.createElement("div",{className:"form-group"},a.a.createElement("div",{className:"input-group mb-3"},a.a.createElement("select",{name:"center_typ",as:"select",onChange:function(t){return e.handleInput(t)},value:this.state.aimag_id,className:"form-control"},a.a.createElement("option",{value:"-1"},"--- Аймаг/Нийслэл сонгоно уу ---"),r.map((function(e,t){return a.a.createElement("option",{key:t,value:t},e.name)})))),a.a.createElement("div",{className:"input-group mb-3"},a.a.createElement("select",{name:"center_typ",as:"select",onChange:function(t){return e.handleInputSum(t,"sum_id",n)},className:"form-control",value:this.state.sum_id},a.a.createElement("option",{value:"-1"},"--- Сум/дүүрэг сонгоно уу ---"),n.map((function(e,t){return a.a.createElement("option",{key:t,value:t},e.name)})))),a.a.createElement("div",{className:"input-group mb-3"},a.a.createElement("select",{name:"center_typ",as:"select",onChange:function(t){return e.handleInputSum(t,"horoo_id",o)},className:"form-control",value:this.state.horoo_id},a.a.createElement("option",{value:"-1"},"--- Хороо/Баг сонгоно уу ---"),o.map((function(e,t){return a.a.createElement("option",{key:t,value:t},e.name)})))),a.a.createElement("div",{className:"input-group"},a.a.createElement("div",null,a.a.createElement("button",{className:"btn gp-btn-primary",type:"button",onClick:function(){return e.handleSubmitClear()}},a.a.createElement("i",{className:"fa fa-trash mr-1"}),"Цэвэрлэх")))))}}])&&f(t.prototype,n),r&&f(t,r),b}(r.Component),v=n(38);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var a=x(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var t,n,r,o=E(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={search_value:"",search_datas:[],is_searching:!1,bundle_id:e.bundle_id,errors:{}},t}return t=i,(n=[{key:"handleChange",value:function(e){this.setState({search_value:e})}},{key:"handleSearch",value:function(e){var t=this;if(e.preventDefault(),!this.state.is_searching){var n=this.state,r=n.bundle_id,a=n.search_value,o=n.errors;this.setState({is_searching:!0}),v.a.getFindValues(r,a).then((function(e){e.success;var n=e.data,r=e.error;o.search=r,t.setState({search_datas:n,errors:o})})).catch((function(){alert("Алдаа гарсан байна")})).finally((function(){t.setState({is_searching:!1})}))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.search_value,r=t.search_datas,o=t.is_searching,i=t.errors;return a.a.createElement("div",{className:"row mx-0"},a.a.createElement("div",{className:"d-flex justify-content-center"},a.a.createElement("form",{className:"search-bundle ".concat((null==i?void 0:i.search)?"is-invalid":""),onSubmit:function(t){return e.handleSearch(t)}},a.a.createElement("input",{type:"search",className:"search-bundle-input",placeholder:"Хайх...",value:n,onChange:function(t){return e.handleChange(t.target.value)}}),a.a.createElement("button",{className:"search-bundle-icon text-white"},o?a.a.createElement("i",{className:"spinner-border text-light"}):a.a.createElement("i",{className:"fa fa-search"})))),(null==i?void 0:i.search)?a.a.createElement("small",{className:"text-danger"},i.search):null,r.map((function(t,n){return a.a.createElement("li",{key:n,className:"list-group-item form-control list-active d-flex align-items-center",onClick:function(n){return e.props.getGeom(t.geo_id)},role:"button"},a.a.createElement("i",{className:"fa fa-history mr-2",onClick:function(n){return e.props.getGeom(t.geo_id)}})," ",t.name)})))}}])&&_(t.prototype,n),r&&_(t,r),i}(r.Component);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var a=L(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(c,e);var t,n,r,i=j(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={point_id:"",tseg_dugaar_zoom:"14.383305008368451",errors:{}},t.handleSubmitCoordinateName=t.handleSubmitCoordinateName.bind(R(t)),t}return t=c,(n=[{key:"handleSubmitCoordinateName",value:function(e){var t=this;e.preventDefault();var n=this.state,r=n.point_id,a=n.tseg_dugaar_zoom,i=n.errors;v.a.searchPoint(r).then((function(e){var n=e.data,r=e.success,c=e.error;r?(o.e(n,parseInt(a)),i.point_id=""):i.point_id=c,t.setState({errors:i})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.point_id,r=t.tseg_dugaar_zoom,i=t.errors,c=o.f.options_scale;return a.a.createElement("form",{onSubmit:this.handleSubmitCoordinateName},a.a.createElement("div",{className:"form-group"},a.a.createElement("div",{className:"input-group mb-3"},a.a.createElement("input",{type:"text",className:"form-control ".concat((null==i?void 0:i.point_id)?"is-invalid":""),name:"point_id",onChange:function(t){return e.setState({point_id:t.target.value})},value:n}),(null==i?void 0:i.point_id)?a.a.createElement("span",{className:"invalid-feedback"},i.point_id):null),a.a.createElement("label",{className:"font-weight-bold",htmlFor:"formGroupInput"},"масштаб"),a.a.createElement("select",{name:"tseg_dugaar_zoom",onChange:function(t){return e.setState({tseg_dugaar_zoom:t.target.value})},value:r,className:"form-control"},c.map((function(e,t){return a.a.createElement("option",{key:t,value:e.zoom},e.scale)}))),a.a.createElement("div",{className:"input-group mt-3"},a.a.createElement("button",{className:"btn gp-btn-primary",type:"submit"},a.a.createElement("i",{className:"fa fa-search mr-1"}),"Хайх"))))}}])&&N(t.prototype,n),r&&N(t,r),c}(r.Component);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var a=G(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?z(e):t}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(l,e);var t,n,r,s=M(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={coordinatex:"",coordinatey:"",bairlal_one_zoom:"14.383305008368451",bairlal_scale:1e3,layers:[],center_coordinates:[]},t.funcs=t.props.funcs,t.setVisibleLayer=t.setVisibleLayer.bind(z(t)),t.drawBuffer=t.drawBuffer.bind(z(t)),t.getBufferFromGeoServer=t.getBufferFromGeoServer.bind(z(t)),t.handleSubmitClear=t.handleSubmitClear.bind(z(t)),t.clearLayers=t.clearLayers.bind(z(t)),t}return t=l,(n=[{key:"handleSubmitCoordinate",value:function(e){e.preventDefault();var t=this.state,n=t.coordinatex,r=t.coordinatey;if(n&&r){var a=[r,n];this.drawBuffer(a),this.state.center_coordinates=a}}},{key:"setVisibleLayer",value:function(e,t){this.state.layers.map((function(n,r){n.get("name")==e&&n.setVisible(t)}))}},{key:"clearLayers",value:function(){this.state.layers.map((function(e,t){window.map.getLayers().forEach((function(t){e&&t&&e.get("name")&&t.get("name")&&e.get("name")==t.get("name")&&window.map.removeLayer(t)}))}))}},{key:"handleSubmitClear",value:function(){var e=this.props.vector_layer.getSource();setTimeout((function(){o.c(o.f.au_search_layer_name,e)}),1e3),this.props.resetSearchLayerFeatures(),this.clearLayers(),this.props.setCenterOfMap(),this.funcs.resetSearch(),this.setState({layers:[]})}},{key:"getBufferFromGeoServer",value:function(e,t,n){var r=this;Array(),e||(e=this.state.center_coordinates),(n?[{layers:n}]:this.props.map_wms_list).map((function(n,a){n.is_display,n.layers.map((function(n,a){var s,l,u,f=n.checked,p=n.code,m=n.wms_or_cache_ur,d=n.tile,h=n.wms_tile,y="circle_buffer_"+p;if(t||r.setVisibleLayer(y,t),f){var b=m?d:h;b.setVisible(!1);var v=b.getSource().getUrls(),g=new i.a((s={source:new c.a({url:v[0],projection:o.f.feature_projection,ratio:1,params:{LAYERS:p,FORMAT:"image/png",VERSION:"1.1.1",FILTER:JSON.stringify({buffer:e,scale:r.state.bairlal_scale}),STYLES:"",exceptions:"application/vnd.ogc.se_inimage"},serverType:"geoserver",transition:0})},u=y,(l="name")in s?Object.defineProperty(s,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[l]=u,s));r.state.layers.push(g),window.map.addLayer(g)}}))}))}},{key:"getBufferFeature",value:function(e,t){var n=this;v.a.getBuffer(e,t).then((function(e){var t=e.success,r=e.data;t&&n.props.setFeatureOnMap(r,n.getBufferFromGeoServer)}))}},{key:"drawBuffer",value:function(e){var t=this.state.bairlal_scale;t=parseFloat(t),this.getBufferFeature(e,t),this.getBufferFromGeoServer(e)}},{key:"render",value:function(){var e=this,t=o.f.options_scale,n=this.state,r=n.coordinatex,i=n.coordinatey;return a.a.createElement("form",{onSubmit:function(t){return e.handleSubmitCoordinate(t)}},a.a.createElement("div",{className:"form-group"},a.a.createElement("div",{className:"input-group mb-3"},a.a.createElement("input",{type:"text",className:"form-control",placeholder:"Өргөрөг",name:"Өргөрөг",onChange:function(t){return e.setState({coordinatex:t.target.value})},value:this.state.coordinatex}),a.a.createElement("input",{type:"text",className:"form-control",placeholder:"Уртраг",name:"Уртраг",onChange:function(t){return e.setState({coordinatey:t.target.value})},value:this.state.coordinatey})),a.a.createElement("label",{className:"font-weight-bold",htmlFor:"formGroupInput"},"масштаб"),a.a.createElement("select",{name:"bairlal_one_zoom",as:"select",onChange:function(t){return e.setState({bairlal_one_zoom:t.target.value,bairlal_scale:t.target.options[t.target.selectedIndex].text})},value:this.state.bairlal_one_zoom,className:"form-control"},t.map((function(e,t){return a.a.createElement("option",{key:t,value:e.zoom},e.scale)}))),a.a.createElement("div",{className:"row mt-3"},a.a.createElement("div",{className:"col-md-5"},a.a.createElement("button",{className:"btn gp-btn-primary",type:"submit",disabled:!r&&!i},a.a.createElement("i",{className:"fa fa-search mr-1"}),"Хайх")),a.a.createElement("div",{className:"col-md-7 d-flex flex-row-reverse"},a.a.createElement("button",{className:"btn gp-btn-primary",type:"button",onClick:this.handleSubmitClear},a.a.createElement("i",{className:"fa fa-trash mr-1"}),"Цэвэрлэх")))))}}])&&T(t.prototype,n),r&&T(t,r),l}(r.Component),V=n(529)},229:function(e,t,n){var r=n(67),a=n(230);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},230:function(e,t,n){(t=n(68)(!1)).push([e.i,".sidebar-left {\n    border-right: 3px solid transparent;\n}\n\n.sidebar {\n    position: absolute;\n    height: calc(100% - 37px - 96px);\n    top: 3px;\n    left: 3px;\n    bottom: 3px;\n    width: 400px;\n    overflow: hidden;\n    background-color: rgba(255, 255, 255, 0.4);\n    transition: 0.5s;\n}\n.sidebar.collapsed {\n    transition: 0.5s;\n    width: 42px;\n}\n\n@media (min-width: 768px){\n    .sidebar-left {\n        left: 6px;\n    }\n}\n\n@media (max-width: 991px) and (min-width: 768px){\n    .sidebar {\n        width: 305px;\n    }\n}\n\n.sidebar-tabs {\n    top: 0;\n    bottom: 0;\n    height: 100%;\n    background-color: rgba(0, 60, 136, 0.5);\n}\n\n.sidebar-tabs, .sidebar-tabs > ul {\n    position: absolute;\n    width: 40px;\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n}\n\n.sidebar-tabs > ul + ul {\n    bottom: 0;\n}\n\n.sidebar-tabs > ul > li {\n    width: 100%;\n    height: 40px;\n    color: #fff;\n    font-size: 12pt;\n    overflow: hidden;\n    transition: all 80ms;\n}\n.sidebar-tabs > ul > li:hover{\n    background-color: rgba(3, 78, 162, 0.5);\n}\n\n.sidebar-tabs > ul > li.active {\n    color: #fff;\n    background-color: #034ea2;\n}\n\n.sidebar-tabs > ul > li > a {\n    display: block;\n    width: 100%;\n    height: 100%;\n    line-height: 40px;\n    color: inherit;\n    text-decoration: none;\n    text-align: center;\n}\n\n.sidebar-tabs > ul > li > a >.fa {\n    display: inline-block;\n    font-family: FontAwesome;\n    font-style: normal;\n    font-weight: normal;\n    line-height: 1;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n.sidebar-left .sidebar-tabs {\n    left: 0;\n}\n\n.sidebar-tabs {\n    overflow: hidden;\n}\n\n.sidebar-tabs, .sidebar-tabs > ul {\n    position: absolute;\n    width: 40px;\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n}\n\n@media (min-width: 768px){\n    .sidebar-tabs {\n        border-radius: 2px 0 0 2px;\n    }\n}\n\n\n.sidebar-left .sidebar-content {\n    left: 43px;\n    right: 0;\n}\n\n.sidebar-content {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    background-color: rgba(255, 255, 255, 0.95);\n    overflow-x: hidden;\n    overflow-y: auto;\n}\n\n@media (min-width: 768px){\n    .sidebar-content {\n        border-radius: 0 2px 2px 0;\n    }\n}\n\n.sidebar-pane.active {\n    display: block;\n}\n@media (max-width: 991px) and (min-width: 768px){\n    .sidebar-pane {\n        min-width: 265px;\n    }\n}\n\n.sidebar-pane {\n    display: none;\n    left: 0;\n    right: 0;\n    box-sizing: border-box;\n    padding: 10px 20px;\n}\n\n.sidebar-header {\n    margin: -10px -20px 0;\n    height: 40px;\n    padding: 0 20px;\n    line-height: 40px;\n    font-size: 14.4pt;\n    color: #fff;\n    background-color: #034ea2;\n}\n\n.lorem {\n    font-style: italic;\n    color: #AAA;\n}\n",""]),e.exports=t},247:function(e,t,n){"use strict";(function(e){function r(e){var t={"ШИНЭ":"text-success","ИЛГЭЭСЭН":"text-warning","ШИЙДВЭРЛЭГДСЭН":"text-primary"};return t[e]?t[e]:""}function a(e){var t={"ШИЙДВЭРЛЭГДСЭН":"text-success","ХҮЛЭЭГДЭЖ БУЙ":"text-warning","ЦУЦЛАСАН":"text-danger","БУЦААГДСАН":"text-danger","ШИНЭ":"text-primary","БАТАЛГААЖСАН":"text-success"};return t[e]?t[e]:""}function o(e){return e.includes("Multi")||(e="Multi".concat("",e)),e}function i(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Амжилттай хууллаа",r=document.createElement("textarea");r.innerText=t,document.body.appendChild(r),r.select(),document.execCommand("copy"),r.remove(),e.NOTIF&&e.NOTIF("success",n,"check")}function c(e,t,n){return"exact"==e?t==n:t[e](n)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.sort((function(e,r){var a=e,o=r;return n&&(a=r,o=e),a[t]-o[t]})),e}n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return s}))}).call(this,n(47))},282:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),a=n.n(r),o=n(14),i=n.n(o),c=n(58),s=n(38);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){m(n,e);var t=h(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).div=[],r.xy=[],r.state={coordinate:[],torf:!1,data:[],x:null,y:null,is_button:!1,is_purchase:!1,alert_msg:"",max_size:8,first_number:0,is_again:!1},r.removeList=r.removeList.bind(b(r)),r.checkDataForPurchase=r.checkDataForPurchase.bind(b(r)),r.moreItems=r.moreItems.bind(b(r)),r.undoItems=r.undoItems.bind(b(r)),r.makeList=r.makeList.bind(b(r)),r}return p(n,[{key:"componentDidMount",value:function(){this.makeList()}},{key:"componentDidUpdate",value:function(e,t){var n=this;(e.geom_name!==this.props.geom_name&&this.makeList(),e.point_id===this.props.point_id&&this.props.is_again_clicked)&&(this.state.data.length>0&&this.state.data.filter((function(e){return e.id==n.props.point_id})).length>0||this.makeList());t.data!==this.state.data&&0==this.state.data.length&&this.setState({is_button:!0})}},{key:"makeList",value:function(){var e=this,t=this.props,n=(t.coordinate,t.torf),r=t.point_name,a=t.code,o=t.point_id,i=t.geom_name,c=t.pdf_id_props;if(1==n&&""!==i){var s="Нэр байхгүй байна",l="pdf байхгүй";c&&(l=c),r&&(s=r);var u={name:s,id:o,code:a,geom_name:i,pdf_id:l};if(this.state.data.length>0)if(this.state.data.filter((function(e){return e.geom_name==u.geom_name})).length>0)this.setState({alert_msg:"Адилхан цэг байна !",success:!1}),setTimeout((function(){e.setState({alert_msg:"",success:!1})}),2e3);else{var f=this.state.data;f.push(u),this.setState({data:f,is_button:!1})}else this.setState({data:[u],is_button:!1})}}},{key:"removeList",value:function(e){var t=this.state.data;if(1==t.length&&this.setState({data:[]}),t.length>1){if(t.every((function(t){return e}))){var n=t.filter((function(t){return t.geom_name!==e}));this.setState({data:n})}}}},{key:"checkDataForPurchase",value:function(){var e=this;this.setState({is_purchase:!0}),this.state.data.length>0?s.a.purchaseFromCart(this.state.data).then((function(t){var n=t.success,r=t.msg,a=t.payment_id;n&&(e.setState({alert_msg:r,success:n}),setTimeout((function(){e.setState({data:[],is_purchase:!1,is_button:!0}),window.location.href="/payment/purchase/".concat(a,"/")}),1e3)),n||(e.setState({is_purchase:!1,is_button:!1,alert_msg:r}),setTimeout((function(){e.setState({alert_msg:""})}),2e3))})).catch((function(e){return alert("Алдаа гарсан тул хуудсыг дахин ачааллуулна уу")})):this.setState({alert_msg:"Уучлаарай сагс хоосон байна"})}},{key:"moreItems",value:function(){var e=this.state,t=e.max_size,n=e.first_number,r=t,a=r-n;n+=a,r+=a,this.setState({first_number:n,max_size:r,undoItem:!0})}},{key:"undoItems",value:function(){var e=this.state,t=e.max_size,n=e.first_number,r=n,a=t,o=a-n;r-=o,a-=o,this.setState({max_size:a,first_number:r}),r<=0&&this.setState({undoItem:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=(t.coordinate,t.torf,t.data),r=t.is_button,o=t.alert_msg,i=t.success,c=t.max_size,s=t.first_number,l=t.undoItem,u=this.props;u.x,u.y;return n.length>0?(this.div=[],n.slice(s,c).map((function(t,n){var r=n+1+s;e.div.push(a.a.createElement("div",{className:"rounded bg-light card-baraa row shadow-sm bg-white",key:n},a.a.createElement("div",{className:"col-md-1 icon"},a.a.createElement("i",{type:"button",className:"fa fa-trash text-danger",onClick:function(){return e.removeList(t.geom_name)}})),a.a.createElement("span",{className:"col-md-10 name"},a.a.createElement("b",null,r,". Цэгийн нэр: "),t.name)))}))):this.div=[],a.a.createElement("div",{className:"root"},""!==o&&i?a.a.createElement("div",{className:"alert alert-success alert-custom-css",role:"alert"},o):a.a.createElement("div",{className:"alert alert-danger alert-custom-css "+(""!==o?"d-block":"d-none"),role:"alert"},o),a.a.createElement("div",null,a.a.createElement("div",{className:"cart-button"},a.a.createElement("div",{className:"card-count"},n.length),a.a.createElement("div",{className:"card-icon"},a.a.createElement("i",{className:"fa fa-shopping-cart","aria-hidden":"true"}))),a.a.createElement("div",{className:"cart-list"},l?a.a.createElement("a",{type:"button",className:"btn-outline btn-block p-0 my-2 m-0 text-center",onClick:function(){return e.undoItems()}},a.a.createElement("i",{style:{fontSize:"30px"},className:"fa fa-angle-up gp-text-primary","aria-hidden":"true"})):null,this.div,n.length>c?a.a.createElement("a",{type:"button",className:"btn-outline btn-block p-0 my-2 m-0 text-center",onClick:function(){return e.moreItems()}},a.a.createElement("i",{style:{fontSize:"30px"},className:"fa fa-angle-down gp-text-primary","aria-hidden":"true"})):null,this.state.is_purchase?a.a.createElement("button",{className:"btn gp-btn-primary my-4",disabled:!0},a.a.createElement("div",{className:"spinner-border",role:"status"},a.a.createElement("span",{className:"sr-only"}))," Түр хүлээнэ үү..."):a.a.createElement("button",{className:"btn gp-btn-primary pay-button my-4",onClick:function(){return e.checkDataForPurchase()},disabled:r},"Худалдаж авах"))))}}]),n}(r.Component),_=function(e){m(n,e);var t=h(n);function n(e){var r;u(this,n);var a=e||{};return(r=t.call(this,{element:document.createElement("div"),target:a.target})).is_component_initialized=!0,r.is_cart=!1,r.element.className="d-block",r.renderComponent=r.renderComponent.bind(b(r)),r.showModal=r.showModal.bind(b(r)),r}return p(n,[{key:"renderComponent",value:function(e){this.is_component_initialized||(i.a.render(a.a.createElement(g,e),this.element),this.is_component_initialized=!0),i.a.hydrate(a.a.createElement(g,e),this.element)}},{key:"showModal",value:function(e,t,n,r,a,o,i,c,s,l){this.renderComponent({coordinate:e,torf:t,x:n,y:r,point_name:a,code:o,point_id:i,is_again_clicked:c,geom_name:s,pdf_id_props:l})}}]),n}(c.a)},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(15);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={loadWMSLayers:function(e){var t=o({},Object(r.a)());return fetch("/дэд-сан/".concat(e,"/давхаргууд/"),t).then(r.c)},loadBaseLayers:function(){var e=o({},Object(r.a)());return fetch("/суурь-давхарга/",e).then(r.c)},payment:function(e,t,n){var a=o(o({},Object(r.b)()),{},{body:JSON.stringify({price:e,description:t,data_id:n})});return fetch("/back/payment/purchase/",a).then(r.c)},paymentDraw:function(e){var t=o(o({},Object(r.b)()),{},{body:JSON.stringify(e)});return fetch("/payment/purchase-draw/",t).then(r.c)},paymentCalcPrice:function(e,t,n,a){var i=o(o({},Object(r.b)()),{},{body:JSON.stringify({area:e,layer_list:t,feature_info_list:n,selected_type:a})});return fetch("/payment/calc-price/",i).then(r.c)},purchaseFromCart:function(e){var t=o(o({},Object(r.b)()),{},{body:JSON.stringify({datas:e})});return fetch("/payment/purchase-from-cart/",t).then(r.c)},searchPoint:function(e){var t=o(o({},Object(r.b)()),{},{body:JSON.stringify({point_id:e})});return fetch("/api/find-point/",t).then(r.c)},getAimags:function(){var e=o({},Object(r.a)());return fetch("/api/aimag/",e).then(r.c)},getSum:function(e){var t=o(o({},Object(r.b)()),{},{body:JSON.stringify({aimag_name:e})});return fetch("/api/sum/",t).then(r.c)},getUser:function(){var e=o({},Object(r.a)());return fetch("/get_user/",e).then(r.c)},checkButtonEnableWithPdf:function(e){var t=o(o({},Object(r.b)()),{},{body:JSON.stringify({geo_id:e})});return fetch("/payment/check-enable-pdf/",t).then(r.c)},getPopUpInfo:function(e,t,n){var a=o(o({},Object(r.b)()),{},{body:JSON.stringify({layers_code:e,coordinate:t,scale_value:n})});return fetch("/payment/get-popup-info/",a).then(r.c)},checkButtonEnableWithId:function(e,t){var n=o(o({},Object(r.b)()),{},{body:JSON.stringify({geo_id:e,pdf_id:t})});return fetch("/payment/check-enable-pdf-id/",n).then(r.c)},getFeatureInfo:function(e,t){var n=o(o({},Object(r.b)()),{},{body:JSON.stringify({layer_codes:e,coordinates:t})});return fetch("/payment/get-feature-info/",n).then(r.c)},getGeom:function(e){var t=o(o({},Object(r.b)()),{},{body:JSON.stringify({geo_id:e})});return fetch("/payment/get-geom/",t).then(r.c)},getContainGeoms:function(e,t,n){var a=o(o({},Object(r.b)()),{},{body:JSON.stringify({layers_code:e,geometry:t,km_scale:n})});return fetch("/payment/get-contain-geoms/",a).then(r.c)},getFindValues:function(e,t){var n=o(o({},Object(r.b)()),{},{body:JSON.stringify({bundle_id:e,value:t})});return fetch("/api/search/",n).then(r.c)},getBuffer:function(e,t){var n=o(o({},Object(r.b)()),{},{body:JSON.stringify({center:e,scale:t})});return fetch("/api/get-buffer/",n).then(r.c)}}},46:function(e,t,n){"use strict";n.d(t,"f",(function(){return k})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return C})),n.d(t,"e",(function(){return j})),n.d(t,"a",(function(){return P})),n.d(t,"d",(function(){return R}));var r=n(303),a=n(2),o=n(69),i=n(128),c=n(106),s=n(159),l=n(93),u=n(58),f=n(19);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,e);var t,n,r,a=h(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=e||{};(t=a.call(this,{element:document.createElement("div"),target:n.target})).toggleLayer=t.toggleLayer.bind(b(t)),t.initLayer=t.initLayer.bind(b(t)),t.handleClick=t.handleClick.bind(b(t)),t.last_active=null;var r=n.layers.map(t.initLayer),i="суурь-давхаргууд ".concat(f.e," ").concat(f.b),c=t.element;return c.className=i,r.forEach((function(e){return c.appendChild(e)})),t}return t=o,(n=[{key:"initLayer",value:function(e){var t=this,n=e.thumbnail_1x,r=e.thumbnail_2x,a=e.layer,o=e.is_active,i=document.createElement("a");i.setAttribute("href","#"),i.className="суурь-давхарга"+(o?" active":"");var c=document.createElement("img");return c.srcset="".concat(n," 1x, ").concat(r," 2x"),i.appendChild(c),i.addEventListener("click",(function(e){e.preventDefault(),t.handleClick(i,a)})),this.toggleLayer(!0===o,i,a),i}},{key:"toggleLayer",value:function(e,t,n){this.last_active&&e&&(this.last_active.layer.setVisible(!1),this.last_active.el.classList.toggle("active",!1)),n.setVisible(e),t.classList.toggle("active",e),e&&(this.last_active={el:t,layer:n})}},{key:"handleClick",value:function(e,t){this.last_active&&this.last_active.el===e||this.toggleLayer(!0,e,t)}}])&&m(t.prototype,n),r&&m(t,r),o}(u.a),_=n(57),w=(n(247),n(15)),E={get:function(){var e=Object(w.a)();return fetch("/суурь-давхарга/",e).then(w.c)}};n(582);function S(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){S(o,r,a,i,c,"next",e)}function c(e){S(o,r,a,i,c,"throw",e)}i(void 0)}))}}var k={data_projection:"EPSG:4326",feature_projection:"EPSG:3857",format:new r.a,au_search_layer_name:"administrative",options_scale:[{zoom:"2.9903484967519145",scale:5e6},{zoom:"4.3576399772248543",scale:1e6},{zoom:"7.3376399772248575",scale:1e5},{zoom:"8.738265134288114",scale:5e4},{zoom:"9.721598467621447",scale:25e3},{zoom:"10.781598467621446",scale:1e4},{zoom:"12.194931800954776",scale:5e3},{zoom:"14.383305008368451",scale:1e3}]};function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",r=t.getFeatures();if(null!=r&&r.length>0)for(var a=0;a<r.length;a++){var o=r[a].getProperties();if(o[n]==e){t.removeFeature(r[a]);break}}}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.data_projection,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.feature_projection,r=Object(a.p)(e,t,n);return r}function C(e){return Object(a.d)([e[0],e[1]])}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.map,r=n.getView(),a=r.getProjection(),o=N(e,k.data_projection,a);r.animate({zoom:t},{center:r.setCenter(o)})}function P(e){e.getSource().clear()}function R(e){return L.apply(this,arguments)}function L(){return(L=x(regeneratorRuntime.mark((function e(t){var n,r,a,u,f,p,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get();case 2:n=e.sent,r=n.base_layer_list,a=[.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209014892578e-21,1341104507446289e-21,6.705522537231445e-7,3.3527612686157227e-7],u=["EPSG:4326:0","EPSG:4326:1","EPSG:4326:2","EPSG:4326:3","EPSG:4326:4","EPSG:4326:5","EPSG:4326:6","EPSG:4326:7","EPSG:4326:8","EPSG:4326:9","EPSG:4326:10","EPSG:4326:11","EPSG:4326:12","EPSG:4326:13","EPSG:4326:14","EPSG:4326:15","EPSG:4326:16","EPSG:4326:17","EPSG:4326:18","EPSG:4326:19","EPSG:4326:20","EPSG:4326:21"],"base_layer",r&&(f=r.reduce((function(e,t,n){var r;return"xyz"==t.tilename&&(r=new o.a({preload:6,source:new i.a({crossOrigin:"Anonymous",url:t.url}),name:"base_layer"})),"wms"==t.tilename&&(r=new o.a({source:new c.a({ratio:1,url:t.url,params:{LAYERS:t.layers,FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",exceptions:"application/vnd.ogc.se_inimage"},tileLoadFunction:_.b}),name:"base_layer"})),"wmts"==t.tilename&&(r=new o.a({source:new s.a({url:t.url,layer:t.layers,matrixSet:k.data_projection,format:"image/png",projection:k.data_projection,tileGrid:new l.b({tileSize:[256,256],extent:[-180,-90,180,90],origin:[-180,90],resolutions:a,matrixIds:u}),tileLoadFunction:_.b,style:"",wrapX:!0})})),e.base_layers.push(r),e.base_layer_controls.push({is_active:0==n,thumbnail_1x:t.thumbnail_1x,thumbnail_2x:t.thumbnail_2x,layer:r}),e}),{base_layers:[],base_layer_controls:[]}),p=f.base_layers,m=f.base_layer_controls,d=Array(),p.map((function(e){return d.push(e)})),t.getLayers().forEach((function(e){d.push(e),t.removeLayer(e)})),console.log("removed layers"),d.map((function(e){return t.addLayer(e)})),t.addControl(new g({layers:m})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},528:function(e,t,n){var r=n(67),a=n(808);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},529:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(46);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,t);var n,r,i,u=l(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=u.call(this,e)).state={BA:"",BB:"",BC:"",LA:"",LB:"",LC:"",bairlal_two_zoom:"7.3376399772248575"},t.funcs=t.props.funcs,t.handleSubmitCoordinateGradus=t.handleSubmitCoordinateGradus.bind(f(t)),t}return n=p,(r=[{key:"handleSubmitCoordinateGradus",value:function(t){t.preventDefault();var n=this.state,r=n.BA,a=n.BB,i=n.BC,c=n.LA,s=n.LB,l=n.LC;if(r>40&&a>0&&i>0&&c>40&&s>0&&l>0){var u=s/60+c,f=a/60+r,p=[l/3600+s/60+c-u+u,i/3600+a/60+r-f+f];o.e(p,this.state.bairlal_two_zoom);var m=o.b(p);this.funcs.marker.setCoordinates(m),this.funcs.setVisibleMarker(!0)}else e.NOTIF("warning","Оруулсан өгөгдөл таарахгүй байна","exclamation")}},{key:"setStateMapFloat",value:function(e,t){this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,parseFloat(t)))}},{key:"render",value:function(){var e=this,t=this.state,n=t.BA,r=t.BB,i=t.BC,c=t.LA,s=t.LB,l=t.LC,u=t.bairlal_two_zoom,f=o.f.options_scale;return a.a.createElement("form",{onSubmit:this.handleSubmitCoordinateGradus},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"font-weight-bold",htmlFor:"formGroupInput"},"Өргөрөг"),a.a.createElement("div",{className:"input-group mb-3"},a.a.createElement("label",{className:"font-weight-bold",htmlFor:"formGroupInput"}),a.a.createElement("input",{type:"text",className:"form-control",placeholder:"Градус X",name:"BA",onChange:function(t){return e.setStateMapFloat("BA",t.target.value)},value:n||""}),a.a.createElement("input",{type:"text",className:"form-control",placeholder:"Минут X",name:"BB",onChange:function(t){return e.setStateMapFloat("BB",t.target.value)},value:r||""}),a.a.createElement("input",{type:"text",className:"form-control",placeholder:"Секунд X",name:"BC",onChange:function(t){return e.setStateMapFloat("BC",t.target.value)},value:i||""})),a.a.createElement("label",{className:"font-weight-bold",htmlFor:"formGroupInput"},"Уртраг"),a.a.createElement("div",{className:"input-group mb-3"},a.a.createElement("input",{type:"text",className:"form-control",placeholder:"Градус Y",name:"LA",onChange:function(t){return e.setStateMapFloat("LA",t.target.value)},value:c||""}),a.a.createElement("input",{type:"text",className:"form-control",placeholder:"Минут Y",name:"LB",onChange:function(t){return e.setStateMapFloat("LB",t.target.value)},value:s||""}),a.a.createElement("input",{type:"text",className:"form-control",placeholder:"Секунд Y",name:"LC",onChange:function(t){return e.setStateMapFloat("LC",t.target.value)},value:l||""})),a.a.createElement("label",{className:"font-weight-bold",htmlFor:"formGroupInput"},"масштаб"),a.a.createElement("select",{name:"bairlal_two_zoom",as:"select",onChange:function(t){return e.setState({bairlal_two_zoom:t.target.value})},value:u,className:"form-control"},f.map((function(e,t){return a.a.createElement("option",{key:t,value:e.zoom},e.scale)}))),a.a.createElement("div",{className:"input-group mt-3"},a.a.createElement("button",{className:"btn gp-btn-primary",type:"submit"},a.a.createElement("i",{className:"fa fa-search mr-1"}),"Хайх"))))}}])&&c(n.prototype,r),i&&c(n,i),p}(r.Component);t.a=m}).call(this,n(47))},553:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(0),a=n.n(r),o=n(85),i=n(86),c=n(554);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(d,t);var n,r,s,m=p(d);function d(){return l(this,d),m.apply(this,arguments)}return n=d,(r=[{key:"setNotAndModal",value:function(t,n){e[n]=t}},{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{getModalFunc:function(t){return e.setNotAndModal(t,"MODAL")}}),a.a.createElement(o.a,{getNotifFunc:function(t){return e.setNotAndModal(t,"NOTIF")}}),a.a.createElement(c.a,{bundle:this.props.bundle}))}}])&&u(n.prototype,r),s&&u(n,s),d}(r.Component)}).call(this,n(47))},554:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r),o=n(555);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,r,i=l(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={bundle:e.bundle},t}return t=u,(n=[{key:"render",value:function(){return a.a.createElement(o.a,{bundle:this.state.bundle})}}])&&c(t.prototype,n),r&&c(t,r),u}(r.Component)},555:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ie}));var r=n(0),a=n.n(r),o=(n(246),n(115)),i=n(584),c=n(304),s=n(929),l=n(2),u=n(303),f=n(296),p=n(148),m=n(69),d=n(197),h=n(172),y=n(131),b=n(930),v=n(226),g=n(76),_=n(159),w=n(106),E=n(128),S=n(17),x=n(342),k=n(343),O=n(344),N=n(33),C=n(93),j=n(239),P=n(57),R=n(185),L=n(46),F=n(556),D=n(557),T=n(558),I=n(559),M=n(560),A=n(580),z=n(561),G=n(282),B=n(562),V=n(566),U=n(567),J=n(38);n(528);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function X(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe(e);if(t){var a=oe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return re(this,n)}}function re(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?ae(e):t}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(Q,t);var n,r,W,H,K,Z=ne(Q);function Q(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Q),(t=Z.call(this,e)).sendFeatureInfo=[],t.is_not_visible_layers=[],t.saved_aimag_name="",t.au_search_layer_name=L.f.au_search_layer_name,t.state={projection:"EPSG:3857",is_authenticated:!1,projection_display:"EPSG:4326",bundle:e.bundle,map_wms_list:[],coordinate_clicked:null,vector_layer:null,is_draw_open:!1,draw_layer:null,draw:null,source_draw:null,is_cart:!1,y:null,x:null,format:new u.a,base_layer_controls:[]},t.controls={coordinateCopy:new D.a,modal:new T.a,shopmodal:new z.a,cart:new G.a,drawModal:new I.a,alertBox:new B.a,popup:new U.a},t.marker=t.initMarker(),t.handleToggle=t.handleToggle.bind(ae(t)),t.handleMapDataLoaded=t.handleMapDataLoaded.bind(ae(t)),t.handleMapClick=t.handleMapClick.bind(ae(t)),t.loadMapData=t.loadMapData.bind(ae(t)),t.showFeaturesAt=t.showFeaturesAt.bind(ae(t)),t.toggleDraw=t.toggleDraw.bind(ae(t)),t.toggleDrawed=t.toggleDrawed.bind(ae(t)),t.toggleDrawRemove=t.toggleDrawRemove.bind(ae(t)),t.cartButton=t.cartButton.bind(ae(t)),t.onClickCloser=t.onClickCloser.bind(ae(t)),t.getElement=t.getElement.bind(ae(t)),t.setSourceInPopUp=t.setSourceInPopUp.bind(ae(t)),t.formatArea=t.formatArea.bind(ae(t)),t.getOnlyFeature=t.getOnlyFeature.bind(ae(t)),t.resetFilteredOnlyFeature=t.resetFilteredOnlyFeature.bind(ae(t)),t.allLayerVisible=t.allLayerVisible.bind(ae(t)),t.addLayerToSearch=t.addLayerToSearch.bind(ae(t)),t.drawBorderCircle=t.drawBorderCircle.bind(ae(t)),t.fromLonLatToMapCoord=t.fromLonLatToMapCoord.bind(ae(t)),t.featureFromUrl=t.featureFromUrl.bind(ae(t)),t.check_inspire_layer=t.check_inspire_layer.bind(ae(t)),t.transformToLatLong=t.transformToLatLong.bind(ae(t)),t.removeFeatureFromSource=t.removeFeatureFromSource.bind(ae(t)),t.getPopUpInfo=t.getPopUpInfo.bind(ae(t)),t.setVisibleMarker=t.setVisibleMarker.bind(ae(t)),t.setFeatureOnMap=t.setFeatureOnMap.bind(ae(t)),t.resetSearch=t.resetSearch.bind(ae(t)),t}return n=Q,(r=[{key:"initMarker",value:function(){var e=new y.c({image:new b.a({anchor:[.5,86],anchorXUnits:"fraction",anchorYUnits:"pixels",scale:.4,src:"/static/assets/image/marker.png"})}),t=new g.a([0,0]),n=new o.a({geometry:t});return n.setStyle(e),{feature:n,point:t}}},{key:"cartButton",value:function(e,t,n,r,a,o,i){1==e&&this.controls.cart.showModal(this.state.coordinate_clicked,e,this.state.x,this.state.y,t,n,r,a,o,i)}},{key:"componentDidMount",value:function(){var e=this;J.a.getUser().then((function(t){var n=t.is_authenticated;e.setState({is_authenticated:n})})),this.loadMapData(this.state.bundle.id)}},{key:"componentDidUpdate",value:function(e,t){if(t.coordinate_clicked!==this.state.coordinate_clicked&&this.controls.coordinateCopy.setCoordinate(this.state.coordinate_clicked),this.props.bundle.id!==e.bundle.id){var n=this.props.bundle;this.setState({bundle:n}),this.loadMapData(n.id)}}},{key:"loadMapData",value:function(e){var t=this;Promise.all([J.a.loadBaseLayers(),J.a.loadWMSLayers(e)]).then((function(e){var n=$(e,2),r=n[0].base_layer_list,a=n[1].wms_list;t.handleMapDataLoaded(r,a)}))}},{key:"handleMapDataLoaded",value:function(e,t){var n=this,r=[.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209014892578e-21,1341104507446289e-21,6.705522537231445e-7,3.3527612686157227e-7],a=["EPSG:4326:0","EPSG:4326:1","EPSG:4326:2","EPSG:4326:3","EPSG:4326:4","EPSG:4326:5","EPSG:4326:6","EPSG:4326:7","EPSG:4326:8","EPSG:4326:9","EPSG:4326:10","EPSG:4326:11","EPSG:4326:12","EPSG:4326:13","EPSG:4326:14","EPSG:4326:15","EPSG:4326:16","EPSG:4326:17","EPSG:4326:18","EPSG:4326:19","EPSG:4326:20","EPSG:4326:21"],o=t.map((function(e){var t=e.name,o=e.url,i=e.chache_url,c=e.wms_or_cache_ur;return{name:t,layers:e.layers.map((function(e){return q(q({},e),{},{wms_or_cache_ur:c,tile:new m.a({preload:6,minZoom:e.zoom_start,maxZoom:e.zoom_stop,source:new _.a({url:i,layer:e.code,matrixSet:n.state.projection_display,format:"image/png",projection:n.state.projection_display,tileGrid:new C.b({tileSize:[256,256],extent:[-180,-90,180,90],origin:[-180,90],resolutions:r,matrixIds:a}),style:"",wrapX:!0,cacheSize:1e3,tileLoadFunction:P.b})}),wms_tile:new m.a({preload:6,source:new w.a({projection:n.state.projection,ratio:1,url:o,params:{LAYERS:e.code,FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",exceptions:"application/vnd.ogc.se_inimage"},tileLoadFunction:P.b})})})}))}}));o.map((function(e,t){return o[t].is_display=!1,o[t].is_display_layers=!1,e.layers.map((function(e,n){var r=1==e.defaultCheck;0==e.defaultCheck&&e.tile.setVisible(!1),0==e.defaultCheck&&e.wms_tile.setVisible(!1),e.legend=e.wms_tile.getSource().getLegendUrl(),e.is_legend_display=r,e.checked=r,r&&(o[t].is_display=r,o[t].is_display_layers=r)}))}));var s=e.reduce((function(e,t,o){var i;return"xyz"==t.tilename&&(i=new m.a({preload:6,source:new E.a({crossOrigin:"Anonymous",url:t.url})})),"wms"==t.tilename&&(i=new m.a({source:new w.a({ratio:1,url:t.url,params:{LAYERS:t.layers,FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",exceptions:"application/vnd.ogc.se_inimage"},tileLoadFunction:P.b}),name:"base_layer"})),"wmts"==t.tilename&&(i=new m.a({source:new _.a({url:t.url,layer:t.layers,matrixSet:n.state.projection_display,format:"image/png",projection:n.state.projection_display,tileGrid:new C.b({tileSize:[256,256],extent:[-180,-90,180,90],origin:[-180,90],resolutions:r,matrixIds:a}),tileLoadFunction:P.b,style:"",wrapX:!0})})),e.base_layers.push(i),e.base_layer_controls.push({is_active:0==o,thumbnail_1x:t.thumbnail_1x,thumbnail_2x:t.thumbnail_2x,layer:i,name:t.name}),e}),{base_layers:[],base_layer_controls:[]}),l=s.base_layers,u=s.base_layer_controls,f=new d.a({source:new h.a({}),style:new y.c({stroke:new v.a({color:"rgba(100, 255, 0, 1)",width:2})}),name:"vector_layer"}),p=new d.a({source:new h.a({features:[this.marker.feature]}),name:"marker_layer"});this.marker_layer=p;var b=new x.a;this.scale_line=b;var g=[new k.a,new O.a({projection:this.state.projection_display,coordinateFormat:function(e){return Object(S.f)(e,"{y},{x}",6)},undefinedHTML:""}),b,this.controls.modal,this.controls.shopmodal,this.controls.coordinateCopy,this.controls.cart,this.controls.alertBox,this.controls.popup];this.state.bundle.is_point||g.push(new M.a({toggleDraw:this.toggleDraw}),this.controls.drawModal);var j=new i.a({maxTilesLoading:16,target:"map",controls:Object(N.a)().extend(g),layers:[].concat(X(l),X(o.reduce((function(e,t){var n=t.layers.map((function(e){return e.wms_or_cache_ur?e.tile:e.wms_tile}));return[].concat(X(e),X(n))}),[])),[f,p]),view:new c.a({projection:this.state.projection,center:[11461613.630815497,5878656.0228370065],zoom:5.041301562246971,minZoom:1})});j.on("click",this.handleMapClick),this.map=j,window.map=j,this.setState({vector_layer:f,base_layer_controls:u,map_wms_list:o}),this.controls.popup.blockPopUp(!0,this.getElement,this.onClickCloser)}},{key:"onClickCloser",value:function(){var e=this.overlay,t=this.element_closer;e.setPosition(void 0),t.blur(),this.setVisibleMarker(!1)}},{key:"getElement",value:function(e){var t=this.map,n=new s.a({element:e,autoPan:!0,autoPanAnimation:{duration:250},autoPanMargin:65,offset:[15,-150]});t.addOverlay(n),this.element=e,this.overlay=n;var r=e.children[0];this.element_content=r.children[1],this.element_closer=r.children[0]}},{key:"resetSearch",value:function(){this.setState({refreshLayerFn:null})}},{key:"handleMapClick",value:function(e){if(!this.state.is_draw_open){var t=e.coordinate;this.marker.point.setCoordinates(t);var n=e.map.getView().getProjection(),r=Object(l.p)(e.coordinate,n,this.state.projection_display),a=Object(S.f)(r,"{y},{x}",6);this.setState({coordinate_clicked:a}),this.showFeaturesAt(t)}}},{key:"allLayerVisible",value:function(e){var t=this;this.removeFeatureFromSource("buffer"),this.map.getLayers().getArray().forEach((function(n){n.get("filter")&&n.get("filter")==t.state.filtered_layer_name&&(n.setVisible(!1),t.map.removeLayer(n)),e?(n.get("code")&&n.getVisible()&&n.setVisible(!1),"inside"==n.get("name")&&n.getVisible()&&(n.setVisible(!1),t.map.removeLayer(n))):n.get("code")&&n.get("name")&&"inside"!=n.get("name")&&n.getVisible()&&(t.is_not_visible_layers.push(n.get("code")),n.setVisible(!1))}))}},{key:"addLayerToSearch",value:function(e,t,n){this.state.refreshLayerFn?this.state.refreshLayerFn("",n,e):e.map((function(e){e.wms_or_cache_ur?e.tile.setVisible(n):e.wms_tile.setVisible(n)}))}},{key:"resetFilteredOnlyFeature",value:function(){var e=this;this.removeFeatureFromSource(this.au_search_layer_name),this.removeFeatureFromSource("buffer"),this.map.getLayers().forEach((function(t){t&&(e.is_not_visible_layers.map((function(n){t.get("code")==n&&t.setVisible(!0),e.state.filtered_layer_name&&t.get("filter")==e.state.filtered_layer_name&&e.map.removeLayer(t)})),"inside"==t.get("name")&&e.map.removeLayer(t))})),this.setState({filtered_wms:void 0,filtered_layer:void 0}),this.is_not_visible_layers=[],this.onClickCloser()}},{key:"getKiloFromScale",value:function(e){return e/1e3}},{key:"fromLonLatToMapCoord",value:function(e){return Object(l.d)([e[0],e[1]])}},{key:"drawBorderCircle",value:function(e){this.removeFeatureFromSource(this.au_search_layer_name);var t=this.state.vector_layer,n=this.state.format.readFeatures(e,{dataProjection:this.state.projection_display,featureProjection:this.state.projection});n[0].setProperties({id:"buffer"}),t.getSource().addFeature(n[0])}},{key:"getOnlyFeature",value:function(e,t,n,r,a){var o,i=this;this.onClickCloser(),this.allLayerVisible(a),a&&(this.is_not_visible_layers=a);var c=this.state.map_wms_list.map((function(a){var c=a.name,s=a.layers,l="";return{name:c,layers:i.is_not_visible_layers.map((function(a){var c;return s.map((function(s){if(a==s.code){c=s;var u=s.tile.getSource().urls[0];if(!e&&t){var f=i.getKiloFromScale(r);l="DWITHIN(geom,Point("+t[0]+" "+t[1]+"),"+f+",kilometers)",o=t[0]+","+t[1]}else e&&n?(l="aimag='"+e+"' AND sum='"+n+"'",o=e+"_"+n):e&&!n&&(l="aimag='"+e+"'",o=e);var p=new m.a({source:new w.a({projection:i.state.projection,url:u,params:{LAYERS:s.code,FORMAT:"image/png",cql_filter:l}}),filter:o});!e&&t&&i.drawBorderCircle(t,i.getKiloFromScale(r)),p&&(i.map.addLayer(p),filtered_tile=p)}})),q(q({},c),{},{tile:filtered_tile})}))}}));this.setState({filtered_wms:c,filtered_layer_name:o,aimag_name:e,search_coordinate:t,sum_name:n,search_scale:r}),n||this.showFeaturesAt(this.fromLonLatToMapCoord(t))}},{key:"getWMSArray",value:function(){return this.array=[],this.state.map_wms_list?this.array=this.state.map_wms_list:this.state.filtered_wms&&(this.array=this.state.filtered_wms),this.array}},{key:"check_inspire_layer",value:function(e){var t=!1,n="",r=e.split("_");return r.map((function(e,a){if(0==a&&"gp"==e&&"layer"==r[a+1]){var o=r.slice(2);n=o.join("_"),t=!0}})),{layer_code:n,is_feature:t}}},{key:"getMetrScale",value:function(e){return 1e3*e}},{key:"getPopUpInfo",value:function(e,t){var n=this,r=Object(l.m)(e),a=t.length>0?t:this.is_not_visible_layers.length>0?this.is_not_visible_layers:[],o=this.scale_line.renderedHTML_.split(" "),i=o[0];"km"==o[1]&&(i=this.getMetrScale(i)),J.a.getPopUpInfo(a,r,i).then((function(e){var t=e.datas,r=!1;n.sendFeatureInfo.length>0&&n.sendFeatureInfo.map((function(e,n){t.push(e[0])})),0==t.length&&(r=!0),n.controls.popup.getData(!0,t,n.onClickCloser,n.setSourceInPopUp,n.cartButton,r,!0,!1)})).catch((function(e){n.controls.popup.getData(!0,[],n.onClickCloser,n.setSourceInPopUp,n.cartButton,!0,!0,!1)}))}},{key:"checkTile",value:function(e,t){return e}},{key:"featureFromUrl",value:function(e){var t=this,n=this.map.getView(),r=n.getProjection(),a=n.getResolution(),o=this.getWMSArray(),i=[],c=!0;this.controls.popup.getData(!0),this.setVisibleMarker(!0),o.map((function(n){var o=n.layers;o&&o.map((function(n){var o=n.tile,s=n.wms_tile,l=(n.feature_price,n.geodb_export_field,n.geodb_pk_field,n.geodb_schema,n.geodb_table),u=n.code,p=(n.wms_or_cache_ur,t.checkTile(s,o));if(p.getVisible()){var m=t.check_inspire_layer(u),d=m.layer_code,y=m.is_feature;if(y&&i.push(d),!y){var b=p.getSource().getFeatureInfoUrl(e,a,r,{INFO_FORMAT:"application/vnd.ogc.gml"});b&&(t.state.is_draw_open,fetch(b).then((function(e){return e.text()})).then((function(n){var r=(new f.a).readFeatures(n);r.length>0&&r.map((function(e,n){if(e.getGeometry().getType().includes("Polygon")){var a=new h.a({features:r});t.selectSource=a,t.state.vector_layer.setSource(t.selectSource)}}));var a=r.map((function(e){var t=e.getGeometryName(),n=e.getKeys().filter((function(e){return e!=t})).map((function(t){return[t,e.get(t)]}));return[e.getId(),n]}));t.state.is_draw_open?t.controls.popup.getData(!0,t.sendFeatureInfo,t.onClickCloser,t.setSourceInPopUp,t.cartButton,t.is_empty,!1,!1):a.length>0?(c=!1,t.is_empty=!1,t.sendFeatureInfo.length>0&&t.sendFeatureInfo.map((function(e,n){e[0].field_name!==a[0][0]&&(a.push(l),a.push(u),t.sendFeatureInfo.push(a))})),0==t.sendFeatureInfo.length&&(a.push(l),a.push(u),t.sendFeatureInfo.push(a)),"mpoint_view"==l&&t.state.vector_layer.setSource(null),i.length>0?t.getPopUpInfo(e,i):t.controls.popup.getData(!0,t.sendFeatureInfo,t.onClickCloser,t.setSourceInPopUp,t.cartButton,t.is_empty,!1,!1)):0==i.length&&t.controls.popup.getData(!0,[],t.onClickCloser,t.setSourceInPopUp,t.cartButton,t.is_empty,!1,!1)})))}}}))})),c&&this.getPopUpInfo(e,i)}},{key:"showFeaturesAt",value:function(e){this.is_empty=!0,this.sendFeatureInfo=[];var t=this.state.is_authenticated;this.overlay.setPosition(e),t?(this.setState({pay_modal_check:!1}),this.featureFromUrl(e),this.sendFeatureInfo=[],this.is_empty=!0):this.controls.popup.getData(!0,this.sendFeatureInfo,this.onClickCloser,this.setSourceInPopUp,this.cartButton,!1,!0,!1,!1)}},{key:"setSourceInPopUp",value:function(e){var t=this.selectSource;"private"!=e&&this.state.vector_layer.setSource(null),"private"==e&&this.state.vector_layer.setSource(t)}},{key:"handleToggle",value:function(e){var t=this.state.layers[e];t.setVisible(!t.getVisible())}},{key:"removeFeatureFromSource",value:function(e){var t=this.state.vector_layer.getSource(),n=t.getFeatures();if(null!=n&&n.length>0)for(var r=0;r<n.length;r++)if(n[r].getProperties().id==e){t.removeFeature(n[r]);break}}},{key:"setVisibleMarker",value:function(e){this.marker_layer.setVisible(e)}},{key:"transformToLatLong",value:function(e){var t=this;return e[0].map((function(e,n){return Object(l.p)(e,t.state.projection,t.state.projection_display)}))}},{key:"toggleDrawed",value:(H=regeneratorRuntime.mark((function e(t){var n,r,a,o,i,c,s,u,f,p,m,d,h,y,b,v,g,_,w=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.feature_info_list=[],this.controls.drawModal.showModal(!0),n=[],r=[],a=this.map.getView(),o=a.getProjection(),i=t.feature.getGeometry().getCoordinates(),c=t.feature.getGeometry(),s=i[0][3],u=Object(l.p)(s,o,this.state.projection_display),Object(S.f)(u,"{y},{x}",6),f=i[0][1],p=Object(l.p)(f,o,this.state.projection_display),Object(S.f)(p,"{y},{x}",6),m=this.state,d=m.bundle,m.map_wms_list,h=this.getWMSArray(),y={bundle:{id:d.id},wms_list:h.reduce((function(e,t){var n={name:t.name,layers:t.layers.reduce((function(e,t){var n=t.id,r=t.code,a=t.name,o=t.tile;if(o)return!o.getVisible()&&w.is_not_visible_layers.length>0?w.is_not_visible_layers.map((function(t,o){t==r&&e.push({id:n,name:a,code:r})})):e.push({id:n,name:a,code:r}),e}),[])};return n.layers.length&&e.push(n),e}),[])},h.map((function(e,t){e.name,e.layers.map((function(e,t){var a=e.id,o=e.code,i=e.wms_tile;if(i.getVisible()){var c=w.check_inspire_layer(o),s=c.layer_code;c.is_feature&&(n.push(s),r.push([o,a]))}else!i.getVisible()&&w.is_not_visible_layers.length>0&&w.is_not_visible_layers.map((function(e,t){e==o&&r.push([o,a])}))}))})),0==n.length&&this.is_not_visible_layers.length>0&&(n=this.is_not_visible_layers),b=t.feature.getGeometry().getCoordinates(),v=this.transformToLatLong(b),e.next=23,J.a.getFeatureInfo(n,v);case 23:g=e.sent,_=g.datas,r.map((function(e,t){var n=$(e,2),r=n[0],a=n[1];_.map((function(e,t){e.layer_code==r&&(_[t].layer_id=a)}))})),this.calcPrice(c,y,u,p,_);case 27:case"end":return e.stop()}}),e,this)})),K=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=H.apply(e,t);function o(e){Y(a,n,r,o,i,"next",e)}function i(e){Y(a,n,r,o,i,"throw",e)}o(void 0)}))},function(e){return K.apply(this,arguments)})},{key:"formatArea",value:function(e){var t,n,r=Object(p.a)(e);return r>1e4?(t=Math.round(r/1e6*100)/100,n="km"):(t=Math.round(100*r)/100,n="m"),{output:t,type:n}}},{key:"calcPrice",value:function(e,t,n,r,a){var o=this.formatArea(e),i=[];t.wms_list.map((function(e,t){e.layers.map((function(e,t){i.push(e.code)}))})),this.controls.drawModal.showModal(!1,n,r,t,o,a,i)}},{key:"toggleDrawRemove",value:function(){var e=this.state.source_draw.getFeatures();if(e.length>0){var t=e[e.length-1];this.state.source_draw.removeFeature(t)}}},{key:"toggleDraw",value:function(){if(this.state.is_authenticated)if(this.setState((function(e){return{is_draw_open:!e.is_draw_open}})),this.state.is_draw_open){var t=new h.a,n=new d.a({source:t});this.setState({source_draw:t});var r=new j.b({source:this.state.source_draw,type:"Circle",geometryFunction:Object(j.a)()});this.setState({draw:r,draw_layer:n}),this.map.addLayer(n),this.map.addInteraction(r),r.on("drawend",this.toggleDrawed),r.on("drawstart",this.toggleDrawRemove)}else this.map.removeInteraction(this.state.draw),this.toggleDrawRemove();else{var a={modal_status:"open",modal_icon:"fa fa-exclamation-circle",modal_bg:"",icon_color:"warning",title:"Худалдан авалтын мэдээлэл",text:"Төрийн ДАН системээр нэвтэрч худалдан авалт хийнэ үү!",has_button:!0,actionNameBack:"Хаах",actionNameDelete:"Нэвтрэх",modalAction:function(){return window.location.href="/loginUser/"},modalClose:null};e.MODAL(a)}}},{key:"setFeatureOnMap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var r=this.state.vector_layer,a=this.au_search_layer_name,o=r.getSource();L.c(a,o);var i=e;n||(i=L.f.format.readFeatures(e,{dataProjection:L.f.display_projection,featureProjection:L.f.feature_projection})[0]),i.setProperties({id:a}),o.addFeature(i),this.map.getView().fit(i.getGeometry(),{padding:[100,100,100,100],duration:2e3}),t&&this.setState({refreshLayerFn:t})}}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("div",{className:"🌍"},a.a.createElement("div",{id:"map"},a.a.createElement(R.a,{items:[{key:"menus",icon:"fa fa-bars",title:"Давхаргууд",tooltip:"Давхаргууд",component:function(){return a.a.createElement("div",{className:"pt-2"},e.state.map_wms_list.map((function(t,n){return a.a.createElement(A.a,{wms:t,key:n,addLayer:e.addLayerToSearch})})))}},{key:"search",icon:"fa fa-search",title:"Хайлт",tooltip:"Хайлт",component:function(){var t={setVisibleMarker:e.setVisibleMarker,is_not_visible_layers:e.is_not_visible_layers,resetSearch:e.resetSearch,marker:e.marker.point};return a.a.createElement("div",null,a.a.createElement(V.a,{setFeatureOnMap:e.setFeatureOnMap,vector_layer:e.state.vector_layer,map_wms_list:e.state.map_wms_list,bundle_id:e.state.bundle.id,is_point:e.state.bundle.is_point,funcs:t}))}},{key:"base_maps",icon:"fa fa-map-o",title:"Суурь давхаргууд",tooltip:"Суурь давхаргууд",component:function(){return a.a.createElement(F.a,{base_layer_controls:e.state.base_layer_controls})},bottom:!0},{key:"settings",icon:"fa fa-gear",tooltip:"Тохиргоо",component:function(){return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("button",{className:"btn gp-btn-primary",type:"button",onClick:function(){return Object(P.a)("ALL")}},a.a.createElement("i",{className:"fa fa-trash mr-1"}),"Cache цэвэрлэх")))},bottom:!0}]}))))))}}])&&ee(n.prototype,r),W&&ee(n,W),Q}(r.Component)}).call(this,n(47))},556:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n.n(r);function o(e){var t=null,n=null;Object(r.useEffect)((function(){t=(t=document.getElementsByClassName("суурь-давхаргууд"))[0],e.base_layer_controls.map(o).forEach((function(e){return t.appendChild(e)}))}),[e.base_layer_controls]);var o=function(e){var t=e.thumbnail_1x,n=e.thumbnail_2x,r=e.layer,a=e.is_active,o=e.name,s=document.createElement("a");s.setAttribute("href","#"),s.innerHTML="<b>".concat(o,"</b>"),s.className="суурь-давхарга"+(a?" active":"");var l=document.createElement("img");return l.srcset="".concat(t," 1x, ").concat(n," 2x"),s.appendChild(l),s.addEventListener("click",(function(e){e.preventDefault(),c(s,r)})),i(!0===a,s,r),s},i=function(e,t,r){n&&e&&(n.layer.setVisible(!1),n.el.classList.toggle("active",!1)),r.setVisible(e),t.classList.toggle("active",e),e&&(n={el:t,layer:r})},c=function(e,t){n&&n.el===e||i(!0,e,t)};return a.a.createElement("div",{className:"суурь-давхаргууд"})}},557:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),a=n.n(r),o=n(14),i=n.n(o),c=n(58),s=n(19);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){m(n,e);var t=h(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).handleCoordinateSet=r.handleCoordinateSet.bind(b(r)),r}return p(n,[{key:"componentDidMount",value:function(){this.handleCoordinateSet()}},{key:"componentDidUpdate",value:function(e){this.handleCoordinateSet()}},{key:"handleCoordinateSet",value:function(){var e=i.a.findDOMNode(this);e.focus(),e.select()}},{key:"render",value:function(){return a.a.createElement("input",{type:"text",className:"form-control",onChange:function(){},onBlur:this.props.handleBlur,value:this.props.coordinate})}}]),n}(r.Component),_=function(e){m(n,e);var t=h(n);function n(e){var r;u(this,n);var a=e||{};(r=t.call(this,{element:document.createElement("div"),target:a.target})).is_component_initialized=!1;var o="coordinate-copy-control ".concat(s.b," ").concat(s.c);return r.element.className=o,r.renderComponent=r.renderComponent.bind(b(r)),r.toggleControl=r.toggleControl.bind(b(r)),r}return p(n,[{key:"toggleControl",value:function(e){this.element.classList.toggle(s.c,!e)}},{key:"renderComponent",value:function(e){var t=this;e.handleBlur=function(){return t.toggleControl(!1)},this.is_component_initialized||(i.a.render(a.a.createElement(g,e),this.element),this.is_component_initialized=!0),i.a.hydrate(a.a.createElement(g,e),this.element)}},{key:"setCoordinate",value:function(e){this.renderComponent({coordinate:e}),this.toggleControl(!0)}}]),n}(c.a)},558:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(0),a=n.n(r),o=n(14),i=n.n(o),c=n(58),s=n(38);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){h(n,e);var t=b(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).state={price:3e3,description:"Газрын бүрхэвч, газар ашиглалт",payload:!1,data_id:2},r}return d(n,[{key:"handlePayment",value:function(){var e=this;this.setState({payload:!0});var t=this.state,n=t.price,r=t.description,a=t.data_id;s.a.payment(n,r,a).then((function(t){var n=t.payment_id;n&&setTimeout((function(){e.props.history.push("/payment/purchase/".concat(n,"/"))}),1e3)}))}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.is_complete,r=this.state.payload;return a.a.createElement("div",null,a.a.createElement("div",{className:"show d-block modal modal-dialog"},a.a.createElement("div",{className:"modal-dialog-scrollable modal-dialog-centered"},a.a.createElement("div",{className:"modal-content animated swing"},a.a.createElement("div",{className:"modal-header",onClick:this.props.handleClose},a.a.createElement("h5",{className:"modal-title"},"Дэлгэрэнгүй мэдээлэл"),a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"×"))),a.a.createElement("div",{className:"modal-body"},!n&&a.a.createElement("div",{className:"d-flex align-items-center"},a.a.createElement("strong",null,"Түр хүлээнэ үү..."),a.a.createElement("div",{className:"spinner-border ml-auto",role:"status","aria-hidden":"true"})),n&&t.map((function(e,t){var n=u(e,2),r=n[0],o=n[1];return a.a.createElement("div",{key:t},a.a.createElement("h6",null,r),a.a.createElement("table",{className:"table"},a.a.createElement("tbody",null,o.map((function(e,t){var n=u(e,2),r=n[0],o=n[1];return a.a.createElement("tr",{key:t},a.a.createElement("th",null,r),a.a.createElement("td",null,o))})))))}))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{type:"button",onClick:this.props.handleClose,className:"btn btn-secondary","data-dismiss":"modal"},"Буцах"),r?a.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Ачааллаж байна...",a.a.createElement("a",{className:"spinner-border text-light",role:"status"},a.a.createElement("span",{className:"sr-only"},"Loading..."))):null)))),a.a.createElement("div",{className:"modal-backdrop fade show"}))}}]),n}(r.Component),E=function(e){h(n,e);var t=b(n);function n(e){var r;p(this,n);var a=e||{};return(r=t.call(this,{element:document.createElement("div"),target:a.target})).is_component_initialized=!1,r.element.className="modal fade show",r.renderComponent=r.renderComponent.bind(g(r)),r.toggleControl=r.toggleControl.bind(g(r)),r}return d(n,[{key:"toggleControl",value:function(e){this.element.classList.toggle("d-block",e)}},{key:"renderComponent",value:function(e){var t=this;e.handleClose=function(){return t.toggleControl(!1)},this.is_component_initialized||(i.a.render(a.a.createElement(w,e),this.element),this.is_component_initialized=!0),i.a.hydrate(a.a.createElement(w,e),this.element)}},{key:"showModal",value:function(e,t){this.toggleControl(!0),this.renderComponent({content:e,is_complete:t})}}]),n}(c.a)},559:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),a=n.n(r),o=n(14),i=n.n(o),c=n(58),s=n(38);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){m(n,e);var t=h(n);function n(e){var r;return u(this,n),(r=t.call(this,e)).state={total_price:0,description:"Газрын бүрхэвч, газар ашиглалт",handlePaymentIsLoad:!1,types:["shp","jpeg","png","tiff","pdf"],selected_type:""},r.handlePayment=r.handlePayment.bind(b(r)),r.onChangeType=r.onChangeType.bind(b(r)),r.closeModal=r.closeModal.bind(b(r)),r}return p(n,[{key:"onChangeType",value:function(e){var t=this,n=this.props,r=n.area,a=n.layer_list,o=n.feature_info_list,i=e.target.value;this.setState({selected_type:i}),s.a.paymentCalcPrice(r,a,o,i).then((function(e){var n=e.success,r=e.total_price;n&&t.setState({total_price:r})}))}},{key:"closeModal",value:function(){this.setState({total_price:0,selected_type:""}),this.props.handleClose()}},{key:"handlePayment",value:function(){var e=this;this.setState({handlePaymentIsLoad:!0});var t=this.state,n=t.description,r=t.selected_type,a=t.total_price,o=this.props,i=o.coodrinatLeftTop,c=o.coodrinatRightBottom,l=o.layer_info.bundle,u=o.area,f=o.feature_info_list,p=o.layer_list,m={price:a,description:n,coodrinatLeftTop:i,coodrinatRightBottom:c,bundle_id:l.id,area:u.output,area_type:u.type,feature_info_list:f,layer_list:p,selected_type:r};s.a.paymentDraw(m).then((function(t){var n=t.success,r=t.error,a=t.payment_id;n?window.location.href="/payment/purchase/polygon/".concat(a,"/"):(alert(r),e.setState({handlePaymentIsLoad:!1}))})).catch((function(t){alert("Алдаа гарсан байна"),e.setState({handlePaymentIsLoad:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.types,r=t.total_price,o=this.props,i=o.layer_info,c=o.is_loading,s=o.area,l=o.feature_info_list;return a.a.createElement("div",null,a.a.createElement("div",{className:"show d-block modal bd-example-modal-lg",tabIndex:"-1",role:"dialog","aria-hidden":"true"},a.a.createElement("div",{className:"modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header",onClick:function(){return e.closeModal()}},a.a.createElement("h5",{className:"modal-title"},"Худалдан авалтын мэдээлэл"),a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"×"))),c?a.a.createElement("div",{className:"modal-body height-30"},a.a.createElement("div",{className:"d-flex justify-content-center"},a.a.createElement("div",{className:"spinner-border gp-text-primary",role:"status"}))):a.a.createElement("div",{className:"modal-body"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-6"},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:"recipient-name",className:"col-form-label"},"Татаж авах төрөл:"),a.a.createElement("select",{className:"form-control",onChange:function(t){return e.onChangeType(t)}},a.a.createElement("option",{value:""},"--- Ямар төрлөөр авахаа сонгоно уу ---"),n.map((function(e,t){return a.a.createElement("option",{key:t,value:e},".",e)})))),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:"recipient-name",className:"col-form-label"},"Худалдан авах талбайн хэмжээ:"),a.a.createElement("span",{className:"form-control",id:"size"},s.output,s.type,a.a.createElement("sup",null,"2"))),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:"recipient-name",className:"col-form-label"},"Худалдан авах мөнгөн дүн:"),a.a.createElement("span",{className:"form-control",id:"price"},r,"₮"))),a.a.createElement("div",{className:"col-md-6"},a.a.createElement("ul",null,i.wms_list.map((function(e,t){var n=e.name,r=e.layers,o=[],i=n;return r.map((function(e,t){var n=e.name,r=e.code;return l.map((function(e,t){e.layer_code==r&&o.push(n)}))})),o.length>0&&a.a.createElement("li",{key:t},i,a.a.createElement("ul",null,o.map((function(e,t){return a.a.createElement("li",{key:t},e)}))))}))))))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{type:"button",onClick:function(){return e.closeModal()},className:"btn btn-secondary"},"Буцах"),a.a.createElement("div",{className:"form-group"},this.state.handlePaymentIsLoad?a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:"btn gp-btn-primary"},a.a.createElement("a",{className:"spinner-border text-light",role:"status"},a.a.createElement("span",{className:"sr-only"},"Loading...")),a.a.createElement("span",null," Уншиж байна. "))):a.a.createElement("button",{disabled:!1,type:"button",className:"btn gp-btn-primary",onClick:this.handlePayment},"Худалдаж авах")))))),a.a.createElement("div",{className:"modal-backdrop fade show"}))}}]),n}(r.Component),_=function(e){m(n,e);var t=h(n);function n(e){var r;u(this,n);var a=e||{};return(r=t.call(this,{element:document.createElement("div"),target:a.target})).is_component_initialized=!1,r.element.className="modal fade show",r.renderComponent=r.renderComponent.bind(b(r)),r.toggleControl=r.toggleControl.bind(b(r)),r}return p(n,[{key:"toggleControl",value:function(e){this.element.classList.toggle("d-block",e)}},{key:"renderComponent",value:function(e){var t=this;e.handleClose=function(){return t.toggleControl(!1)},this.is_component_initialized||(i.a.render(a.a.createElement(g,e),this.element),this.is_component_initialized=!0),i.a.hydrate(a.a.createElement(g,e),this.element)}},{key:"showModal",value:function(e,t,n,r,a,o,i){this.toggleControl(!0),this.renderComponent({is_loading:e,coodrinatLeftTop:t,coodrinatRightBottom:n,layer_info:r,area:a,feature_info_list:o,layer_list:i})}}]),n}(c.a)},560:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(0);var r=n(58);n(14);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var a=s(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=i(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var a=e||{},o=(r=t.call(this,{element:document.createElement("div"),target:a.target})).element;o.className="draw-button";var i=document.createElement("a");i.setAttribute("href","#");var c=document.createElement("i");return c.setAttribute("aria-hidden","true"),c.className="fa fa-object-ungroup",i.appendChild(c),o.addEventListener("click",(function(e){e.preventDefault(),a.toggleDraw()})),o.appendChild(i),r}return n}(r.a)},561:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(0),a=n.n(r),o=n(14),i=n.n(o),c=n(58),s=n(38),l=n(282);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){y(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).state={price:3e3,description:"Газрын бүрхэвч, газар ашиглалт",payload:!1,data_id:2,is_button:r.props.is_button},r}return h(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.content,n=e.is_button;t&&this.setState({is_button:!n})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.content,r=t.is_button;e.content!==n&&null!==n&&n.length>=1&&this.setState({is_button:!r})}},{key:"handlePayment",value:function(){var e=this;this.setState({payload:!0});var t=this.state,n=t.price,r=t.description,a=t.data_id;s.a.payment(n,r,a).then((function(t){var n=t.payment_id;n&&setTimeout((function(){e.props.history.push("/payment/purchase/".concat(n,"/"))}),1e3)}))}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.is_complete,r=e.feature_price,o=(e.geodb_export_field,e.geodb_pk_field,e.geodb_schema,e.geodb_table,this.state),i=o.payload,c=o.is_button;return a.a.createElement("div",null,a.a.createElement("div",{className:"show d-block modal"},a.a.createElement("div",{className:"modal-dialog modal-dialog-scrollable"},a.a.createElement("div",{className:"modal-content animated swing"},a.a.createElement("button",{type:"button",className:"close border","data-dismiss":"modal","aria-label":"Close",onClick:this.props.handleClose},a.a.createElement("span",{"aria-hidden":"true"},"×")),a.a.createElement("div",{className:"modal-body"},!n&&a.a.createElement("div",{className:"d-flex align-items-center"},a.a.createElement("strong",null,"Түр хүлээнэ үү..."),a.a.createElement("div",{className:"spinner-border ml-auto",role:"status","aria-hidden":"true"})),n&&t.map((function(e,t){var n=f(e,2),o=(n[0],n[1]);return a.a.createElement("div",{key:t},a.a.createElement("h6",{className:"text-center"},"Цэгийн мэдээлэл"),a.a.createElement("table",{className:"table"},a.a.createElement("tbody",null,o.map((function(e,t){var n=f(e,2),r=n[0],o=n[1];return"point_id"==r?a.a.createElement("tr",{key:t},a.a.createElement("th",null,"Цэгийн дугаар:"),a.a.createElement("td",null,o)):"point_name"==r?a.a.createElement("tr",{key:t},a.a.createElement("th",null,"Цэгийн Нэр:"),a.a.createElement("td",null,o)):"id"==r?a.a.createElement("tr",{key:t},a.a.createElement("th",null,"Цэгийн дахин давтагдашгүй дугаар:"),a.a.createElement("td",null,o)):"point_class_name"==r?a.a.createElement("tr",{key:t},a.a.createElement("th",null,"Сүлжээний төрөл:"),a.a.createElement("td",null,o)):null})),o.map((function(e,t){var n=f(e,2),r=n[0],o=n[1];return"aimag"==r?a.a.createElement("tr",{key:t},a.a.createElement("th",null,"Аймаг:"),a.a.createElement("td",null,o)):"sum"==r?a.a.createElement("tr",{key:t},a.a.createElement("th",null,"Сум:"),a.a.createElement("td",null,o)):"mclass"==r?a.a.createElement("tr",{key:t},a.a.createElement("th",null,"Сүлжээний зэрэг:"),a.a.createElement("td",null,o)):null})),a.a.createElement("tr",null,a.a.createElement("th",null,"Трапецийн дугаар(1:100000)"),a.a.createElement("td",null,o.map((function(e,t){var n=f(e,2),r=n[0],o=n[1];return"sheet1"==r?a.a.createElement("a",{key:t},o,"-"):"sheet2"==r?a.a.createElement("a",{key:t},parseInt(o),"-"):"sheet3"==r?a.a.createElement("a",{key:t},parseInt(o)):null})))),a.a.createElement("tr",{key:"price"},a.a.createElement("th",null,"Үнэ"),a.a.createElement("td",null,r)))))}))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-sm-12 mb-4"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-8 col-sm-6 d-flex justify-content-center"},a.a.createElement("button",{type:"button",className:"btn btn-lg gp-btn-primary",onClick:this.props.handlePointToCart,disabled:c},a.a.createElement("i",{className:"fa fa-shopping-cart"}),"  Сагсанд нэмэх")),a.a.createElement("div",{className:"col-sm-6 float-right"},a.a.createElement("a",{href:"/profile/tseg-personal/tseg-info/tseg-personal/",className:"btn btn-lg gp-btn-primary ml-3"},a.a.createElement("i",{className:"fa fa-location-arrow mr-2"}),"Цэг нэмэх")),a.a.createElement("div",{className:"col-4 col-sm-6 d-flex justify-content-center"},i?a.a.createElement("button",{type:"button",className:"btn btn-lg btn-secondary","data-dismiss":"modal"},"Ачааллаж байна...",a.a.createElement("a",{className:"spinner-border text-light",role:"status"},a.a.createElement("span",{className:"sr-only"},"Loading..."))):null))))))),a.a.createElement("div",{className:"modal-backdrop fade show"}))}}]),n}(r.Component),S=function(e){y(n,e);var t=v(n);function n(e){var r;m(this,n);var a=e||{};return(r=t.call(this,{element:document.createElement("div"),target:a.target})).comp={cart:new l.a},r.is_component_initialized=!1,r.element.className="modal fade show",r.renderComponent=r.renderComponent.bind(_(r)),r.toggleControl=r.toggleControl.bind(_(r)),r}return h(n,[{key:"toggleControl",value:function(e){this.element.classList.toggle("d-block",e)}},{key:"handlePointToCart",value:function(e,t,n){e(!0,t,n),this.toggleControl(!1)}},{key:"renderComponent",value:function(e){var t=this;e.handleClose=function(){return t.toggleControl(!1)},e.handlePointToCart=function(){return t.handlePointToCart(e.func,e.content,e.code)},e.is_button=!0,this.is_component_initialized||(i.a.render(a.a.createElement(E,e),this.element),this.is_component_initialized=!0),i.a.hydrate(a.a.createElement(E,e),this.element)}},{key:"showModal",value:function(e,t,n,r,a,o,i,c,s){this.toggleControl(!0),this.renderComponent({feature_price:e,geodb_export_field:t,geodb_pk_field:n,geodb_schema:r,geodb_table:a,code:o,content:i,is_complete:c,func:s})}}]),n}(c.a)},562:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(0),a=n.n(r),o=n(14),i=n.n(o),c=n(58);n(38),n(36),n(487);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){p(n,e);var t=d(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).state={torf:r.props.TorF},r}return f(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.TorF;t&&setTimeout((function(){e.setState({torf:!t})}),2e3)}},{key:"componentWillReceiveProps",value:function(){var e=this,t=this.props.TorF;t&&(this.setState({torf:t}),setTimeout((function(){e.setState({torf:!t})}),2e3))}},{key:"render",value:function(){var e=this.props,t=(e.TorF,e.msg),n=this.state.torf;return a.a.createElement("div",null,n?a.a.createElement("div",{className:"alert alert-danger alert-custom-css",role:"alert"},t):null)}}]),n}(r.Component),g=function(e){p(n,e);var t=d(n);function n(e){var r;l(this,n);var a=e||{};return(r=t.call(this,{element:document.createElement("div"),target:a.target})).is_component_initialized=!0,r.is_cart=!1,r.element.className="d-block",r.renderComponent=r.renderComponent.bind(y(r)),r.showAlert=r.showAlert.bind(y(r)),r}return f(n,[{key:"renderComponent",value:function(e){this.is_component_initialized||(i.a.render(a.a.createElement(v,e),this.element),this.is_component_initialized=!0),i.a.hydrate(a.a.createElement(v,e),this.element)}},{key:"showAlert",value:function(e,t){this.renderComponent({TorF:e,msg:t})}}]),n}(c.a)},566:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(0),a=n.n(r),o=n(46),i=n(247),c=n(227),s=n(38);n(809);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=[103.525827,46.723984],v=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(g,t);var n,r,l,d,y,v=m(g);function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=v.call(this,e)).state={bundle_id:e.bundle_id,aimag:[],selected_tab:"",is_point:e.is_point},t.resetButton=t.resetButton.bind(h(t)),t.getGeom=t.getGeom.bind(h(t)),t.resetSearchLayerFeatures=t.resetSearchLayerFeatures.bind(h(t)),t}return n=g,(r=[{key:"componentDidMount",value:function(){var e=this;s.a.getAimags().then((function(t){var n=t.info;t.success?e.setState({aimag:n}):e.setState({error_msg:n}),setTimeout((function(){e.setState({error_msg:""})}),2222)}))}},{key:"getGeom",value:(d=regeneratorRuntime.mark((function e(t,n){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.a.getGeom(t).then((function(e){e.success;var t=e.data;t?r.props.setFeatureOnMap(t,n):r.modalChange("fa fa-exclamation-circle","","warning","GEOM өгөгдөл байхгүй байна","",!1,"","",null,null)}));case 1:case"end":return e.stop()}}),e)})),y=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=d.apply(e,t);function o(e){u(a,n,r,o,i,"next",e)}function i(e){u(a,n,r,o,i,"throw",e)}o(void 0)}))},function(e,t){return y.apply(this,arguments)})},{key:"setCenterOfMap",value:function(){o.e(b,5.041301562246971)}},{key:"resetSearchLayerFeatures",value:function(){this.props.map_wms_list.map((function(e,t){var n=e.layers;e.is_display&&n.map((function(e,t){var n=e.checked,r=e.tile,a=e.wms_tile,o=e.wms_or_cache_ur;n&&(o?r.setVisible(n):a.setVisible(n))}))}))}},{key:"resetButton",value:function(){this.setState({bairlal_one_zoom:7.337639977224858,bairlal_scale:5e6}),this.setCenterOfMap()}},{key:"modalChange",value:function(t,n,r,a,o,i,c,s,l,u){var f={modal_icon:t,modal_bg:n,icon_color:r,title:a,text:o,has_button:i,actionNameBack:c,actionNameDelete:s,modalAction:l,modalClose:u};e.MODAL(f)}},{key:"selectTab",value:function(e){this.state.selected_tab==e&&(e=""),o.a(this.props.vector_layer),this.resetSearchLayerFeatures(),this.resetButton(),this.props.funcs.setVisibleMarker(!1),this.setState({selected_tab:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.bundle_id,r=t.selected_tab,o=t.is_point,s=[{title:"Нэрэлбэрээр хайх",component:a.a.createElement(c.e,{getGeom:this.getGeom,bundle_id:n}),order:0},{title:"Аймгаар хайх",component:a.a.createElement(c.a,{setCenterOfMap:function(){return e.setCenterOfMap()},resetButton:this.resetButton,aimag:this.state.aimag,map_wms_list:this.props.map_wms_list,getGeom:this.getGeom,vector_layer:this.props.vector_layer,funcs:this.props.funcs,resetSearchLayerFeatures:this.resetSearchLayerFeatures}),order:1},{title:"Байрлалаар хайх",component:a.a.createElement(c.c,{resetButton:this.resetButton,setFeatureOnMap:this.props.setFeatureOnMap,vector_layer:this.props.vector_layer,map_wms_list:this.props.map_wms_list,setCenterOfMap:function(){return e.setCenterOfMap()},funcs:this.props.funcs,resetSearchLayerFeatures:this.resetSearchLayerFeatures}),order:3},{title:"Өргөрөг уртраг",component:a.a.createElement(c.b,{funcs:this.props.funcs}),order:4}];return o&&s.push({title:"Цэгийн дугаараар хайх",component:a.a.createElement(c.d,null),order:2}),i.f(s,"order"),a.a.createElement("div",{className:"mt-3"},s.map((function(t,n){var o=t.title==r,i=t.title;return a.a.createElement("div",{key:n,className:"mb-2 ".concat(o?"rounded shadow-sm px-3 py-2 mt-2 bg-white rounded":"")},a.a.createElement("div",{className:"d-flex",role:"button",onClick:function(){return e.selectTab(i)}},a.a.createElement("div",{className:""},a.a.createElement("i",{className:"fa fa-".concat(o?"minus":"plus"," gp-font-plus")})),a.a.createElement("div",null,a.a.createElement("b",null,i))),o&&a.a.createElement("div",{className:"mt-2"},t.component))})))}}])&&f(n.prototype,r),l&&f(n,l),g}(r.Component)}).call(this,n(47))},567:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(0),a=n.n(r),o=n(14),i=n.n(o),c=n(58),s=n(120),l=n(38);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){d(n,e);var t=y(n);function n(e){var r;return f(this,n),(r=t.call(this,e)).click_count=0,r.is_from_inspire=!0,r.properties=[],r.state={startNumber:null,totalNumner:null,is_prev:!1,is_plus:!0,data:[],datas:"",mode:"",name:"",id:"",code:"",geom_name:"",pdf_id:"",is_purchase:!1,is_enable:!1,is_authenticated:e.is_authenticated},r.plusTab=r.plusTab.bind(v(r)),r.prevTab=r.prevTab.bind(v(r)),r.checkModeAndCode=r.checkModeAndCode.bind(v(r)),r.openCartSide=r.openCartSide.bind(v(r)),r.checkDataForPurchase=r.checkDataForPurchase.bind(v(r)),r.checkButtonEnableWithId=r.checkButtonEnableWithId.bind(v(r)),r}return m(n,[{key:"componentDidMount",value:function(){var e=this;this.element=document.getElementById("popup"),this.props.sendElem&&this.props.sendElem(this.element),l.a.getUser().then((function(t){var n=t.is_authenticated;e.setState({is_authenticated:n})}))}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.datas;if(e.datas!==n&&!this.props.is_loading){this.properties=[];this.setState({startNumber:1,is_plus:!0,is_prev:!1,is_enable:!1}),this.checkModeAndCode(1,n)}}},{key:"plusTab",value:function(){this.properties=[];var e=this.state,t=e.startNumber,n=e.datas,r=t+1;(r=Math.min(n.length,r))==n.length?this.setState({is_plus:!1,is_prev:!0,is_enable:!1}):this.setState({is_plus:!0,is_prev:!0,is_enable:!1}),this.checkModeAndCode(r,n),this.setState({startNumber:r})}},{key:"prevTab",value:function(){this.properties=[];var e=this.state,t=e.startNumber,n=e.datas,r=t-1;1==(r=Math.max(r,1))?this.setState({is_prev:!1,is_plus:!0,is_enable:!1}):this.setState({is_plus:!0,is_prev:!0,is_enable:!1}),this.checkModeAndCode(r,n),this.setState({startNumber:r})}},{key:"checkModeAndCode",value:function(e,t){var n,r,a,o,i=this,c=!1,s=0;this.click_count=0,t.length>0&&(this.props.is_from_inspire?(r=t[e-1][0],a=t[e-1][1]):(n=t[e-1][1],r=t[e-1][2],a=t[e-1][0][1],o=t[e-1][0][0]),a.map((function(e,t){"geo_id"==e[0]&&(i.setState({id:e[1]}),e[1]),e[0],e[2]&&"pointname"==e[2].toLowerCase()&&(s++,i.setState({name:e[1]}),o=e[1]),"pointid"==e[2].toLowerCase()&&(s++,i.setState({pdf_id:e[1]}))})),2==s&&(c=!0),this.setNowData(e,t,n,r,o,c),this.props.setSource(n))}},{key:"setNowData",value:function(e,t,n,r,a,o){var i;this.is_from_inspire=!0,i=this.props.is_from_inspire?[t[e-1]]:t[e-1],r.includes("gp_layer_geodeticalpoint_gp_view")||(this.is_from_inspire=!1),this.setState({data:i,mode:n,datas:t,code:r,geom_name:a,is_enable:o})}},{key:"checkButtonEnableWithId",value:function(e,t){var n=this;l.a.checkButtonEnableWithId(e,t).then((function(e){var r=e.is_enable,a=e.success;e.geo_id;a&&n.setState({is_enable:r,pdf_id:t})}))}},{key:"openCartSide",value:function(){this.click_count++;var e=!1;this.click_count>1&&(e=!0),this.props.cartButton(!0,this.state.name,this.state.code,this.state.id,e,this.state.geom_name,this.state.pdf_id)}},{key:"checkDataForPurchase",value:function(){var e=this;if(this.state.is_enable){this.setState({is_purchase:!0});var t=[{name:this.state.name,id:this.state.id,code:this.state.code,geom_name:this.state.geom_name,pdf_id:this.state.pdf_id}];this.state.data.length>0&&l.a.purchaseFromCart(t).then((function(t){var n=t.success,r=(t.msg,t.payment_id);n&&setTimeout((function(){e.setState({data:[],is_purchase:!1}),window.location.href="/payment/purchase/".concat(r,"/")}),1e3)})).catch((function(t){alert("Алдаа гарсан тул хуудсыг дахин ачааллуулна уу"),e.setState({is_purchase:!1})}))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.datas,r=t.data,o=t.startNumber,i=t.is_prev,c=t.is_plus,l=t.is_enable,u=t.is_authenticated,f=this.props,p=f.is_empty,m=f.is_from_inspire,d=f.is_loading;return a.a.createElement("div",null,a.a.createElement("div",{className:"ol-popup-header"},a.a.createElement("div",{className:"ol-popup-header-content"},!p&&n&&n.length>0?a.a.createElement("div",{className:"ol-header-cont",role:"group"},o,"  -  ",n.length," ",i?a.a.createElement("span",{onClick:this.prevTab,className:"span-left",role:"button"},a.a.createElement("i",{className:"fa fa-caret-left gp-text-primary fa-1x","aria-hidden":"true"})):null,"   ",n.length!=o&&c?a.a.createElement("span",{className:"span-right",onClick:this.plusTab,role:"button"},a.a.createElement("i",{className:"fa fa-caret-right gp-text-primary fa-1x","aria-hidden":"true"})):null,a.a.createElement("div",{className:"ol-popup-closer",id:"popup-closer",role:"button",onClick:function(){return e.props.close()}},a.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))):"Сонгоогүй байна",!n&&a.a.createElement("div",{className:"ol-popup-closer",id:"popup-closer",role:"button",onClick:function(){return e.props.close()}},a.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))),a.a.createElement(s.a,{is_loading:d}),p&&u?a.a.createElement("div",{className:"ol-popup-contet text-center"},a.a.createElement("b",null,"Хоосон газар сонгосон байна.")):u&&a.a.createElement("div",{className:"ol-popup-contet"},r.length>=1&&r[0].map((function(e,t){return 1==t&&e.map((function(e,t){return e[0].toLowerCase().startsWith("name")&&a.a.createElement("b",{key:t},e[1])}))})),a.a.createElement("hr",{className:"m-1 border border-secondary rounded"}),a.a.createElement("table",{className:"table borderless no-padding"},a.a.createElement("tbody",null,r.length>=1?r[0].map((function(e,t){return 1==t&&e.map((function(e,t){return"geo_id"!=e[0]&&!e[0].toLowerCase().startsWith("name")&&a.a.createElement("tr",{className:"p-0",style:{fontSize:"12px"},key:t},a.a.createElement("th",{className:"font-weight-normal"},a.a.createElement("b",null,e[0].charAt(0).toUpperCase()+e[0].substring(1),":"),a.a.createElement("p",{className:"m-0"},"   ",e[1].charAt(0).toUpperCase()+e[1].substring(1))))}))})):a.a.createElement("tr",null,a.a.createElement("th",null,"Хоосон байна"))))),u||p||!m?p?null:this.state.is_purchase?a.a.createElement("div",{className:"btn-group flex-wrap d-flex justify-content-center"},a.a.createElement("button",{className:"btn btn-xs btn-primary my-2 mx-3",disabled:!0},a.a.createElement("div",{className:"spinner-border",role:"status"},a.a.createElement("span",{className:"sr-only"}))," Хүлээнэ үү..")):m&&this.is_from_inspire?a.a.createElement("div",{className:"btn-group flex-wrap d-flex justify-content-center p-3"},a.a.createElement("button",{className:"btn btn-xs btn-primary mx-1 my-1",onClick:function(){return e.checkDataForPurchase()},disabled:l?"":"disabled"},l?"Худалдаж авах":"Худалдаж авах боломжгүй"),a.a.createElement("button",{className:"btn btn-xs btn-primary mx-1 my-1",onClick:function(){return e.openCartSide()},disabled:l?"":"disabled"},"Сагсанд нэмэх")):null:a.a.createElement("div",{className:"m-5"},a.a.createElement("button",{className:"btn btn-primary p-2 mx-4"},a.a.createElement("a",{className:"text-decoration-none text-white",href:"/login/"},"Нэвтрэх"))),a.a.createElement("div",{className:"ol-popup-arrow"}))}}]),n}(r.Component),w=function(e){d(n,e);var t=y(n);function n(e){var r;f(this,n);var a=e||{};return(r=t.call(this,{element:document.createElement("div"),target:a.target})).is_component_initialized=!1,r.element.className="ol-popup",r.element.setAttribute("id","popup"),r.renderComponent=r.renderComponent.bind(v(r)),r.toggleControl=r.toggleControl.bind(v(r)),r.getData=r.getData.bind(v(r)),r}return m(n,[{key:"toggleControl",value:function(e){e?(this.element.style.display="block",this.element.style.zIndex="1050"):this.element.style.display="none"}},{key:"renderComponent",value:function(e){this.is_component_initialized||(i.a.render(a.a.createElement(_,e),this.element),this.is_component_initialized=!0),i.a.hydrate(a.a.createElement(_,e),this.element)}},{key:"blockPopUp",value:function(e,t,n){this.toggleControl(e),this.renderComponent({sendElem:t,close:n})}},{key:"getData",value:function(e,t,n,r,a,o,i){var c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],s=arguments.length>8&&void 0!==arguments[8]&&arguments[8];this.toggleControl(e),this.renderComponent({datas:t,close:n,setSource:r,cartButton:a,is_empty:o,is_from_inspire:i,is_loading:c,is_authenticated:s})}}]),n}(c.a)},57:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e,t){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="arraybuffer",n.onload=function(){var t=new Uint8Array(this.response),n=new Blob([t],{type:"image/png"}),r=(window.URL||window.webkitURL).createObjectURL(n);e.getImage().src=r},n.send()},a=function(e){"ALL"===e?(localStorage.clear(),setTimeout((function(){window.location.reload()}),1e3)):localStorage.removeItem(e)}},580:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n(0),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,r,o=s(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={name:e.layer.name,code:e.layer.code,tile:e.layer.tile,wms_tile:e.layer.wms_tile,wms_or_cache_ur:e.layer.wms_or_cache_ur,is_visible:e.layer.checked,legend:e.layer.legend,is_legend_display:e.layer.is_legend_display},t.toggle=t.toggle.bind(u(t)),t}return t=l,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({name:e.layer.name,code:e.layer.code,tile:e.layer.tile,wms_tile:e.layer.wms_tile,wms_or_cache_ur:e.layer.wms_or_cache_ur,is_visible:e.layer.checked,legend:e.layer.legend,is_legend_display:e.layer.is_legend_display})}},{key:"toggle",value:function(e){this.props.layer.checked=e,this.props.addLayer([this.props.layer],this.props.name,e),this.props.checkAllIsLayersDisplay(e),this.setState({is_visible:e})}},{key:"setDisplayImage",value:function(){var e=!this.state.is_legend_display;this.props.layer.is_legend_display=e,this.setState({is_legend_display:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,r=t.code,o=t.is_visible,i=t.legend,c=t.is_legend_display;return a.a.createElement("li",null,a.a.createElement("div",{className:"d-flex my-auto"},a.a.createElement("div",{className:"mr-2 my-auto"},a.a.createElement("i",{className:"fa fa-caret-".concat(c?"down":"right"),"aria-hidden":"true",onClick:function(){return e.setDisplayImage()}})),a.a.createElement("div",{className:"my-auto d-flex"},a.a.createElement("div",{className:"mr-2 my-auto"},a.a.createElement("input",{type:"checkbox",className:"",id:r,onChange:function(t){return e.toggle(t.target.checked)},checked:o})),a.a.createElement("label",{className:"my-auto",htmlFor:r},n))),c?a.a.createElement("div",{className:"pl-4"},a.a.createElement("img",{className:"img",src:i})):null)}}])&&i(t.prototype,n),r&&i(t,r),l}(r.Component);n(528);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,o=y(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={},t}return t=i,(n=[{key:"checkAllIsLayersDisplay",value:function(e){var t=this.props.layers,n=this.props.is_display_layers;if(e&&!n)this.props.setIsDisplayLayers(e);else if(!e&&n){var r=!0;for(var a in t){var o=t[a].checked;if(n&&o){r=!o;break}}r&&n&&this.props.setIsDisplayLayers(!r)}}},{key:"render",value:function(){var e=this;return a.a.createElement("ul",{className:"wms-layer-items"},this.props.layers.map((function(t,n){return a.a.createElement(p,{layer:t,addLayer:e.props.addLayer,key:n,name:e.props.name,checkAllIsLayersDisplay:function(t){return e.checkAllIsLayersDisplay(t)}})})))}}])&&d(t.prototype,n),r&&d(t,r),i}(r.Component);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(c,e);var t,n,o,i=S(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={name:e.wms.name,tiles:e.wms.tiles,layers:e.wms.layers,is_display:e.wms.is_display,is_display_layers:e.wms.is_display_layers},t.toggle=t.toggle.bind(k(t)),t}return t=c,(n=[{key:"setIsDisplayLayers",value:function(e){this.props.wms.is_display_layers=e,this.setState({is_display_layers:e})}},{key:"toggle",value:function(e){this.props.addLayer(this.state.layers,null,e)}},{key:"setDisplay",value:function(){var e=!this.state.is_display;this.props.wms.is_display=e,this.setState({is_display:e})}},{key:"setDisplayLayers",value:function(){var e=this,t=!this.state.is_display_layers;this.toggle(t),this.props.wms.layers.map((function(n,r){e.props.wms.layers[r].checked=t})),this.setState({is_display_layers:t})}},{key:"render",value:function(){var e=this,t=this.state,n=t.tiles,o=t.name,i=t.layers,c=t.is_display,s=t.is_display_layers;return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:"mt-1"},a.a.createElement("div",{className:"d-flex"},a.a.createElement("div",{className:"my-auto mt-1",onClick:function(){return e.setDisplay()}},a.a.createElement("i",{className:"fa fa-".concat(c?"minus":"plus"," fa-sm gp-font-plus my-auto"),"aria-hidden":"true"}),a.a.createElement("label",{className:"mb-1 font-weight-bold",htmlFor:""},o)),c?a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:"ml-2 my-auto",onClick:function(){return e.setDisplayLayers()}},a.a.createElement("i",{className:"fa fa-eye".concat(s?"":"-slash"),"aria-hidden":"true"}))):null)),c?a.a.createElement(g,{name:o,layers:i,addLayer:this.props.addLayer,tileWMS:n,is_display_layers:s,setIsDisplayLayers:function(t){return e.setIsDisplayLayers(t)}}):null)}}])&&w(t.prototype,n),o&&w(t,o),c}(r.Component)},582:function(e,t,n){var r=n(67),a=n(583);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},583:function(e,t,n){(t=n(68)(!1)).push([e.i,".суурь-давхаргууд{\n    right: .0rem;\n    z-index: -100;\n    bottom: 2px;\n    height: 2.1rem;\n    position: absolute;\n\n}\n\n.суурь-давхаргууд > .суурь-давхарга{\n    display: block;\n    width: 5.6rem;\n    height: 1.75rem;\n    overflow: hidden;\n    margin: 1px;\n    border-radius: 2px;\n    float: right;\n    transition: opacity .15s ease-out;\n}\n\n.суурь-давхаргууд > .суурь-давхарга.active,\n.суурь-давхаргууд:hover > .суурь-давхарга.active:hover,\n.суурь-давхаргууд > .суурь-давхарга:hover {\n    opacity: 1;\n}\n\n.суурь-давхаргууд > .суурь-давхарга,\n.суурь-давхаргууд:hover > .суурь-давхарга.active {\n    opacity: .7;\n}\n",""]),e.exports=t},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,o,l=s(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=l.call(this,e)).state={modal_status:t.props.modal_status||"initial"},t.handleOpen=t.handleOpen.bind(u(t)),t.handleClose=t.handleClose.bind(u(t)),t.handleProceed=t.handleProceed.bind(u(t)),t}return t=f,(n=[{key:"componentDidMount",value:function(){"initial"==this.state.modal_status&&this.handleOpen()}},{key:"componentDidUpdate",value:function(e){this.props.modal_status!=e.modal_status&&(["initial","open"].includes(this.props.modal_status)&&this.handleOpen(),["closing","closed"].includes(this.props.modal_status)&&this.handleClose())}},{key:"handleOpen",value:function(){var e=this;this.setState({modal_status:"initial"}),setTimeout((function(){e.setState({modal_status:"open"})}),0)}},{key:"handleClose",value:function(e){var t=this;this.setState({modal_status:"closing"}),setTimeout((function(){t.setState({modal_status:"closed"}),e?e():(t.setState({modal_status:"closed"}),t.props.modalClose&&t.props.modalClose())}),150)}},{key:"modalClose",value:function(){var e=this,t=this.props.has_button;this.setState({modal_status:"closing"}),setTimeout((function(){e.setState({modal_status:"closed"}),!t&&e.props.modalClose&&e.props.modalClose()}),150)}},{key:"handleProceed",value:function(){this.handleClose(this.props.modalAction)}},{key:"render",value:function(){var e=this,t=this.state.modal_status,n="modal fade"+("initial"==t?" d-block":"")+("open"==t?" show d-block":"")+("closing"==t?" d-block":"")+("closed"==t?" d-none":""),o="modal-backdrop fade"+("open"==t?" show":"")+("closed"==t?" d-none":"");return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:n},a.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},a.a.createElement("div",{className:"modal-content border-0 rounded-lg ".concat(this.props.modal_bg?this.props.modal_bg:"bg-light")},a.a.createElement("div",{className:"col-md-12 offset-md-12 float-right my-1"},a.a.createElement("button",{type:"button",className:"close mt-2 mr-2","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.modalClose()}},"×"))),a.a.createElement("div",{className:"d-flex justify-content-center"},this.props.modal_icon&&a.a.createElement("i",{className:"".concat(this.props.modal_icon," fa-3x my-3 animated bounceIn text-").concat(this.props.icon_color),"aria-hidden":"true"})),a.a.createElement("div",{className:"d-flex justify-content-center"},a.a.createElement("h5",null,this.props.title&&this.props.title)),a.a.createElement("div",{className:"modal-body text-wrap text-center ml-2 mr-2 "},this.props.text&&("string"==typeof this.props.text?a.a.createElement("small",{className:""},this.props.text):this.props.text)),this.props.has_button?a.a.createElement("div",{className:"modal-footer border-0"},a.a.createElement("button",{type:"button",onClick:function(){return e.handleClose()},className:"btn btn-primary waves-effect waves-light"},a.a.createElement("i",{className:"fa fa-times pr-1"}),this.props.actionNameBack?this.props.actionNameBack:"БУЦАХ"),a.a.createElement("button",{type:"button",onClick:this.handleProceed,className:"btn btn-outline-primary waves-effect waves-light"},a.a.createElement("i",{className:"fa fa-check-square-o pr-1"}),this.props.actionNameDelete?this.props.actionNameDelete:"УСТГАХ")):this.props.text?"string"==typeof this.props.text?a.a.createElement("div",{className:"modal-body mt-3"}):null:a.a.createElement("div",{className:"modal-body mt-3"})))),a.a.createElement("div",{className:o}))}}])&&i(t.prototype,n),o&&i(t,o),f}(r.Component)},805:function(e,t,n){n(153),e.exports=n(806)},806:function(e,t,n){"use strict";n.r(t),function(e){var t=n(0),r=n.n(t),a=n(14),o=n(553);window.map=null,e.MODAL=null,e.NOTIF=null;var i=JSON.parse(document.getElementById("bundle-app-data").innerHTML);Object(a.render)(r.a.createElement(o.a,{bundle:i}),document.getElementById("bundle-app"))}.call(this,n(47))},808:function(e,t,n){(t=n(68)(!1)).push([e.i,'element.style {\n    position: relative;\n}\n.🌍 {\n    position: relative;\n}\n\n.🌍 > #map{\n    width: 100%;\n    height: calc(100% - 37px - 96px - 33.5px - 0px);\n    position: fixed;\n }\n\n.⚙ {\n    position: absolute;\n    top: 1%;\n    right: 70px;\n    bottom: 150px;\n    padding-top: 1rem;\n    padding-bottom: 1rem;\n    overflow-y: auto;\n    background-color: white;\n    -webkit-box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    -moz-box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    opacity: 1;\n}\n\n.⚙.ol-hidden {\n    opacity: 0;\n    visibility: hidden;\n    transition: opacity .1s linear, visibility 0s linear .1s;\n}\n\n.⚙-search {\n    position: absolute;\n    top: 1%;\n    left: 70px;\n    bottom: 150px;\n    padding-top: 1rem;\n    padding-bottom: 1rem;\n    overflow-y: auto;\n    background-color: white;\n    -webkit-box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    -moz-box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    opacity: 1;\n}\n.⚙-search.ol-hidden {\n    opacity: 0;\n    visibility: hidden;\n    transition: opacity .1s linear, visibility 0s linear .1s;\n}\n\n\n.⚙-toggle-search{\n    position: absolute;\n    top: 7px;\n    left: 12px;\n    width: 50px;\n    height: 50px;\n    background-color: rgba(0,60,136,0.5);\n    border-radius: 4px;\n    padding: 2px;\n}\n.⚙-toggle-search:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-search:focus{\n    background-color: rgba(0,60,136,0.7);\n\n}\n\n.⚙-toggle-search a{\n    position: absolute;\n    top: -6px;\n    left: 7px;\n    width: 50px;\n    height: 50px;\n\n}\n\n.fa-lg{\n    font-size: 40px;\n    color: white;\n    line-height: unset;\n}\n\n.⚙-toggle{\n    position: absolute;\n    top: 7px;\n    right: 12px;\n    width: 50px;\n    height: 50px;\n    background-color: rgba(0,60,136,0.5);\n    border-radius: 4px;\n    padding: 2px;\n}\n.⚙-toggle:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle:focus{\n    background-color: rgba(0,60,136,0.7);\n\n}\n\n\n.⚙-toggle a{\n    position: absolute;\n    top: -6px;\n    right: -7px;\n    width: 50px;\n    height: 50px;\n\n}\n.fa-lg{\n    font-size: 40px;\n    color: white;\n    line-height: unset;\n}\n\n.суурь-давхаргууд{\n    padding: 20px;\n}\n.суурь-давхаргууд > .суурь-давхарга{\n    display: block;\n    text-align: center;\n    padding: 4px;\n    margin-left: auto;\n    overflow: hidden;\n    margin: 5px 0px 15px 0px;\n    transition: opacity .15s ease-out;\n}\n.суурь-давхаргууд .суурь-давхарга img {\n    width: 100%;\n    height: 100%;\n    margin-top: 7px;\n}\n.суурь-давхаргууд > .суурь-давхарга.active,\n.суурь-давхаргууд:hover > .суурь-давхарга.active:hover,\n.суурь-давхаргууд > .суурь-давхарга:hover {\n    opacity: 1;\n}\n.суурь-давхаргууд > .суурь-давхарга.active img,\n.суурь-давхаргууд:hover > .суурь-давхарга.active:hover img,\n.суурь-давхаргууд > .суурь-давхарга:hover img {\n    opacity: 1;\n    border: 2px solid #034ea2;\n}\n.суурь-давхаргууд > .суурь-давхарга,\n.суурь-давхаргууд:hover > .суурь-давхарга.active {\n    opacity: .7;\n}\n\n\n.ol-full-screen {\n    right: .5rem;\n    top: 10px;\n    width: 57px;\n    height: 57px;\n\n}\n.ol-full-screen .ol-full-screen-false{\n    width: 50px;\n    height: 50px;\n    font-size: 40px;\n\n}\n.ol-full-screen .ol-full-screen-true{\n    width: 50px;\n    height: 50px;\n    font-size: 40px;\n\n}\n.ol-zoom {\n    width: 57px;\n    height: 107px;\n    left: unset;\n    right: .5rem;\n    top: 64px;\n}\n.ol-zoom  .ol-zoom-out{\n    width: 50px;\n    height: 50px;\n    font-size: 55px;\n\n}\n.ol-zoom .ol-zoom-in{\n    width: 50px;\n    height: 50px;\n    font-size: 55px;\n}\n\n.ol-mouse-position {\n    right: 4rem;\n    background: rgba(0,60,136,0.3);\n    border-radius: 4px;\n    padding: 2px .2rem;\n    font-size: smaller;\n    color: #eee;\n    text-align: center;\n    width: 8.8rem;\n    min-height: 1rem;\n}\n\n.coordinate-copy-control {\n    width: 10rem;\n    left: 2%;\n    top: 0.5rem;\n    opacity: 1;\n}\n.coordinate-copy-control.ol-hidden {\n    opacity: 0;\n    visibility: hidden;\n    transition: opacity .25s linear, visibility 0s linear .25s;\n}\n\n.ol-scale-line{\n    position: fixed;\n    bottom: 70px;\n}\n\n\n.draw-button {\n    position: absolute;\n    top: 300px;\n    right: 12px;\n    width: 50px;\n    height: 50px;\n    background-color: rgba(0,60,136,0.5);\n    border-radius: 4px;\n    padding: 2px 5px;\n}\n.draw-button:active{\n    background-color: rgba(0,60,136,0.9);\n\n}\n\n.draw-button .fa-object-ungroup{\n    font-size: 30px;\n    color: white;\n    line-height: unset;\n}\n\n\n.root{\n    padding-top: 50px;\n    padding-right: 30px;\n    padding-bottom: 50px;\n    padding-left: 80px;\n}\n\n\n.cart-size{\n    font-size: 40px;\n    margin-left: 5px;\n    color: white;\n    line-height: unset;\n}\n\n.cart-count{\n    color: rgb(255, 255, 255);\n    margin-top: -40px;\n    margin-left: 15px;\n}\n\n.cart-button{\n    position: absolute;\n    top: 70px;\n    left: 12px;\n    width: 50px;\n    height: 50px;\n    background-color: rgba(0,60,136,0.5);\n    border-radius: 4px;\n    padding: 2px;\n}\n.cart-button .card-icon{\n    position: absolute;\n    padding: 9px 3px;\n    font-size: 28px;\n    color: white;\n}\n\n.cart-button .card-count{\n    padding: 0px 27px;\n    font-size: 22px;\n    color: white;\n    position: absolute;\n}\n.cart-list {\n    padding: 2px 3px;\n    position: absolute;\n    left: 10px;\n    top: 130px;\n}\n\n.card-baraa {\n    height: auto;\n    width: auto;\n    background-color: rgba(0,60,136,0.5);\n    margin-top: 7px;\n    padding: 9px 7px;\n}\n.cart{\n    z-index: 1;\n}\n\n.alert-custom-css{\n    width: auto;\n    position: absolute;\n    bottom: 5%;\n}\n\n.ol-popup {\n    position: absolute;\n    background-color: white;\n    box-shadow: 0 1px 4px rgba(0,0,0,0.2);\n    border-radius: 10px;\n    border: 1px solid #cccccc;\n    min-width: 200px;\n    max-width: 600px;\n    z-index: 1030;\n    min-height: 170px;\n}\n\n.ol-popup:after, .ol-popup:before {\n    top: 135px;\n    border: solid transparent;\n    content: " ";\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none;\n}\n\n.ol-popup:after {\n    border-top-color: white;\n    border-width: 10px;\n    transform: rotate(90deg);\n    margin-left: -10px;\n    left: -10px;\n}\n\n.ol-popup:before {\n    border-top-color: #cccccc;\n    border-width: 10px;\n    transform: rotate(90deg);\n    margin-left: -11px;\n    left: -10px;\n}\n\n.ol-popup-contet {\n    margin-top: 5px;\n    margin-left: 15px;\n    margin-bottom: 5px;\n    margin-right: 15px;\n}\n\n.ol-popup-header-content {\n    margin-left: 15px;\n    margin-right: 15px;\n}\n\n.ol-popup-header{\n    border-top-left-radius: 9px;\n    border-top-right-radius: 9px;\n    margin: 0;\n    top: 0;\n    padding: 0;\n    background-color:rgba(0,0,0,0.2);\n}\n\n.ol-popup-closer {\n    float: right;\n    text-decoration: none;\n}\n\n.ol-popup-closer:hover {\n    color: red\n}\n\n.ol-popup-table .table td, .ol-popup-table .table td{\n    padding:0px !important;\n}\n\n.borderless td, .borderless th {\n    border: none;\n}\n\n.no-padding td, .no-padding th {\n    padding-left: 10px !important;\n    padding-right: 0px !important;\n    padding-top: 0px !important;\n    padding-bottom: 5px !important;\n}\n\n.no-padding td {\n    padding-left: 20px !important;\n}\n\n.borderless th {\n    text-transform: lowercase;\n}\n\n.wms-layer-items {\n    list-style: none;\n    margin-bottom: 5px;\n}\n\n.gp-font-plus {\n    cursor: pointer;\n    color: #034ea2;\n    margin-right: 5px;\n    font-size: 12px;\n}\n\n.gp-font-plus:hover {\n    color: rgba(3, 78, 162, 0.7);\n}',""]),e.exports=t},809:function(e,t,n){var r=n(67),a=n(810);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},810:function(e,t,n){(t=n(68)(!1)).push([e.i,".search-bundle {\n    width: 100%;\n    margin-bottom: auto;\n    height: 50px;\n    background-color: #fff;\n    padding: 10px;\n    border-radius: 5px;\n    border: 1px solid #ced4da;\n}\n\n@media only screen and (min-width: 1000px) {\n    .search-bundle {\n      width: 290px;\n    }\n  }\n\n.search-bundle-input {\n    color: white;\n    border: 0;\n    outline: 0;\n    background: none;\n    width: 0;\n    margin-top: 5px;\n    caret-color: transparent;\n    line-height: 20px;\n    transition: width 0.4s linear\n}\n\n.search-bundle .search-bundle-input {\n    padding: 0 10px;\n    width: 100%;\n    caret-color: #034ea2;\n    font-size: 14px;\n    color: black;\n    transition: width 0.4s linear\n}\n.search-bundle.is-invalid {\n    border: 1px solid red;\n}\n\n.search-bundle-icon {\n    height: 34px;\n    width: 34px;\n    float: right;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n    background-color: #034ea2;\n    font-size: 10px;\n    bottom: 30px;\n    position: relative;\n    border-radius: 5px;\n}\n\n.search-bundle-icon:hover {\n    color: #fff !important\n}\n\n.list-active:hover{\n    color: #fff !important;\n    background-color: #034ea2;\n}\n\n.list-active:active{\n    color: #fff !important;\n    background-color: #034ea2;\n}",""]),e.exports=t},85:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return y}));var r=n(0),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){l(n,e);var t=f(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).alerts=[],r.total=[],r.array=[],r.key=0,r.state={},r.loadNotif=r.loadNotif.bind(m(r)),r}return s(n,[{key:"componentDidUpdate",value:function(e){e.too!==this.props.too&&this.loadNotif()}},{key:"loadNotif",value:function(){var e=this.total.length,t=this.props,n=t.too,r=t.style,o=t.msg,i="list-group-item rounded animated slideInLeft";this.props.show&&(this.key++,e>n&&1!=e&&(this.total.shift(),this.setState({status:"устгасан"})),n>e&&e>0&&(this.total=this.total.concat([a.a.createElement("li",{key:this.key,className:"".concat(i," list-group-item-").concat(r," my-1 text-wrap")},a.a.createElement("a",null,a.a.createElement("i",{className:"fa fa-".concat(this.props.icon,"-circle fa-1x my-3 animated bounceIn my-1")})," ",o))]),this.setState({status:"нэмсэн"})),0==e&&(this.total.push(a.a.createElement("li",{key:this.key,className:"".concat(i," list-group-item-").concat(r," my-1 text-wrap")},a.a.createElement("a",null,a.a.createElement("i",{className:"fa fa-".concat(this.props.icon,"-circle fa-1x my-3 animated bounceIn my-1")})," ",o))),this.setState({status:"нэмсэн"})),1==e&&0==n&&(this.total.pop(),this.setState({status:"устгасан"})))}},{key:"render",value:function(){this.state.arr;return a.a.createElement("div",{className:"position-fixed bg-transparent col-md-4 col-12",style:{zIndex:1030,top:0,right:0}},a.a.createElement("ul",{className:"bg-transparent"},this.total))}}]),n}(r.Component),y=function(e){l(n,e);var t=f(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).too=0,r.state={show:!1},r.addNotif=r.addNotif.bind(m(r)),r}return s(n,[{key:"componentDidMount",value:function(){this.props.getNotifFunc(this.addNotif)}},{key:"addNotif",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3;this.too++,this.setState({show:!0,style:e,msg:t,icon:n});var o=setInterval((function(){r.too--,r.setState({show:!0}),clearInterval(o)}),a)}},{key:"render",value:function(){var e=this.state,t=e.show,n=e.style,r=e.msg,o=e.icon;return a.a.createElement(h,{show:t,too:this.too,style:n,msg:r,icon:o})}}]),n}(r.Component)},86:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(75);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=i(Object(r.useState)({}),2),n=t[0],c=t[1],s=i(Object(r.useState)("closed"),2),l=s[0],u=s[1];Object(r.useEffect)((function(){e.getModalFunc(f)}),[e.getModalFunc]);var f=function(e){!function(e){"open"==e?(u("initial"),setTimeout((function(){u(e)}),150)):u(e)}(e.modal_status),c(e)};return a.a.createElement(o.a,{modal_status:l,modal_icon:n.modal_icon,modal_bg:n.modal_bg,icon_color:n.icon_color,text:n.text,title:n.title,has_button:n.has_button,actionNameBack:n.actionNameBack,actionNameDelete:n.actionNameDelete,modalAction:n.modalAction,modalClose:n.modalClose})}}},[[805,2,0]]]);
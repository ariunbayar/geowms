(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{54:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),a=n.n(r);n(107);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,o=s(u);function u(){return l(this,u),o.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return this.props.is_loading?a.a.createElement("div",{className:"loader text-center"},a.a.createElement("div",null,a.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),a.a.createElement("br",null),this.props.text?this.props.text:"Түр хүлээнэ үү...")):null}}])&&c(t.prototype,n),r&&c(t,r),u}(r.Component)},891:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,o,s=i(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=s.call(this,e)).state={status:t.props.status||"initial"},t.handleOpen=t.handleOpen.bind(u(t)),t.handleProceed=t.handleProceed.bind(u(t)),t.handleClose=t.handleClose.bind(u(t)),t}return t=f,(n=[{key:"componentDidMount",value:function(){"initial"==this.state.status&&this.handleOpen()}},{key:"componentDidUpdate",value:function(e){this.props.status!=e.status&&(["initial","open"].includes(this.props.status)&&this.handleOpen(),["closing","closed"].includes(this.props.status)&&this.handleClose(null,0))}},{key:"handleOpen",value:function(){var e=this;this.setState({status:"initial"}),setTimeout((function(){e.setState({status:"open"})}),0)}},{key:"handleClose",value:function(e,t){var n=this;t=void 0===t?150:t,this.setState({status:"closing"}),setTimeout((function(){n.setState({status:"closed"}),e&&e()}),t)}},{key:"handleProceed",value:function(){this.handleClose(this.props.modalAction)}},{key:"render",value:function(){var e=this,t=this.state.status,n="modal fade"+("initial"==t?" d-block":"")+("open"==t?" show d-block":"")+("closing"==t?" d-block":"")+("closed"==t?" d-none":""),o="modal-backdrop fade"+("open"==t?" show":"")+("closed"==t?" d-none":"");return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:n,onClick:function(){return e.handleProceed()}},a.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},a.a.createElement("div",{className:"modal-content",style:{border:"none",borderRadius:"7px",background:"#ebebeb"}},a.a.createElement("div",{className:"d-flex justify-content-center"},"danger"==this.props.model_type_icon?a.a.createElement("i",{className:"fa fa-times-circle fa-3x my-3 animated bounceIn text-danger","aria-hidden":"true"}):"primary"==this.props.model_type_icon?a.a.createElement("i",{className:"fa fa-check-circle fa-3x my-3 animated bounceIn gp-text-primary","aria-hidden":"true"}):"warning"==this.props.model_type_icon?a.a.createElement("i",{className:"fa fa-exclamation-circle fa-3x my-3 animated bounceIn text-warning","aria-hidden":"true"}):a.a.createElement("i",{className:"fa fa-check-circle fa-3x my-3 animated bounceIn text-success","aria-hidden":"true"})),a.a.createElement("div",{className:"d-flex justify-content-center my-1"},a.a.createElement("h6",{className:"text-dark"},this.props.title)),a.a.createElement("div",{className:"modal-body text-wrap ml-2 mr-2 my-3 text-justify"},a.a.createElement("a",{className:"text-dark"},this.props.text))))),a.a.createElement("div",{className:o}))}}])&&l(t.prototype,n),o&&l(t,o),f}(r.Component)},894:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,o,s=i(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=s.call(this,e)).state={status:t.props.status||"initial"},t.handleOpen=t.handleOpen.bind(u(t)),t.handleClose=t.handleClose.bind(u(t)),t.handleProceed=t.handleProceed.bind(u(t)),t}return t=f,(n=[{key:"componentDidMount",value:function(){"initial"==this.state.status&&this.handleOpen()}},{key:"componentDidUpdate",value:function(e){this.props.status!=e.status&&(["initial","open"].includes(this.props.status)&&this.handleOpen(),["closing","closed"].includes(this.props.status)&&this.handleClose(null,0))}},{key:"handleOpen",value:function(){var e=this;this.setState({status:"initial"}),setTimeout((function(){e.setState({status:"open"})}),0)}},{key:"handleClose",value:function(e,t){var n=this;t=void 0===t?150:t,this.setState({status:"closing"}),setTimeout((function(){n.setState({status:"closed"}),e&&e(),n.props.modalClose&&n.props.modalClose()}),t)}},{key:"handleProceed",value:function(){this.handleClose(this.props.modalAction)}},{key:"render",value:function(){var e=this,t=this.state.status,n="modal fade"+("initial"==t?" d-block":"")+("open"==t?" show d-block":"")+("closing"==t?" d-block":"")+("closed"==t?" d-none":""),o="modal-backdrop fade"+("open"==t?" show":"")+("closed"==t?" d-none":"");return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:n},a.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},a.a.createElement("div",{className:"modal-content animated",style:{border:"none",borderRadius:"7px",background:"#ebebeb"}},a.a.createElement("div",{className:"col-md-12 offset-md-12 float-right my-1"},a.a.createElement("button",{type:"button",className:"close mt-2 mr-2","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.handleClose()}},"×"))),a.a.createElement("div",{className:"d-flex justify-content-center"},"success"==this.props.model_type_icon?a.a.createElement("i",{className:"fa fa-times-circle fa-3x my-3 animated bounceIn text-success","aria-hidden":"true"}):a.a.createElement("i",{className:"fa fa-times-circle fa-3x my-3 animated bounceIn text-danger","aria-hidden":"true"})),a.a.createElement("div",{className:"d-flex justify-content-center"},a.a.createElement("h5",null,this.props.title)),a.a.createElement("div",{className:"modal-body text-wrap ml-2 mr-2 text-justify"},this.props.text),a.a.createElement("div",{className:"modal-footer",style:{border:"none"}},a.a.createElement("button",{type:"button",onClick:function(){return e.handleClose()},className:"btn btn-primary waves-effect waves-light"},a.a.createElement("i",{className:"fa fa-times"}),this.props.actionNameBack?this.props.actionName:"  БУЦАХ"),a.a.createElement("button",{type:"button",onClick:this.handleProceed,className:"btn btn-outline-primary waves-effect waves-light"},a.a.createElement("i",{className:"fa fa-check-square-o"}),this.props.actionName?this.props.actionName:"  УСТГАХ"))))),a.a.createElement("div",{className:o}))}}])&&l(t.prototype,n),o&&l(t,o),f}(r.Component)},898:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return D}));var r=n(0),a=n.n(r);n(900);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,o=s(u);function u(){return l(this,u),o.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.size,r=e.color;return a.a.createElement("a",{className:"hover-fx"},a.a.createElement("i",{className:"".concat(t," ").concat(n," ").concat(r)}))}}])&&c(t.prototype,n),r&&c(t,r),u}(r.Component);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,e);var t,n,r,o=h(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={value:e.value,main_values:e.main_values,options:e.options},t}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.name,r=t.mn_name,o=t.className,l=t.children,c=this.state,i=(c.value,c.main_values,c.options);return Array(),l.length,a.a.createElement("select",{name:n,id:"id_".concat(n),style:{fontSize:"0.8rem"},className:o||" custom-select",onChange:function(t){return e.props.handleOnChangeSelect(t.target.value,n)}},a.a.createElement("option",{value:""},"--- ",r," сонгоно уу ---"),i.map((function(e,t){return a.a.createElement("option",{key:t,value:e.code_list_id},e.code_list_name)})))}}])&&d(t.prototype,n),r&&d(t,r),l}(r.PureComponent);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var a=P(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(l,e);var t,n,r,o=N(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={value:e.value,children:[]},t.handleOnChange=t.handleOnChange.bind(k(t)),t.handleOnChangeSelect=t.handleOnChangeSelect.bind(k(t)),t}return t=l,(n=[{key:"handleOnChange",value:function(e,t){this.props.sendValue(e,t),this.setState({value:e})}},{key:"handleOnChangeSelect",value:function(e,t){var n=this.props.options,r=Array();n.map((function(t,n){t.children&&t.code_list_id==e&&(r=t.children)})),console.log(r),this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({value:e},r)),this.props.sendValue(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.name,r=t.type,o=t.mn_name,l=t.placeholder,c=t.className,i=(t.options,t.main_values,this.state),s=i.value,u=i.children;return a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:"id_".concat(n)},o),"select"==r?a.a.createElement("div",null,u.length>0?a.a.createElement(_,E({},this.props,{handleOnChangeSelect:this.handleOnChangeSelect,value:s})):a.a.createElement(_,E({},this.props,{children:u,handleOnChangeSelect:this.handleOnChangeSelect,value:s}))):"textarea"==r?a.a.createElement("textarea",{className:c||" form-control",name:n,id:"id_".concat(n),cols:"30",rows:"10",onChange:function(t){return e.handleOnChange(t.target.value,n)}}):a.a.createElement("input",{className:c||" form-control",type:r,name:n,placeholder:l,onChange:function(t){return e.handleOnChange(t.target.value,n)}}))}}])&&w(t.prototype,n),r&&w(t,r),l}(r.PureComponent),R=m,D=C},900:function(e,t,n){var r=n(61),a=n(901);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},901:function(e,t,n){(t=n(62)(!1)).push([e.i,"\n.hover-fx {\n    display: inline-block;\n    cursor: pointer;\n    width: 30px;\n    height: 30px;\n    line-height: 32px;\n    border-radius: 50%;\n    text-align: center;\n    position: relative;\n    color: #f1f3f4;\n    background-color: rgba(255, 255, 255, 0.1);\n    transition: 300ms;\n}\n\n.hover-fx:after {\n    pointer-events: none;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    content: '';\n    box-sizing: content-box;\n    box-shadow: 0 0 0 3px #f1f3f4;\n    top: 0;\n    left: 0;\n    opacity: 0;\n    transition: 300ms;\n}\n\n.hover-fx:hover {\n    background-color: #f1f3f4;\n    color: #f1f3f4;\n}\n\n.hover-fx:hover:after {\n    opacity: 1;\n    transform: scale(1.15);\n}",""]),e.exports=t},953:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return we}));var r=n(0),a=n.n(r),o=n(50),l=n(219);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={getgrouplist:function(){var e=i({},Object(l.a)());return fetch("".concat("/back","/geoserver/rest/group_list/"),e).then(l.c)},remove_layer_group:function(e){var t=i(i({},Object(l.b)()),{},{body:JSON.stringify({group_name:e})});return fetch("".concat("/back","/geoserver/rest/remove_layer_group/"),t).then(l.c)},getGroupDetial:function(e){var t=i(i({},Object(l.b)()),{},{body:JSON.stringify({group_name:e})});return fetch("".concat("/back","/geoserver/rest/get_group_detial/"),t).then(l.c)},getLayers:function(){var e=i({},Object(l.a)());return fetch("".concat("/back","/geoserver/rest/get_layers/"),e).then(l.c)},createLayerGroup:function(e,t,n,r){var a=i(i({},Object(l.b)()),{},{body:JSON.stringify({values:e,layer_list:t,group_state:n,old_name:r})});return fetch("".concat("/back","/geoserver/rest/create_layer_group/"),a).then(l.c)},getGroupCacheList:function(e){var t=i(i({},Object(l.b)()),{},{body:JSON.stringify({group_name:e})});return fetch("".concat("/back","/geoserver/rest/get_group_cache_list/"),t).then(l.c)},createGroupCache:function(e,t){var n=i(i({},Object(l.b)()),{},{body:JSON.stringify({values:e})});return fetch("".concat("/back","/geoserver/rest/create_group_cache/").concat(t,"/"),n).then(l.c)}};var f=n(29),m=n(891),p=n(54),d=n(894),y=n(898);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(l,e);var t,n,r,o=_(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={modal_status:"closed"},t.handleModalDeleteOpen=t.handleModalDeleteOpen.bind(E(t)),t.handleModalDeleteClose=t.handleModalDeleteClose.bind(E(t)),t}return t=l,(n=[{key:"handleModalDeleteOpen",value:function(){this.setState({modal_status:"open"})}},{key:"handleModalDeleteClose",value:function(){this.setState({modal_status:"closed"})}},{key:"modalClose",value:function(){this.props.handleRemove(),this.setState({modal_status:"closed"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.idx;return a.a.createElement("tr",{key:r},a.a.createElement("td",null,r),a.a.createElement("td",null,n),a.a.createElement("td",null,a.a.createElement(f.c,{to:"/back/layer-groups/".concat(n,"/tile-caching/"),exact:!0},a.a.createElement(y.a,{icon:"fa fa-shopping-basket"}))),a.a.createElement("td",null,a.a.createElement(f.c,{className:"text-primary",to:"/back/layer-groups/".concat(n,"/засах/")},a.a.createElement(y.a,{icon:"fa fa-pencil-square-o"}))),a.a.createElement("td",null,a.a.createElement("a",{href:"#",onClick:this.handleModalDeleteOpen},a.a.createElement(y.a,{icon:"fa fa-trash-o text-danger"})),a.a.createElement(d.a,{text:'Та "'.concat(n,'" нэртэй тохиргоог устгахдаа итгэлтэй байна уу?'),title:"Тохиргоог устгах",model_type_icon:"success",status:this.state.modal_status,modalClose:this.handleModalDeleteClose,modalAction:function(){return e.modalClose()}})))}}])&&b(t.prototype,n),r&&b(t,r),l}(r.Component);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var a=C(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(l,e);var t,n,r,o=j(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={items:e.item_list,page:e.page,total_page:1,is_loading:!1,search_query:e.search_query,per_page:e.per_page,color:e.color?e.color:"dark",filter_name:e.filter_name?e.filter_name:""},t.paginate=t.paginate.bind(P(t)),t.load=t.load.bind(P(t)),t.prevPage=t.prevPage.bind(P(t)),t.nextPage=t.nextPage.bind(P(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this.state,t=e.page,n=e.per_page,r=e.items,a=e.search_query,o=e.filter_name;this.load(t,n,r,a,o)}},{key:"load",value:function(e,t,n,r,a){this.paginate(e,t,n,r,a)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.page,a=n.per_page,o=n.item_list,l=n.search_query,c=n.filter_name;e.item_list==this.props.item_list&&e.page==r&&e.search_query==l&&e.filter_name==c||(this.setState({search_query:l,page:r,items:o,filter_name:c}),this.load(r,a,o,l,c))}},{key:"paginate",value:function(e,t,n,r,a){var o=e*t,l=o-t;if(r.length>=1){if(a)var c=n.filter((function(e){return e[a].toLowerCase().includes(r.toLowerCase())}));else c=n.filter((function(e){return e.toLowerCase().includes(r.toLowerCase())}));var i=c.slice(l,o),s=Math.ceil(c.length/t);this.props.paginate(i,e,r),this.setState({total_page:s})}else{var u=n.slice(l,o),f=Math.ceil(n.length/t);this.props.paginate(u,e,r),this.setState({total_page:f,search_query:""})}}},{key:"nextPage",value:function(){var e=this.state,t=e.page,n=e.per_page,r=e.items,a=e.search_query,o=e.total_page,l=e.filter_name;t<o&&this.load(t+1,n,r,a,l)}},{key:"prevPage",value:function(){var e=this.state,t=e.page,n=e.per_page,r=e.items,a=e.search_query,o=e.filter_name;t>1&&this.load(t-1,n,r,a,o)}},{key:"render",value:function(){var e=this.state,t=e.total_page,n=e.page;return a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("div",{className:"float-left"},a.a.createElement("strong",null,"Хуудас ",n,"-",t)),a.a.createElement("div",{className:"float-right btn-group group-round"},a.a.createElement("button",{type:" button",className:"btn btn-dark waves-effect waves-light btn-sm",onClick:this.prevPage}," « өмнөх"),a.a.createElement("button",{type:"button",className:"btn btn-dark waves-effect waves-light btn-sm",onClick:this.nextPage},"дараах »"))))}}])&&x(t.prototype,n),r&&x(t,r),l}(r.Component);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var a=z(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(l,e);var t,n,r,o=A(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={group_list:[],modal_alert_status:"closed",timer:null,model_alert_text:"",model_type_icon:"success",search_query:"",currentPage:1,groupPerPage:20,is_loading:!1,currentGroups:[]},t.handleListUpdated=t.handleListUpdated.bind(L(t)),t.handleGroupDelete=t.handleGroupDelete.bind(L(t)),t.modalClose=t.modalClose.bind(L(t)),t.handleSearch=t.handleSearch.bind(L(t)),t.paginate=t.paginate.bind(L(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){this.handleListUpdated()}},{key:"handleListUpdated",value:function(){var e=this;this.setState({is_loading:!0}),u.getgrouplist().then((function(t){var n=t.group_list;e.setState({group_list:n,is_loading:!1})}))}},{key:"modalClose",value:function(){this.setState({modal_alert_status:"closed"})}},{key:"handleSearch",value:function(e){""!=e.target.value.length?this.setState({search_query:e.target.value}):(this.setState({search_query:""}),this.handleListUpdated())}},{key:"paginate",value:function(e,t,n){this.setState({currentPage:t,currentGroups:e,search_query:n})}},{key:"handleGroupDelete",value:function(e){var t=this;u.remove_layer_group(e).then((function(e){var n=e.success,r=e.info;n?t.setState({model_alert_text:r,model_type_icon:"success",modal_alert_status:"open"}):t.setState({model_alert_text:r,model_type_icon:"danger",modal_alert_status:"open"}),t.handleListUpdated(),t.modalCloseTime()}))}},{key:"modalCloseTime",value:function(){var e=this;this.state.timer=setTimeout((function(){e.setState({modal_alert_status:"closed"})}),2e3)}},{key:"render",value:function(){var e=this,t=this.state,n=t.group_list,r=t.currentGroups,o=t.search_query,l=t.groupPerPage,c=t.currentPage,i=t.is_loading,s=t.modal_alert_status,u=t.model_alert_text,d=t.model_type_icon;return a.a.createElement("div",{className:"row justify-content-center"},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("div",{className:"row"},a.a.createElement(p.a,{is_loading:i}),a.a.createElement("div",{className:"col-md-6"},a.a.createElement("div",{className:"float-sm-left search-bar"},a.a.createElement("input",{type:"text",className:"form-control",id:"search_query small-input",placeholder:"Хайх",onChange:function(t){return e.handleSearch(t)},value:o}),a.a.createElement("a",null,a.a.createElement("i",{className:"icon-magnifier"})))),a.a.createElement("div",{className:"col-md-6"},a.a.createElement("div",{className:"float-sm-right"},a.a.createElement(f.c,{className:"btn gp-btn-primary waves-effect waves-light btn-sm",to:"/back/layer-groups/нэмэх/"},"Нэмэх")))),a.a.createElement("div",{className:"table-responsive table_wrapper ml-2"},a.a.createElement("table",{className:"table table_wrapper_table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"}," № "),a.a.createElement("th",{scope:"col"}," Нэр "),a.a.createElement("th",{scope:"col"},"TileCaching"),a.a.createElement("th",{scope:"col"},"Засах"),a.a.createElement("th",{scope:"col"},"Устгах"))),a.a.createElement("tbody",null,0===r.length?a.a.createElement("tr",null,a.a.createElement("td",null,"geoserver дээр group бүртгэлгүй байна")):r.map((function(t,n){return a.a.createElement(S,{idx:c*l-l+n+1,value:t,handleRemove:function(){return e.handleGroupDelete(t)}})}))))),a.a.createElement(R,{paginate:this.paginate,item_list:n,search_query:o,per_page:l,page:c})),a.a.createElement(m.a,{modalAction:function(){return e.modalClose()},status:s,title:u,model_type_icon:d}))}}])&&T(t.prototype,n),r&&T(t,r),l}(r.Component),F=n(20),U=n(33);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var a=K(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?$(e):t}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(c,e);var t,n,o,l=B(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=l.call(this,e)).state={status:t.props.status||"initial",layer_list:e.layer_list,search_query:"",current_page:1,layerPerPage:10,current_layers:[],search_name:""},t.handleOpen=t.handleOpen.bind($(t)),t.handleClose=t.handleClose.bind($(t)),t.handleIsload=t.handleIsload.bind($(t)),t.handleProceed=t.handleProceed.bind($(t)),t.handleSearch=t.handleSearch.bind($(t)),t.paginate=t.paginate.bind($(t)),t}return t=c,(n=[{key:"componentDidMount",value:function(){"initial"==this.state.status&&this.handleOpen()}},{key:"handleIsload",value:function(e){this.setState({is_loading:e})}},{key:"handleSearch",value:function(e){e.target.value.length>=1?this.setState({search_query:e.target.value}):this.setState({search_query:"",layer_list:this.props.layer_list})}},{key:"paginate",value:function(e,t,n){this.setState({current_layers:e,current_page:t,search_query:n})}},{key:"componentDidUpdate",value:function(e){this.props.status!=e.status&&(["initial","open"].includes(cthis.props.status)&&this.handleOpen(),["closing","closed"].includes(this.props.status)&&this.handleClose()),this.props.layer_list!=e.layer_list&&this.setState({layer_list:this.props.layer_list})}},{key:"handleProceed",value:function(e,t){this.props.modalAction(t)}},{key:"handleOpen",value:function(){var e=this;this.setState({status:"initial"}),setTimeout((function(){e.setState({status:"open"})}),0)}},{key:"handleClose",value:function(e){var t=this;this.setState({status:"closing"}),setTimeout((function(){t.setState({status:"closed"}),t.props.modalClose()}),150)}},{key:"render",value:function(){var e=this,t=this.state.status,n="modal fade"+("initial"==t?" d-block":"")+("open"==t?" show d-block":"")+("closing"==t?" d-block":"")+("closed"==t?" d-none":""),o="modal-backdrop fade"+("open"==t?" show":"")+("closed"==t?" d-none":""),l=this.state,c=l.layer_list,i=l.current_layers,s=l.search_query,u=l.layerPerPage,f=l.current_page;return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:n+" ml-3 pl-4 mt-4 pt-4 rounded text-wrap h-75 position-absolute w-75",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true",style:{top:"15%"}},a.a.createElement("div",{className:"col-md-12 modal-dialog modal-dialog-centered"},a.a.createElement("div",{className:"modal-content animated row"},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("div",{className:"row mt-2",style:{background:"white"},onClick:function(){return e.handleClose()}},a.a.createElement("div",{className:"col-md-11"},a.a.createElement("h5",{className:"text-center text-justify"},"Шинэ давхарга сонгох")),a.a.createElement("div",{className:"col-md-1"},a.a.createElement("button",{type:"button",className:"close float-right","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"×")))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-3 col-md-3 col-xl-3"},a.a.createElement("div",{className:"float-sm-left search-bar"},a.a.createElement("input",{type:"text",className:"form-control",id:"small-input",placeholder:"Хайх",onChange:function(t){return e.handleSearch(t)},value:s}),a.a.createElement("a",null,a.a.createElement("i",{className:"icon-magnifier"})))),a.a.createElement("div",{className:"col-md-12 overflow-auto text-justify my-2",style:{height:"calc( 40vh - 35px - 7px)"}},a.a.createElement("table",{className:"table table_wrapper_table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"}," № "),a.a.createElement("th",{scope:"col"}," Нэр "))),a.a.createElement("tbody",null,i.length>0?i.map((function(t,n){return a.a.createElement("tr",{key:f*u-u+n+1},a.a.createElement("td",null,f*u-u+n+1),a.a.createElement("td",null,a.a.createElement("a",{href:"#",onClick:function(n){return e.handleProceed(n,t)}},t.layer_name)))})):a.a.createElement("tr",null,a.a.createElement("td",null,"geoserver дээр давхарга бүртгэлгүй байна")))))),a.a.createElement("div",{className:"mb-4"},a.a.createElement(R,{paginate:this.paginate,item_list:c,search_query:s,per_page:u,page:f,filter_name:"layer_name"})))))),a.a.createElement("div",{className:o}))}}])&&J(t.prototype,n),o&&J(t,o),c}(r.Component);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(r=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var a=le(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?oe(e):t}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ce=U.c().shape({name:U.d().required("Нэр оруулна уу !"),title:U.d(),abstract:U.d()}),ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(l,e);var t,n,r,o=re(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={form_values:{name:"",title:"",abstract:"",layers:"",minx:"",maxx:"",miny:"",maxy:"",projection:""},errors:"",layer_list:[],layer_detail:[],select_layer_status:!1,modal_alert_status:"closed",model_alert_text:"",model_alert_icon:"success",timer:null,old_name:e.match.params.group_name||""},t.getDetialAll=t.getDetialAll.bind(oe(t)),t.handleSubmit=t.handleSubmit.bind(oe(t)),t.modalClose=t.modalClose.bind(oe(t)),t.handleSelectedLayers=t.handleSelectedLayers.bind(oe(t)),t.removeLayer=t.removeLayer.bind(oe(t)),t.handleMoveUp=t.handleMoveUp.bind(oe(t)),t.handleMoveDown=t.handleMoveDown.bind(oe(t)),t.handleSwap=t.handleSwap.bind(oe(t)),t.modalCloseTime=t.modalCloseTime.bind(oe(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.group_name;t&&this.getDetialAll(t),u.getLayers().then((function(t){var n=t.layer_list;e.setState({layer_detail:n})}))}},{key:"componentDidUpdate",value:function(e,t){t.layer_detail!=this.state.layer_detail&&this.setState({layer_detail:this.state.layer_detail})}},{key:"getDetialAll",value:function(e){var t=this;u.getGroupDetial(e).then((function(e){var n=e.detial_list,r=e.layer_list,a=n.bounds;n&&t.setState({form_values:{name:n.name,title:n.title,abstract:n.abstractTxt,minx:a.minx,maxx:a.maxx,miny:a.miny,maxy:a.maxy,projection:a.crs},layer_list:r})}))}},{key:"modalClose",value:function(){this.setState({select_layer_status:!1})}},{key:"handleSelectedLayers",value:function(e){var t=this.state.layer_list.concat(e);this.setState({layer_list:t,select_layer_status:!1})}},{key:"removeLayer",value:function(e,t){var n,r=Y(this.state.layer_list),a=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Z(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}(r.entries());try{for(a.s();!(n=a.n()).done;){var o=X(n.value,2),l=o[0];o[1].layer_name==t.layer_name&&r.splice(l,1)}}catch(e){a.e(e)}finally{a.f()}this.setState({layer_list:r})}},{key:"handleMoveUp",value:function(e,t){var n=Y(this.state.layer_list);t>0&&this.handleSwap(n,t,t-1)}},{key:"handleMoveDown",value:function(e,t){var n=Y(this.state.layer_list);t<n.length-1&&this.handleSwap(n,t,t+1)}},{key:"handleSwap",value:function(e,t,n){var r=e[t];e[t]=e[n],e[n]=r,this.setState({layer_list:e})}},{key:"handleSubmit",value:function(e,t){var n=this,r=t.setStatus,a=t.setSubmitting,o=t.setErrors,l=this.state,c=l.layer_list,i=l.old_name,s=!1;this.props.match.params.group_name&&(s=!0),u.createLayerGroup(e,c,s,i).then((function(e){var t=e.success,l=e.info,c=e.errors;t?(n.setState({modal_alert_status:"open",model_alert_text:l,model_alert_icon:"success"}),r("saved"),n.modalCloseTime()):(c?o(c):n.setState({modal_alert_status:"open",model_alert_text:l,model_alert_icon:"danger"}),a(!1))}))}},{key:"modalCloseTime",value:function(){var e=this;this.state.timer=setTimeout((function(){e.setState({modal_alert_status:"closed"})}),2e3),this.props.history.push("/back/layer-groups/")}},{key:"render",value:function(){var e=this,t=this.state,n=t.form_values,r=t.layer_list,o=t.layer_detail,l=t.select_layer_status,c=t.modal_alert_status,i=t.model_alert_text,s=t.model_alert_icon,u=this.props.match.params.group_name;return a.a.createElement("div",{className:"col-md-8",style:{minHeight:"72vh"}},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-4 col-md-4 col-xl-4"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-12 mt-3 col-md-12 col-xl-12"},a.a.createElement("div",{className:"h-100"},a.a.createElement(F.e,{enableReinitialize:!0,initialValues:n,validationSchema:ce,onSubmit:this.handleSubmit},(function(t){var n=t.errors,o=t.isSubmitting;return a.a.createElement(F.d,null,a.a.createElement("div",{className:"form-row col-md-12"},a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-md-12"},a.a.createElement("label",{htmlFor:""},"Нэр"),a.a.createElement(F.b,{className:"form-control "+(n.name?"is-invalid":""),name:"name",id:"name",type:"text"}),a.a.createElement(F.a,{name:"name",component:"div",className:"text-danger"})),a.a.createElement("div",{className:"form-group col-md-12"},a.a.createElement("label",{htmlFor:"title"},"Гарчиг"),a.a.createElement(F.b,{className:"form-control ",name:"title",id:"title",type:"text",placeholder:"Гарчиг"})),a.a.createElement("div",{className:"form-group col-md-12 mb-2"},a.a.createElement("label",{htmlFor:"abstract"},"Товч тайлбар"),a.a.createElement(F.b,{className:"form-control",name:"abstract",id:"abstract",as:"textarea",placeholder:"Товч тайлбар"})),u&&a.a.createElement("div",null,a.a.createElement("div",{className:"form-row col-md-12 my-2"},a.a.createElement("label",{htmlFor:"bbox",className:"col-md-12"},"Bounding box"),a.a.createElement("label",{htmlFor:"bbox",className:"col-md-12"},a.a.createElement("a",{className:"col-3 float-left pl-1"},"Minx"),a.a.createElement("a",{className:"col-3 float-left pl-1"},"Maxx"),a.a.createElement("a",{className:"col-3 float-left pl-1"},"Miny"),a.a.createElement("a",{className:"col-3 float-left pl-1"},"Maxy")),a.a.createElement(F.b,{type:"number",name:"minx",id:"minx",placeholder:"minx",disabled:!0,className:"form-control col-3"}),a.a.createElement(F.b,{type:"number",name:"miny",id:"minx",disabled:!0,placeholder:"miny",className:"form-control col-3"}),a.a.createElement(F.b,{type:"number",name:"maxx",disabled:!0,id:"maxx",placeholder:"maxx",className:"form-control col-3"}),a.a.createElement(F.b,{type:"number",name:"maxy",id:"maxx",disabled:!0,placeholder:"maxy",className:"form-control col-3"})),a.a.createElement("div",{className:"form-group col-md-12"},a.a.createElement("label",{htmlFor:"id_name"},"Projection"),a.a.createElement(F.b,{className:"form-control col-4",name:"projection",disabled:!0,id:"projection",type:"text",placeholder:"projection"}))),a.a.createElement("div",{className:"col-md-12"},a.a.createElement("div",{className:"row justify-content-center"},a.a.createElement("table",{className:"table table-wrapper-table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"}," № "),a.a.createElement("th",{scope:"col"},"Давхарга"),a.a.createElement("th",{scope:"col"},"Төрөл"),a.a.createElement("th",{scope:"col"},"Style"),a.a.createElement("th",{scope:"col"},"Эрэмбэ"),a.a.createElement("th",{scope:"col"},"Хасах"))),a.a.createElement("tbody",null,r.length>0?r.map((function(t,n){return a.a.createElement("tr",{key:n},a.a.createElement("th",{scope:"row"},n+1),a.a.createElement("td",null,t.layer_name),a.a.createElement("td",null,t.type),a.a.createElement("td",null,t.style_name),a.a.createElement("td",{className:"text-center"},a.a.createElement("a",{href:"#",onClick:function(t){return e.handleMoveUp(t,n)}},a.a.createElement(y.a,{icon:"fa fa-arrow-up text-primary"})),a.a.createElement("a",{href:"#",onClick:function(t){return e.handleMoveDown(t,n)}},a.a.createElement(y.a,{icon:"fa fa-arrow-down text-primary"}))),a.a.createElement("td",{className:"text-center"},a.a.createElement("a",{href:"#",onClick:function(n){return e.removeLayer(n,t)}},a.a.createElement(y.a,{icon:"fa fa-minus-circle text-danger"}))))})):null))),a.a.createElement("div",{className:"form-group col-md-12"},a.a.createElement("div",{className:"form-group col-md-12"},a.a.createElement("a",{href:"#",onClick:function(t){return e.setState({select_layer_status:!0})}},a.a.createElement(y.a,{icon:"fa fa-plus-circle text-success mr-4 mt-2"}),"Давхарга нэмэх")))),a.a.createElement("div",{className:"form-group"},a.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:o},o&&a.a.createElement("i",{className:"fa fa-spinner fa-spin"}),o&&a.a.createElement("a",{className:"text-light"},"Шалгаж байна."),!o&&"Хадгалах")))))})))))),l&&a.a.createElement(Q,{modalClose:this.modalClose,modalAction:this.handleSelectedLayers,layer_list:o,title:"Давхаргууд"})),a.a.createElement(m.a,{modalAction:function(){return e.modalClose()},status:c,title:i,model_type_icon:s}))}}])&&te(t.prototype,n),r&&te(t,r),l}(r.Component);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var a=ye(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?de(e):t}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=U.c().shape({zoom_start:U.b().max(21,"Хамгийн ихдээ 21 байна"),zoom_stop:U.b().max(21,"Хамгийн ихдээ 21 байна"),number_of_cache:U.b().max(21,"Хамгийн ихдээ 21 байна")}),be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(l,e);var t,n,r,o=me(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={form_values:{image_format:"png",zoom_start:0,zoom_stop:0,cache_type:"reseed",number_of_cache:1},modal_alert_status:"closed",model_alert_text:"",model_alert_icon:"success",image_formats:["png","jpeg"],cache_types:["seed","reseed","truncate"],errors:"",timer:null},t.getDetialAll=t.getDetialAll.bind(de(t)),t.handleSubmit=t.handleSubmit.bind(de(t)),t.modalClose=t.modalClose.bind(de(t)),t.modalCloseTime=t.modalCloseTime.bind(de(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this.props.match.params.group_name;e&&this.getDetialAll(e)}},{key:"getDetialAll",value:function(e){var t=this;u.getGroupCacheList(e).then((function(e){var n=e.cache_list;if(n.length>0){var r=n[0];t.setState({form_values:{image_format:r.image_format,zoom_start:r.zoom_start,zoom_stop:r.zoom_stop,cache_type:r.cache_type,number_of_cache:r.number_of_cache}})}}))}},{key:"modalClose",value:function(){this.setState({modal_alert_status:"closed"})}},{key:"handleSubmit",value:function(e,t){var n=this,r=t.setStatus,a=t.setSubmitting,o=t.setErrors,l=this.props.match.params.group_name;u.createGroupCache(e,l).then((function(e){var t=e.success,l=e.errors,c=e.info;t?(n.setState({modal_alert_status:"open",model_alert_text:c,model_alert_icon:"success"}),r("saved"),n.modalCloseTime()):o(l),a(!1)}))}},{key:"modalCloseTime",value:function(){var e=this;this.state.timer=setTimeout((function(){e.setState({modal_alert_status:"closed"})}),2e3),this.props.history.push("/back/layer-groups/")}},{key:"render",value:function(){var e=this,t=this.state,n=t.form_values,r=t.modal_alert_status,o=t.model_alert_text,l=t.model_alert_icon,c=t.image_formats,i=t.cache_types,s=this.props.match.params.group_name;return a.a.createElement("div",{className:"ml-3"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-4"},a.a.createElement(F.e,{enableReinitialize:!0,initialValues:n,validationSchema:he,onSubmit:this.handleSubmit},(function(e){var t=e.errors,n=e.isSubmitting;return a.a.createElement(F.d,null,a.a.createElement("div",{className:"form-row col-md-8"},a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-row col-md-12 mb-2"},a.a.createElement("label",{htmlFor:"group_name",className:"col-md-12 my-2 text-center text-dark h5"},s)),a.a.createElement("div",{className:"form-row col-md-12 mb-2"},a.a.createElement("label",{htmlFor:"image_format",className:"col-md-6 my-2"}," Зургийн формат"),a.a.createElement(F.b,{name:"image_format",id:"image_format",as:"select",className:"form-control col-md-6"},c.map((function(e,t){return a.a.createElement("option",{key:t,value:e},e)})))),a.a.createElement("div",{className:"form-row col-md-12 mb-4 mt-2"},a.a.createElement("label",{htmlFor:"",className:"col-md-6"},"Үйлдлийн төрөл"),a.a.createElement(F.b,{name:"cache_type",id:"cache_type",as:"select",className:"form-control col-md-6"},i.map((function(e,t){return a.a.createElement("option",{key:t,value:e},e)})))),a.a.createElement("div",{className:"form-group col-md-6"},a.a.createElement("label",{htmlFor:""},"Томруулах эхний утга"),a.a.createElement(F.b,{className:"form-control "+(t.zoom_start?"is-invalid":""),name:"zoom_start",id:"zoom_start",type:"number"}),a.a.createElement(F.a,{name:"zoom_start",component:"div",className:"text-danger"})),a.a.createElement("div",{className:"form-group col-md-6 mb-2"},a.a.createElement("label",{htmlFor:""},"Томруулах сүүлчийн утга"),a.a.createElement(F.b,{className:"form-control "+(t.zoom_stop?"is-invalid":""),name:"zoom_stop",id:"zoom_stop",type:"number"}),a.a.createElement(F.a,{name:"zoom_stop",component:"div",className:"text-danger"})),a.a.createElement("div",{className:"form-group col-md-6 mb-2"},a.a.createElement("label",{htmlFor:""},"Хэрэглэх таскуудын тоо"),a.a.createElement(F.b,{className:"form-control "+(t.number_of_cache?"is-invalid":""),name:"number_of_cache",id:"number_of_cache",type:"number"}),a.a.createElement(F.a,{name:"number_of_cache",component:"div",className:"text-danger"}))),a.a.createElement("div",{className:"form-group"},a.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:n},n&&a.a.createElement("i",{className:"fa fa-spinner fa-spin"}),n&&a.a.createElement("a",{className:"text-light"},"Шалгаж байна."),!n&&"Хадгалах"))))})))),a.a.createElement(m.a,{modalAction:function(){return e.modalClose()},status:r,title:o,model_type_icon:l}))}}])&&ue(t.prototype,n),r&&ue(t,r),l}(r.Component);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var a=Se(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(c,e);var t,n,r,l=Ee(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),l.call(this,e)}return t=c,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-body"},a.a.createElement(o.c,null,a.a.createElement(o.a,{exact:!0,path:"/back/layer-groups/",component:I}),a.a.createElement(o.a,{exact:!0,path:"/back/layer-groups/:group_name/засах/",component:ie}),a.a.createElement(o.a,{exact:!0,path:"/back/layer-groups/:group_name/tile-caching/",component:be}),a.a.createElement(o.a,{path:"/back/layer-groups/нэмэх/",component:ie}))))}}])&&_e(t.prototype,n),r&&_e(t,r),c}(r.Component)}}]);
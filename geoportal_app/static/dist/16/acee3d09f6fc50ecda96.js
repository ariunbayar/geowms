(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{107:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var o=n(0),r=n.n(o);n(132);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(u,t);var e,n,o,a=s(u);function u(){return i(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){return this.props.is_loading?r.a.createElement("div",{className:"loader text-center"},r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),r.a.createElement("br",null),this.props.text?this.props.text:"Түр хүлээнэ үү...")):null}}])&&c(e.prototype,n),o&&c(e,o),u}(o.Component)},186:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var o=n(0),r=n.n(o);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(s,t);var e,n,o,a=l(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t)).alerts=[],e.total=[],e.array=[],e.key=0,e.state={},e.loadNotif=e.loadNotif.bind(u(e)),e}return e=s,(n=[{key:"componentDidUpdate",value:function(t){t.too!==this.props.too&&this.loadNotif()}},{key:"loadNotif",value:function(){var t=this.total.length,e=this.props,n=e.too,o=e.style,a=e.msg,i="list-group-item rounded animated slideInLeft";this.props.show&&(this.key++,t>n&&1!=t&&(this.total.shift(),this.setState({status:"устгасан"})),n>t&&t>0&&(this.total=this.total.concat([r.a.createElement("li",{key:this.key,className:"".concat(i," list-group-item-").concat(o," my-1 text-wrap")},r.a.createElement("a",null,r.a.createElement("i",{className:"fa fa-".concat(this.props.icon,"-circle fa-1x my-3 animated bounceIn my-1")})," ",a))]),this.setState({status:"нэмсэн"})),0==t&&(this.total.push(r.a.createElement("li",{key:this.key,className:"".concat(i," list-group-item-").concat(o," my-1 text-wrap")},r.a.createElement("a",null,r.a.createElement("i",{className:"fa fa-".concat(this.props.icon,"-circle fa-1x my-3 animated bounceIn my-1")})," ",a))),this.setState({status:"нэмсэн"})),1==t&&0==n&&(this.total.pop(),this.setState({status:"устгасан"})))}},{key:"render",value:function(){return this.state.arr,r.a.createElement("div",{className:"position-fixed bg-transparent col-md-2",style:{zIndex:1030,top:0,right:0}},r.a.createElement("ul",{className:"bg-transparent"},this.total))}}])&&i(e.prototype,n),o&&i(e,o),s}(o.Component)},901:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n(34);function r(t,e){var n=[];return t.map((function(t){e?"geometry"!==t.type&&("integer"!=t.type&&"double precision"!=t.type&&"bigint"!=t.type||(n[t.name]=o.b().typeError("Заавал тоо байх ёстой !").required("Нөхцөл хоосон байна !")),"character varying"!=t.type&&"character"!=t.type||(n[t.name]=o.d().max(50,"Хэт урт байна !").required("Нөхцөл хоосон байна !"))):"id"!==t.name&&"geometry"!==t.type&&("integer"!=t.type&&"double precision"!=t.type&&"bigint"!=t.type||(n[t.name]=o.b().typeError("Заавал тоо байх ёстой !").required("Нөхцөл хоосон байна !")),"character varying"!=t.type&&"character"!=t.type||(n[t.name]=o.d().max(50,"Хэт урт байна !").required("Нөхцөл хоосон байна !")))})),o.c(n)}},902:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n(34);function r(){var t=[];return t.order_no=o.d().required("Нөхцөл хоосон байна !"),t.order_at=o.a().required("Нөхцөл хоосон байна !"),o.c(t)}},938:function(t,e,n){var o=n(66),r=n(939);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var a={insert:"head",singleton:!1};o(r,a);t.exports=r.locals||{}},939:function(t,e,n){(e=n(67)(!1)).push([t.i,'#map{\n    width: 100%;\n    height: calc( 100vh - 70px - 15px);\n}\n\n.btn-map{\n\twidth: 25px;\n    height: 25px;\n    font-size: 14px;\n    border-radius: 2px 2px 0 0;\n    background-color: rgba(123,152,188,0.5);\n    padding: 0;\n    border: none;\n}\n\n.⚙-toggle-line {\n    padding: 2px 4px;\n    font-size: 15px;\n    top: 56px;\n    right: 7px;\n    background-color: rgba(0,60,136,0.5);\n    position: absolute;\n    border-radius: 3px;\n    width: 25px;\n    height: 25px;\n}\n.⚙-toggle-line:active{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-line:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n\n.⚙-toggle-add {\n    padding: 2px 7px;\n    font-size: 15px;\n    right: 7px;\n    background-color: rgba(0,60,136,0.5);\n    position: absolute;\n    border-radius: 3px;\n    width: 25px;\n    height: 25px;\n    top: 83px;\n\n}\n.⚙-toggle-add:active{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-add:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-modify {\n    padding: 2px 7px;\n    font-size: 15px;\n    right: 7px;\n    background-color: rgba(0,60,136,0.5);\n    position: absolute;\n    border-radius: 3px;\n    width: 25px;\n    height: 25px;\n    top: 109px;\n\n}\n.⚙-toggle-modify:active{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-modify:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-point {\n    padding: 2px 7px;\n    font-size: 15px;\n    right: 7px;\n    background-color: rgba(0,60,136,0.5);\n    position: absolute;\n    border-radius: 3px;\n    width: 25px;\n    height: 25px;\n    top: 56px;\n\n}\n.⚙-toggle-point:active{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-point:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-polygon {\n    padding: 2px 7px;\n    font-size: 15px;\n    right: 7px;\n    background-color: rgba(0,60,136,0.5);\n    position: absolute;\n    border-radius: 3px;\n    width: 25px;\n    height: 25px;\n    top: 56px;\n\n}\n.⚙-toggle-polygon:active{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-polygon:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-remove {\n    padding: 2px 7px;\n    font-size: 15px;\n    right: 7px;\n    background-color: rgba(0,60,136,0.5);\n    position: absolute;\n    border-radius: 3px;\n    width: 25px;\n    height: 25px;\n    top: 135px;\n}\n.⚙-toggle-remove:active{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-remove:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n\n.⚙-toggle-cancel {\n    padding: 2px 7px;\n    font-size: 15px;\n    right: 7px;\n    background-color: rgba(0,60,136,0.5);\n    position: absolute;\n    border-radius: 3px;\n    width: 25px;\n    height: 25px;\n    top: 270px;\n}\n.⚙-toggle-cancel:active{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-cancel:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n\n.⚙-toggle-form {\n    padding: 2px 7px;\n    font-size: 15px;\n    right: 7px;\n    background-color: rgba(0,60,136,0.5);\n    position: absolute;\n    border-radius: 3px;\n    width: 25px;\n    height: 25px;\n    top: 161px;\n}\n.⚙-toggle-form:active{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-form:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n\n.⚙-toggle-side {\n    padding: 2px 7px;\n    font-size: 15px;\n    right: 7px;\n    background-color: rgba(0,60,136,0.5);\n    position: absolute;\n    border-radius: 3px;\n    width: 25px;\n    height: 25px;\n    top: 189px;\n\n}\n.⚙-toggle-side:active{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-side:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n\n.opac {\n    opacity: 0.5;\n}\n\n.opac::before {\n    content: "";\n    background-size: cover;\n    position: absolute;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n}\n\n.text-sp {\n    position: relative;\n    color:black;\n    line-height: 0.9;\n    text-align: center;\n}\n\n.⚙ {\n    position: absolute;\n    top: 1%;\n    right: 70px;\n    bottom: 150px;\n    padding-top: 1rem;\n    padding-bottom: 1rem;\n    overflow-y: auto;\n    background-color: white;\n    -webkit-box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    -moz-box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    box-shadow: 0px 0px 21px 7px rgba(0,0,0,0.65);\n    opacity: 1;\n}\n\n.ol-attribution {\n  display:none;\n}\n\n.ol-popup {\n    position: absolute;\n    background-color: white;\n    box-shadow: 0 1px 4px rgba(0,0,0,0.2);\n    padding: 15px;\n    border-radius: 10px;\n    border: 1px solid #cccccc;\n    bottom: 12px;\n    left: -50px;\n    min-width: 200px;\n}\n.ol-popup:after, .ol-popup:before {\n    top: 100%;\n    border: solid transparent;\n    content: " ";\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none;\n}\n.ol-popup:after {\n    border-top-color: white;\n    border-width: 10px;\n    left: 48px;\n    margin-left: -10px;\n}\n.ol-popup:before {\n    border-top-color: #cccccc;\n    border-width: 11px;\n    left: 48px;\n    margin-left: -11px;\n}\n\n#popup-content span{\n    padding-right: 10px;\n}\n\n.⚙-toggle-upload {\n    padding: 2px 7px;\n    font-size: 15px;\n    right: 7px;\n    background-color: rgba(0,60,136,0.5);\n    position: absolute;\n    border-radius: 3px;\n    width: 25px;\n    height: 25px;\n    top: 215px;\n\n}\n.⚙-toggle-upload:active{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-upload:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n\n.⚙-toggle-meta {\n    padding: 2px 7px;\n    font-size: 15px;\n    right: 7px;\n    background-color: rgba(0,60,136,0.5);\n    position: absolute;\n    border-radius: 3px;\n    width: 25px;\n    height: 25px;\n    top: 243px;\n}\n\n.⚙-toggle-meta:active{\n    background-color: rgba(0,60,136,0.7);\n}\n.⚙-toggle-meta:hover{\n    top: 242px;\n    color: white;\n\n}\n\n.⚙-toggle-qgis {\n    padding: 2px 7px;\n    font-size: 15px;\n    left: 7px;\n    background-color: rgba(0,60,136,0.5);\n    position: absolute;\n    border-radius: 3px;\n    width: 70px;\n    height: 25px;\n    top: 10px;\n}\n\n.⚙-toggle-qgis:active{\n    background-color: rgba(0,60,136,0.7);\n}\n\n.⚙-toggle-qgis:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n\n.⚙-toggle-api {\n    padding: 2px 7px;\n    font-size: 15px;\n    left: 79px;\n    background-color: rgba(0,60,136,0.5);\n    position: absolute;\n    border-radius: 3px;\n    width: 70px;\n    height: 25px;\n    top: 10px;\n}\n\n.⚙-toggle-api:active{\n    background-color: rgba(0,60,136,0.7);\n}\n\n.⚙-toggle-api:hover{\n    background-color: rgba(0,60,136,0.7);\n}\n\n.height-full{\n    max-height: calc( 95vh - 70px - 15px);\n}\n\n.list-group{\n    max-height: calc( 80vh - 70px - 15px);\n    margin-bottom: 10px;\n    overflow:scroll;\n    -webkit-overflow-scrolling: touch;\n}\n\n.list-in-meta {\n    list-style: none;\n    max-height: calc( 50vh - 70px - 15px);\n    margin-bottom: 10px;\n    overflow-y: scroll;\n    -webkit-overflow-scrolling: touch;\n}\n\n.new-meta-form {\n    max-height: calc( 50vh - 70px - 15px);\n    margin-bottom: 10px;\n    overflow-y: scroll;\n    -webkit-overflow-scrolling: touch;\n}\n\ninput[type=number]::-webkit-inner-spin-button,\ninput[type=number]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  margin: 0;\n}\n\n.ol-zoom {\n    width: 27px;\n    height: 54px;\n    left: unset;\n    right: .5rem;\n    top: 1px;\n}\n\n.ol-zoom .ol-zoom-in {\n    width: 25px;\n    height: 25px;\n    font-size: 25px;\n}\n\n.ol-zoom .ol-zoom-out {\n    width: 25px;\n    height: 25px;\n    font-size: 25px;\n}\n\n.суурь-давхаргууд{\n    right: .0rem;\n    z-index: -100;\n    bottom: 2px;\n    height: 2.1rem;\n    position: absolute;\n\n}\n.суурь-давхаргууд > .суурь-давхарга{\n    display: block;\n    width: 5.6rem;\n    height: 1.75rem;\n    overflow: hidden;\n    margin: 1px;\n    border-radius: 2px;\n    float: right;\n    transition: opacity .15s ease-out;\n}\n.суурь-давхаргууд > .суурь-давхарга.active,\n.суурь-давхаргууд:hover > .суурь-давхарга.active:hover,\n.суурь-давхаргууд > .суурь-давхарга:hover {\n    opacity: 1;\n}\n.суурь-давхаргууд > .суурь-давхарга,\n.суурь-давхаргууд:hover > .суурь-давхарга.active {\n    opacity: .7;\n}\n',""]),t.exports=e},951:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return Mr}));var o=n(0),r=n.n(o),a=n(49),i=n(186),c=(n(235),n(884)),l=n(880),s=n(467),u=n(102),f=n(507),p=n(29),d=n(141),m=n(234),h=n(212),y=n(329),b=n(885),v=n(887),g=n(280),_=n(512),w=n(529),E=n(228),S=n(530),O=n(260),x=n(121),k=n(281),j=n(258),C=n(330),P=n(2),N=n(16),R=n(28),B=n(60),A=n(237),M=n(326),T=n(325),L=n(138),I=n(113),F=n(131),D=n(77);function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=V(t);if(e){var r=V(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return q(this,n)}}function q(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(n,t);var e=U(n);function n(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=t||{},a=(o=e.call(this,{element:document.createElement("div"),target:r.target})).element;a.className="⚙-toggle-modify";var i=document.createElement("a");i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","right"),i.setAttribute("title","Засварлах"),a.setAttribute("id","⚙-toggle-modify-id");var c=document.createElement("i");return c.setAttribute("aria-hidden","true"),c.className="fa fa-pencil-square-o text-white",i.appendChild(c),a.addEventListener("click",(function(t){t.preventDefault(),r.ModifyButton()})),a.appendChild(i),o}return n}(D.a);function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=X(t);if(e){var r=X(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return H(this,n)}}function H(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(n,t);var e=Y(n);function n(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=t||{},a=(o=e.call(this,{element:document.createElement("div"),target:r.target})).element;a.className="⚙-toggle-line";var i=document.createElement("a");i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","right"),i.setAttribute("title","Зураас зурах"),i.setAttribute("href","#"),a.setAttribute("id","⚙-toggle-line-id"),r.null&&(a.style.right="33px");var c=document.createElement("i");return c.setAttribute("aria-hidden","true"),c.className="fa fa-road text-white",i.appendChild(c),a.addEventListener("click",(function(t){t.preventDefault(),r.LineButton()})),a.appendChild(i),o}return n}(D.a);function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=nt(t);if(e){var r=nt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return et(this,n)}}function et(t,e){return!e||"object"!==Z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(n,t);var e=tt(n);function n(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=t||{},a=(o=e.call(this,{element:document.createElement("div"),target:r.target})).element;a.className="⚙-toggle-point";var i=document.createElement("a");i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","right"),i.setAttribute("title","Цэг зурах"),i.setAttribute("href","#"),a.setAttribute("id","⚙-toggle-point-id"),r.null&&(a.style.right="60px");var c=document.createElement("i");return c.setAttribute("aria-hidden","true"),c.className="fa fa-circle-o text-white",i.appendChild(c),a.addEventListener("click",(function(t){t.preventDefault(),r.PointButton()})),a.appendChild(i),o}return n}(D.a);function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=lt(t);if(e){var r=lt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ct(this,n)}}function ct(t,e){return!e||"object"!==rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(n,t);var e=it(n);function n(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=t||{},a=(o=e.call(this,{element:document.createElement("div"),target:r.target})).element;a.className="⚙-toggle-polygon";var i=document.createElement("a");i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","right"),i.setAttribute("title","Талбай зурах"),i.setAttribute("href","#"),a.setAttribute("id","⚙-toggle-polygon-id");var c=document.createElement("i");return c.setAttribute("aria-hidden","true"),c.className="fa fa-cube text-white",i.appendChild(c),a.addEventListener("click",(function(t){t.preventDefault(),r.PolygonButton()})),a.appendChild(i),o}return n}(D.a);function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=mt(t);if(e){var r=mt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return dt(this,n)}}function dt(t,e){return!e||"object"!==ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(n,t);var e=pt(n);function n(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=t||{},a=(o=e.call(this,{element:document.createElement("div"),target:r.target})).element;a.className="⚙-toggle-remove";var i=document.createElement("a");i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","right"),i.setAttribute("title","Арилгах"),i.setAttribute("href","#"),a.setAttribute("id","⚙-toggle-remove-id");var c=document.createElement("i");return c.setAttribute("aria-hidden","true"),c.className="fa fa-trash-o text-white",i.appendChild(c),a.addEventListener("click",(function(t){t.preventDefault(),r.RemoveButton()})),a.appendChild(i),o}return n}(D.a);function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=_t(t);if(e){var r=_t(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return gt(this,n)}}function gt(t,e){return!e||"object"!==yt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(n,t);var e=vt(n);function n(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=t||{},a=(o=e.call(this,{element:document.createElement("div"),target:r.target})).element;a.className="⚙-toggle-form";var i=document.createElement("a");i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","right"),i.setAttribute("title","Бусад датаг засах"),i.setAttribute("href","#"),a.setAttribute("id","⚙-toggle-form-id");var c=document.createElement("i");return c.setAttribute("aria-hidden","true"),c.className="fa fa-wpforms text-white",i.appendChild(c),a.addEventListener("click",(function(t){t.preventDefault(),r.FormButton()})),a.appendChild(i),o}return n}(D.a);function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=kt(t);if(e){var r=kt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return xt(this,n)}}function xt(t,e){return!e||"object"!==Et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(n,t);var e=Ot(n);function n(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=t||{},a=(o=e.call(this,{element:document.createElement("div"),target:r.target})).element;a.className="⚙-toggle-add";var i=document.createElement("a");i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","right"),i.setAttribute("title","Хадгалах"),i.setAttribute("href","#"),a.setAttribute("id","⚙-toggle-add-id");var c=document.createElement("i");return c.setAttribute("aria-hidden","true"),c.className="fa fa-save text-white",i.appendChild(c),a.addEventListener("click",(function(t){t.preventDefault(),r.SaveBtn("add")})),a.appendChild(i),o}return n}(D.a);function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Bt(t);if(e){var r=Bt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Rt(this,n)}}function Rt(t,e){return!e||"object"!==Ct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var At=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(n,t);var e=Nt(n);function n(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=t||{},a=(o=e.call(this,{element:document.createElement("div"),target:r.target})).element;a.className="⚙-toggle-upload";var i=document.createElement("a");i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","right"),i.setAttribute("title","Файл оруулах"),i.setAttribute("href","#"),a.setAttribute("id","⚙-toggle-upload-id");var c=document.createElement("i");return c.setAttribute("aria-hidden","true"),c.className="fa fa-file text-white",i.appendChild(c),a.addEventListener("click",(function(t){t.preventDefault(),r.showUploadBtn()})),a.appendChild(i),o}return n}(D.a),Mt=n(13),Tt=n.n(Mt),Lt=n(107),It=n(48);function Ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(n),!0).forEach((function(e){Gt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zt(t){return function(t){if(Array.isArray(t))return Ut(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ut(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function qt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Vt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.xml=(new DOMParser).parseFromString(e,"text/xml")}var e,n,o;return e=t,(n=[{key:"getLayers",value:function(){return zt(this.xml.querySelectorAll("WMS_Capabilities > Capability Layer")).map((function(t){return{name:t.querySelector("Title").innerHTML,code:t.querySelector("Name").innerHTML}}))}}])&&qt(e.prototype,n),o&&qt(e,o),t}(),Jt={getWmsLayer:function(t,e,n){var o=Object(It.a)();return fetch("".concat(Wt,"/").concat(t,"/").concat(e,"/").concat(n,"/get-wms-layer/"),o).then(It.c)},remove:function(t,e,n){var o=Dt(Dt({},Object(It.b)()),{},{body:JSON.stringify({gid:n})});return fetch("".concat(Wt,"/").concat(t,"/").concat(e,"/remove/"),o).then(It.c)},cancel:function(t,e,n,o,r,a,i,c){var l=Dt(Dt({},Object(It.b)()),{},{body:JSON.stringify({pid:t,fid:e,tid:n,old_geo_id:o,geo_json:r,form_json:a,order_no:i,order_at:c})});return fetch("/gov/api/revoke_request/revoke-new/",l).then(It.c)},save:function(t,e){var n=Dt(Dt({},Object(It.b)()),{},{body:JSON.stringify(e)});return fetch("".concat(Wt,"/").concat(t,"/add/"),n).then(It.c)},detail:function(t,e,n){var o=Object(It.a)();return fetch("".concat(Wt,"/").concat(t,"/").concat(e,"/").concat(n,"/detailUpdate/"),o).then(It.c)},sendFeature:function(t,e,n){var o=Dt(Dt({},Object(It.b)()),{},{body:JSON.stringify({data:t,id:n})});return fetch("".concat(Wt,"/").concat(e,"/save/"),o).then(It.c)},update:function(t,e,n){var o=Dt(Dt({},Object(It.b)()),{},{body:JSON.stringify(t)});return fetch("".concat(Wt,"/").concat(e,"/").concat(n,"/save/"),o).then(It.c)},geomUpdate:function(t,e,n){var o=Dt(Dt({},Object(It.b)()),{},{body:JSON.stringify({geojson:t,fid:e,id:n})});return fetch("".concat(Wt,"/").concat(e,"/geom-update/"),o).then(It.c)},geomType:function(t,e){var n=Object(It.a)();return fetch("".concat(Wt,"/").concat(t,"/").concat(e,"/geom-type/"),n).then(It.c)},getRole:function(t){var e=Object(It.a)();return fetch("".concat(Wt,"/").concat(t,"/getRoles/"),e).then(It.c)},detailCreate:function(t,e,n){var o=Object(It.a)();return fetch("".concat(Wt,"/").concat(t,"/").concat(e,"/").concat(n,"/detailCreate/"),o).then(It.c)},create:function(t,e,n,o,r){var a=Dt(Dt({},Object(It.b)()),{},{body:JSON.stringify({tid:t,pid:e,fid:n,form_json:o,geo_json:r})});return fetch("".concat(Wt,"/create/"),a).then(It.c)},createUpd:function(t,e,n,o,r,a){var i=Dt(Dt({},Object(It.b)()),{},{body:JSON.stringify({tid:t,pid:e,fid:n,form_json:o,geo_json:r,old_geo_id:a})});return fetch("".concat(Wt,"/createUpd/"),i).then(It.c)},createDel:function(t,e,n,o,r){var a=Dt(Dt({},Object(It.b)()),{},{body:JSON.stringify({tid:t,pid:e,fid:n,old_geo_id:o,form_json:r})});return fetch("".concat(Wt,"/createDel/"),a).then(It.c)},sendFile:function(t,e,n,o,r){var a=Dt(Dt({},Object(It.b)()),{},{body:t});return fetch("".concat(Wt,"/send-data/").concat(n,"/").concat(r,"/").concat(e,"/").concat(o,"/"),a).then(It.c)},loadWMSLayers:function(t){var e=Dt({},Object(It.a)());return fetch("/дэд-сан/".concat(t,"/давхаргууд/"),e).then(It.c)},searchMeta:function(t){var e=Dt({},Object(It.a)());return fetch("".concat(Qt,"/").concat(t,"/detail/"),e).then(It.c)},getMetaData:function(){var t=Dt({},Object(It.a)());return fetch("".concat(Qt,"/"),t).then(It.c)},getMetaFields:function(){var t=Dt({},Object(It.a)());return fetch("".concat(Qt,"/get-fields/"),t).then(It.c)},createMeta:function(t,e){var n=Dt(Dt({},Object(It.b)()),{},{body:JSON.stringify({meta_data:t,geom_ids:e})});return fetch("".concat(Qt,"/create/"),n).then(It.c)},deleteMeta:function(t){var e=Dt({},Object(It.a)());return fetch("".concat(Qt,"/").concat(t,"/delete/"),e).then(It.c)},getLayers:function(t){return new Promise((function(e,n){fetch(t+"?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities",{method:"GET"}).then((function(t){return t.blob()})).then((function(t){var n=new FileReader;n.onloadend=function(){var t=new Vt(n.result).getLayers();e(t)},n.readAsText(t)})).catch(n)}))},qgisGetUrl:function(){var t=Object(It.a)();return fetch("".concat(Wt,"/qgis-url/"),t).then(It.c)},apiGetUrl:function(){var t=Object(It.a)();return fetch("".concat(Wt,"/qpi-url/"),t).then(It.c)}},Wt="/gov/api/inspire",Qt="/gov/api/meta-data";var Yt=n(883),Ht=n.n(Yt),Xt=n(20);function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function $t(t,e){return($t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=oe(t);if(e){var r=oe(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ee(this,n)}}function ee(t,e){return!e||"object"!==Kt(e)&&"function"!=typeof e?ne(t):e}function ne(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oe(t){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$t(t,e)}(i,t);var e,n,o,a=te(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).state={btn_is_laod:!1},e.handleSubmit=e.handleSubmit.bind(ne(e)),e}return e=i,(n=[{key:"handleSubmit",value:function(t,e){var n=e.setErrors,o=e.setSubmitting;o(!0),this.props.setLoading(!0),this.props.sendSubmit(t,n,o)}},{key:"render",value:function(){var t=this.props.values;return r.a.createElement(Xt.e,{initialValues:t,enableReinitialize:!0,onSubmit:this.handleSubmit},(function(t){var e=t.errors,n=(t.setErrors,t.setSubmitting,t.isSubmitting);return t.values,r.a.createElement(Xt.d,{className:"form-row"},r.a.createElement("div",{className:"form-group col-lg-12"},r.a.createElement("label",{htmlFor:"order_no"},"Тушаалын дугаар:"),r.a.createElement(Xt.b,{className:"form-control "+(e.order_no?"is-invalid":""),name:"order_no",id:"order_no",type:"text",placeholder:"Тушаалын дугаар"}),r.a.createElement(Xt.a,{name:"order_no",component:"div",className:"invalid-feedback"})),r.a.createElement("div",{className:"form-group col-lg-12"},r.a.createElement("label",{htmlFor:"order_at"},"Тушаал гарсан огноо:"),r.a.createElement(Xt.b,{className:"form-control "+(e.order_at?"is-invalid":""),name:"order_at",id:"order_at",type:"date",placeholder:"Тушаал гарсан огноо"}),r.a.createElement(Xt.a,{name:"order_at",component:"div",className:"invalid-feedback"})),r.a.createElement("button",{className:"btn gp-btn-primary",type:"submit",disabled:n},"Файл илгээх"))}))}}])&&Zt(e.prototype,n),o&&Zt(e,o),i}(o.Component);function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ie(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ce(t,e){return(ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=fe(t);if(e){var r=fe(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return se(this,n)}}function se(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?ue(t):e}function ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fe(t){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(i,t);var e,n,o,a=le(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).list=[],e.send=null,e.state={btn_upload_is_laod:!1,file_path_shp:null,files:[],name:"",type:"",not_cancel:!1,is_upload_button:!0,initial_values:{order_at:"",order_no:""}},e.getFile=e.getFile.bind(ue(e)),e.handleSubmit=e.handleSubmit.bind(ue(e)),e.setInfo=e.setInfo.bind(ue(e)),e.setType=e.setType.bind(ue(e)),e.cancel=e.cancel.bind(ue(e)),e.removeFromList=e.removeFromList.bind(ue(e)),e}return e=i,(n=[{key:"getFile",value:function(t){var e=this.state.name,n=t.target.files,o=document.getElementById("Upload"),r=this.state.files;if(1==n.length)for(var a=this.checkName(n),i=0;i<n.length;i++)if(a){0==n.length?this.setState({files:n[i]}):this.setState({files:r.concat(n[i])});var c=n[i].name.split(".");"shp"==c[c.length-1]&&this.props.notif("warning",".shx төрлийн файл хамт байх ёстойг анхаарна уу","info")}else o.value="",this.setState({files:[]});n.length>1&&(this.checkName(n)?this.setState({files:n}):(this.props.notif("danger","өөр төрлийн файл орсон байна. Зөвхөн ".concat("gml"==e?" .gml болон .gfs":"geojson"==e?" .geojson болон .gfs":"shp"==e?" .shp, .shx, .prj, .dbf болон .cpg":"буруу"," байна."),"info"),o.value="",this.setState({files:[]})))}},{key:"checkName",value:function(t){for(var e=this.state.name,n=!1,o=0;o<t.length;o++){var r=t[o].name.split("."),a=r.length-1;if("shp"==e){if("shp"!=r[a]&&"shx"!=r[a]&&"prj"!=r[a]&&"dbf"!=r[a]&&"cpg"!=r[a])return n=!1;n=!0}if("geojson"==e){if("geojson"!=r[a]&&"gfs"!=r[a])return n=!1;n=!0}if("gml"==e){if("gml"!=r[a]&&"gfs"!=r[a])return n=!1;n=!0}}return n}},{key:"handleSubmit",value:function(t,e,n){var o=this,r=this.state,a=r.files,i=r.name;if(r.is_upload_button)this.setState({is_upload_button:!1});else{var c=this.props,l=c.fid,s=c.tid,u=c.pid,f=new FormData;this.setState({btn_upload_is_laod:!0,not_cancel:!0});for(var p=0;p<a.length;p++)f.append("data",a[p],a[p].name);f.append("order_at",t.order_at),f.append("order_no",t.order_no),Jt.sendFile(f,l,s,i,u).then((function(t){var r=t.success,a=t.info,i=t.errors;r?(alert(a),o.props.refreshRequestCount(),o.setState({btn_upload_is_laod:!1,files:[],not_cancel:!1}),o.cancel(),o.props.func()):(a&&alert(a),i&&(e(i),o.setState({is_upload_button:!1,btn_upload_is_laod:!1}))),o.props.setLoading(!1),n(!1)})).catch((function(t){alert("Алдаа гарлаа, Файлаа шалгана уу!"),o.props.setLoading(!1),n(!1),o.setState({is_upload_button:!1,not_cancel:!1,btn_upload_is_laod:!1})}))}}},{key:"cancel",value:function(){document.getElementById("Upload").value="",this.setState({files:[]})}},{key:"setInfo",value:function(t){"gml"==t&&this.setState({text:".GML файл оруулах",type:t}),"shp"==t&&this.setState({text:".shp файл оруулах",type:t}),"geojson"==t&&this.setState({text:".geojson файл оруулах",type:t})}},{key:"setType",value:function(t){this.setState({name:t,files:[],is_upload_button:!0,btn_upload_is_laod:!1})}},{key:"removeFromList",value:function(t){var e=this.state.files,n=document.getElementById("Upload");if(1==e.length)this.setState({files:[]}),n.value="";else if(e.every((function(e){return t}))){var o=e.filter((function(e){return e.name!==t}));this.setState({files:o})}}},{key:"componentDidUpdate",value:function(t,e){if(t.is_closed!==this.props.is_closed&&(this.setState({is_upload_button:!0,btn_upload_is_laod:!1,not_cancel:!1,files:[]}),this.props.func()),e.files!==this.state.files){this.file_names=[];for(var n=0;n<this.state.files.length;n++)this.file_names.push(this.state.files[n].name)}}},{key:"render",value:function(){var t=this,e=this.state,n=e.files,o=e.text,a=e.type,i=e.name,c=e.not_cancel,l=e.is_upload_button,s=e.initial_values;if(this.list=[],n.length>0)for(var u=0;u<n.length;u++){var f=Ht()(n[u].size);this.list.push(r.a.createElement("li",{key:u},n[u].name," - ",f,r.a.createElement("i",{role:"button",className:"float-right fa fa-times text-danger mt-1","aria-hidden":"true",onClick:function(e){return t.removeFromList(e.target.parentElement.innerHTML.split(" ")[0])}})))}return r.a.createElement("div",{className:"row",style:{height:"auto"}},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("div",null,r.a.createElement("div",{className:"custom-control custom-switch"},r.a.createElement("input",{type:"radio",id:"gml",name:"types",className:"custom-control-input",value:"gml",onChange:function(){return t.setType("gml")}}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"gml"},"GML")," ",r.a.createElement("i",{role:"button",className:"fa fa-info-circle",onMouseOver:function(){return t.setInfo("gml")},onMouseOut:function(){return t.setState({text:""})}},"gml"==a&&""!==o?r.a.createElement("b",{className:"position-absolute card card-body",style:{zIndex:"1050"}},o):null))),r.a.createElement("div",null,r.a.createElement("div",{className:"custom-control custom-switch"},r.a.createElement("input",{type:"radio",id:"SHP",className:"custom-control-input",name:"types",value:"SHP",onChange:function(){return t.setType("shp")}}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"SHP"},"SHP")," ",r.a.createElement("i",{role:"button",className:"fa fa-info-circle",onMouseOver:function(){return t.setInfo("shp")},onMouseOut:function(){return t.setState({text:""})}},"shp"==a&&""!==o?r.a.createElement("b",{className:"position-absolute card card-body",style:{zIndex:"1050"}},o):null))),r.a.createElement("div",null,r.a.createElement("div",{className:"custom-control custom-switch"},r.a.createElement("input",{type:"radio",id:"geoJSON",className:"custom-control-input",name:"types",value:"geoJSON",onChange:function(){return t.setType("geojson")}}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"geoJSON"},"geoJSON")," ",r.a.createElement("i",{role:"button",className:"fa fa-info-circle",onMouseOver:function(){return t.setInfo("geojson")},onMouseOut:function(){return t.setState({text:""})}},"geojson"==a&&""!==o?r.a.createElement("b",{className:"position-absolute card card-body",style:{zIndex:"1050"}},o):null))),!l&&r.a.createElement("ul",{className:"mt-2"},this.file_names.map((function(t,e){return r.a.createElement("li",{key:e},t)})))),r.a.createElement("div",{className:"col-lg-8"},l?r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{type:"file",className:"custom-file-input",id:"Upload",onChange:function(e){return t.getFile(e)},multiple:!0,disabled:""==i?"disabled":""}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"Upload"},"Файл оруулах"),this.list.length>0?r.a.createElement("ul",null,this.list):null):r.a.createElement(re,{sendSubmit:this.handleSubmit,values:s,setLoading:this.props.setLoading}),l?r.a.createElement("div",{className:"mt-2"},this.state.btn_upload_is_laod?r.a.createElement("span",{className:"mt-2 gp-text-primary"},r.a.createElement("i",{className:"spinner-border",role:"status"}),"  Уншиж байна ..."):r.a.createElement("button",{className:"btn gp-btn-primary",onClick:this.handleSubmit,disabled:0==this.list.length?"disabled":""},this.list.length>0?"Тушаал оруулах":"Файлыг илгээх"),r.a.createElement("button",{className:"btn btn-secondary float-right",onClick:function(){return t.cancel()},disabled:c?"disabled":""},"Хоослох")):null))}}])&&ie(e.prototype,n),o&&ie(e,o),i}(o.Component);function de(t){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function he(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ye(t,e,n){return e&&he(t.prototype,e),n&&he(t,n),t}function be(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ve(t,e)}function ve(t,e){return(ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ee(t);if(e){var r=Ee(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _e(this,n)}}function _e(t,e){return!e||"object"!==de(e)&&"function"!=typeof e?we(t):e}function we(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Se=function(t){be(n,t);var e=ge(n);function n(t){var o;return me(this,n),(o=e.call(this,t)).state={is_closed:!1,is_loading:!1},o.closeModal=o.closeModal.bind(we(o)),o.setLoading=o.setLoading.bind(we(o)),o}return ye(n,[{key:"setLoading",value:function(t){this.setState({is_loading:t})}},{key:"closeModal",value:function(){this.setState({is_closed:!this.state.is_closed})}},{key:"render",value:function(){var t=this.state,e=t.is_closed,n=t.is_loading;return r.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},r.a.createElement("div",{role:"document",style:{zIndex:1050}},r.a.createElement("div",{className:"modal-content animated slideInLeft"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"Файлаа оруулна уу."),r.a.createElement("button",{type:"button",className:"animated close","data-dismiss":"modal","aria-label":"Close",onClick:this.closeModal},r.a.createElement("span",{"aria-hidden":"true"},"×"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement(Lt.a,{is_loading:n}),r.a.createElement(pe,{setLoading:this.setLoading,is_closed:e,fid:this.props.fid,pid:this.props.pid,tid:this.props.tid,func:this.props.func,refreshRequestCount:this.props.refreshRequestCount,notif:this.props.notif})))),r.a.createElement("div",{className:"modal-backdrop fade show",style:{zIndex:1040}}))}}]),n}(o.Component),Oe=function(t){be(n,t);var e=ge(n);function n(t){var o;me(this,n);var r=t||{};(o=e.call(this,{element:document.createElement("div"),target:r.target})).is_component_initialized=!1;return o.element.className=" modal col-md-12",o.element.setAttribute("id","#exampleModalCenter"),o.element.setAttribute("tabindex","-1"),o.element.setAttribute("role","dialog"),o.element.setAttribute("aria-labelledby","staticBackdropLabel"),o.element.setAttribute("aria-backdrop","static"),o.element.setAttribute("aria-hidden","true"),o.renderComponent=o.renderComponent.bind(we(o)),o.toggleControl=o.toggleControl.bind(we(o)),o}return ye(n,[{key:"toggleControl",value:function(t){t?(this.element.classList.add("fade"),this.element.classList.add("show"),this.element.classList.add("d-block"),this.element.style.zIndex="1050"):this.element.setAttribute("class","modal d-none")}},{key:"renderComponent",value:function(t){this.is_component_initialized||(Tt.a.render(r.a.createElement(Se,t),this.element),this.is_component_initialized=!0),Tt.a.hydrate(r.a.createElement(Se,t),this.element)}},{key:"showUpload",value:function(t,e,n,o,r,a,i){this.toggleControl(t),this.renderComponent({fid:e,func:n,refreshRequestCount:o,notif:r,tid:a,pid:i})}}]),n}(D.a);function xe(t){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ke(t,e){return(ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function je(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Pe(t);if(e){var r=Pe(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ce(this,n)}}function Ce(t,e){return!e||"object"!==xe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pe(t){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ne=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ke(t,e)}(n,t);var e=je(n);function n(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=t||{},a=(o=e.call(this,{element:document.createElement("div"),target:r.target})).element;a.className="⚙-toggle-meta";var i=document.createElement("a");i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","right"),i.setAttribute("title","Мета дата нэмэх"),i.setAttribute("href","#"),a.setAttribute("id","⚙-toggle-meta-id");var c=document.createElement("i");return c.setAttribute("aria-hidden","true"),c.className="fa fa-database text-white",i.appendChild(c),a.addEventListener("click",(function(t){t.preventDefault(),r.MetaButton()})),a.appendChild(i),o}return n}(D.a);function Re(t){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ae(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Me(t,e,n){return e&&Ae(t.prototype,e),n&&Ae(t,n),t}function Te(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Le(t,e)}function Le(t,e){return(Le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ge(t);if(e){var r=Ge(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Fe(this,n)}}function Fe(t,e){return!e||"object"!==Re(e)&&"function"!=typeof e?De(t):e}function De(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ge(t){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ze=function(t){Te(n,t);var e=Ie(n);function n(t){var o;return Be(this,n),(o=e.call(this,t)).input_data={},o.state={value:""},o}return Me(n,[{key:"handleOnChange",value:function(t){var e=this.props,n=e.idx,o=(e.ix,e.field,e.type,e.origin_name);this.setState({value:t}),this.props.getValues(t,n,o)}},{key:"render",value:function(){var t=this,e=this.props,n=e.idx,o=(e.ix,e.field),a=e.type,i=e.choices,c=this.state.value;return r.a.createElement("div",{className:"form-group animated slideInLeft"},r.a.createElement("label",null,o),a>1900&&null==i?r.a.createElement("textarea",{className:"form-control",rows:"3",onChange:function(e){return t.handleOnChange(e.target.value)},maxLength:a,placeholder:c,value:c}):a<1900&&null==i?r.a.createElement("input",{type:"text",maxLength:a,className:"form-control",value:c,onChange:function(e){return t.handleOnChange(e.target.value)},placeholder:o+" оруулна уу"}):null!==i?r.a.createElement("select",{className:"form-control",onChange:function(e){return t.handleOnChange(e.target.value)}},r.a.createElement("option",{key:n,value:""},"--- Сонгоно уу ---"),i.map((function(t,e){return r.a.createElement("option",{key:e,value:t[0]},t[1])}))):null,r.a.createElement("small",{className:"text-muted float-right"},"урт нь: ",a))}}]),n}(o.Component),Ue=function(t){Te(n,t);var e=Ie(n);function n(t){var o;return Be(this,n),(o=e.call(this,t)).list=[],o.state={name_list:{},meta_data_list:[],query:"",found_it:"",is_searched:!1,is_loading:!1,geom_ids:[],is_new_meta:!1,fields:[],is_create_meta:!1},o.handleOnChange=o.handleOnChange.bind(De(o)),o.handleSearch=o.handleSearch.bind(De(o)),o.collectGeom=o.collectGeom.bind(De(o)),o.newMeta=o.newMeta.bind(De(o)),o.getValues=o.getValues.bind(De(o)),o}return Me(n,[{key:"handleOnChange",value:function(t){this.setState({query:t})}},{key:"handleSearch",value:function(){var t=this,e=this.state.query;this.setState({is_loading:!1}),Jt.searchMeta(e).then((function(n){var o=n.success;n.meta_data;o?(t.values={},t.setState({found_it:e,is_searched:!0,is_loading:!0})):t.setState({found_it:"",is_searched:!0,is_loading:!0})}))}},{key:"collectGeom",value:function(t){var e=t.target.value,n=t.target.checked;this.state.geom_ids;if((0==this.list.length||n||this.list.length>0||n)&&this.list.push(e),!n){if(this.list.every((function(t){return e}))){var o=this.list.filter((function(t){return t!==e}));this.list=o}}this.setState({geom_ids:this.list})}},{key:"saveGeom",value:function(){var t=this,e=this.state,n=e.geom_ids,o=e.found_it,r=e.is_create_meta,a={};o&&!r?a={id:o}:r&&this.values!=={}&&(a=this.values);Jt.createMeta(a,n).then((function(e){e.success?t.props.notif("success","Амжилттай нэмлээ","check"):t.props.notif("danger","Амжилтгүй болсон","times")}))}},{key:"componentDidMount",value:function(){Jt.getMetaData().then((function(t){t.success,t.meta_data_list}))}},{key:"componentDidUpdate",value:function(t){}},{key:"newMeta",value:function(){var t=this,e=this.state.found_it;this.setState({is_loading:!0}),""!==e&&Jt.deleteMeta(e).then((function(e){e.success?t.props.notif("success","Амжилттай устгасан","check"):t.props.notif("danger","Устгах явцад алдаа гарсан","times")})),Jt.getMetaFields().then((function(e){var n=e.success,o=e.fields;n&&(t.values=new Object,o.map((function(e,n){t.values[e.origin_name]=""})),t.setState({fields:o,is_new_meta:!0,is_searched:!1,found_it:""}))})),this.setState({is_loading:!1})}},{key:"getValues",value:function(t,e,n){this.values[n]=t,this.setState({is_create_meta:!0})}},{key:"render",value:function(){var t=this,e=this.state,n=e.query,o=(e.meta_data_list,e.meta,e.found_it),a=e.is_new_meta,i=e.fields,c=this.props.name_list;return r.a.createElement("div",{className:"height-full animated slideInLeft"},r.a.createElement("div",{className:"input-group mb-1"},r.a.createElement("div",{className:"input-group-prepend my-3"},r.a.createElement("span",{className:"input-group-text",id:"search"},r.a.createElement("i",{className:"fa fa-search",role:"button",title:"хайх",onClick:function(){return t.handleSearch()}}))),r.a.createElement("input",{type:"text",className:"form-control my-3","aria-describedby":"search",placeholder:"Мета дугаараар хайх",value:n,onChange:function(e){return t.handleOnChange(e.target.value)}})),o?r.a.createElement("div",null,r.a.createElement("label",null,"Олдсон метагийн дугаар: ",o)):a||""!=o?r.a.createElement("div",null,r.a.createElement("button",{className:"btn gp-btn-primary",onClick:function(){return t.setState({is_new_meta:!1})}},r.a.createElement("i",{className:"fa fa-angle-double-left"})," Буцах"),"   ",r.a.createElement("b",null,"Мета дата шинээр үүсгэх")):r.a.createElement("div",null,r.a.createElement("label",null,"Мета байхгүй байна",r.a.createElement("br",null),r.a.createElement("center",null,r.a.createElement("span",{role:"button",className:"gp-text-primary",onClick:function(){return t.newMeta()}},r.a.createElement("i",{className:"fa fa-plus-square"})," Шинээр Мета үүсгэх үү ?")))),!o&&a&&i.length>0?r.a.createElement("div",{className:"new-meta-form "},i.map((function(e,n){return r.a.createElement(ze,{key:n,field:e.name,type:e.length,idx:n,origin_name:e.origin_name,getValues:t.getValues,choices:e.choices})}))):null,r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("label",null,"Геометр өгөгдлүүд:")),r.a.createElement("ul",{className:"list-in-meta",style:a?{maxHeight:"calc( 20vh - 70px - 15px)"}:null},c&&c!=={}&&c.map((function(e,n){return r.a.createElement("li",{className:"animated slideInLeft float-left mr-2 pl-2 pr-2",key:n},r.a.createElement("div",{className:"icheck-primary"},r.a.createElement("input",{type:"checkbox",value:e,id:n,onChange:function(e){return t.collectGeom(e)}}),r.a.createElement("label",{htmlFor:n},e)))}))),r.a.createElement("div",{className:"btn-group flex-wrap",role:"group"},r.a.createElement("button",{type:"button",className:"btn gp-btn-primary",onClick:function(){return t.saveGeom()}},"Хадгалах"),r.a.createElement("button",{type:"button",className:"btn btn-light",onClick:function(){""!==o?t.props.modal('Та "'.concat(o,'" уг метаг цэвэрлэхдээ итгэлтэй байна уу ?'),t.newMeta):t.newMeta}},"Цэвэрлэх"),r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return t.props.modal("Та уг цонхыг хаахдаа итгэлтэй байна уу ?")}},"Болих")))}}]),n}(o.Component),qe=function(t){Te(n,t);var e=Ie(n);function n(t){var o;Be(this,n);var r=t||{};(o=e.call(this,{element:document.createElement("div"),target:r.target})).is_component_initialized=!1;return o.element.className="col-md-3 rounded bg-light",o.element.style.display="none",o.element.style.height="auto",o.renderComponent=o.renderComponent.bind(De(o)),o.toggleControl=o.toggleControl.bind(De(o)),o}return Me(n,[{key:"toggleControl",value:function(t){this.element.style.display=t?"block":"none"}},{key:"renderComponent",value:function(t){this.is_component_initialized||(Tt.a.render(r.a.createElement(Ue,t),this.element),this.is_component_initialized=!0),Tt.a.hydrate(r.a.createElement(Ue,t),this.element)}},{key:"showMetaList",value:function(t,e,n,o){this.toggleControl(t),this.renderComponent({name_list:e,modal:n,notif:o})}}]),n}(D.a);function Ve(t){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Je(t,e){return(Je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function We(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ye(t);if(e){var r=Ye(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Qe(this,n)}}function Qe(t,e){return!e||"object"!==Ve(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ye(t){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var He=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Je(t,e)}(n,t);var e=We(n);function n(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=t||{},a=(o=e.call(this,{element:document.createElement("div"),target:r.target})).element;a.className="⚙-toggle-cancel";var i=document.createElement("a");i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","right"),i.setAttribute("title","Цуцлах"),i.setAttribute("href","#"),a.setAttribute("id","⚙-toggle-cancel-id");var c=document.createElement("i");return c.setAttribute("aria-hidden","true"),c.className="fa fa-times-circle text-white",i.appendChild(c),a.addEventListener("click",(function(t){t.preventDefault(),r.CancelButton()})),a.appendChild(i),o}return n}(D.a);function Xe(t){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ke(t,e){return(Ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ze(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=tn(t);if(e){var r=tn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return $e(this,n)}}function $e(t,e){return!e||"object"!==Xe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tn(t){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var en=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ke(t,e)}(n,t);var e=Ze(n);function n(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=t||{},a=(o=e.call(this,{element:document.createElement("div"),target:r.target})).element;a.className="⚙-toggle-qgis";var i=document.createElement("a");i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","right"),i.setAttribute("title","WMS/WFS линк."),i.setAttribute("href","#"),a.setAttribute("id","⚙-toggle-qgis-id");var c=document.createElement("i");return c.setAttribute("aria-hidden","true"),c.className="fa fa-link text-white",c.innerHTML=" QGIS",i.appendChild(c),a.addEventListener("click",(function(t){t.preventDefault(),r.showQgisBtn()})),a.appendChild(i),o}return n}(D.a);function nn(t){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function on(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function an(t,e,n){return e&&rn(t.prototype,e),n&&rn(t,n),t}function cn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ln(t,e)}function ln(t,e){return(ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=pn(t);if(e){var r=pn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return un(this,n)}}function un(t,e){return!e||"object"!==nn(e)&&"function"!=typeof e?fn(t):e}function fn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pn(t){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dn=function(t){cn(n,t);var e=sn(n);function n(t){var o;return on(this,n),(o=e.call(this,t)).state={},o.copyToClipboard=o.copyToClipboard.bind(fn(o)),o}return an(n,[{key:"copyToClipboard",value:function(t){var e=document.createElement("textarea");e.innerText=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove(),this.props.addNotif("success","Амжилттай хуулаа","times")}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},r.a.createElement("div",{role:"document",style:{zIndex:1050}},r.a.createElement("div",{className:"modal-content animated slideInLeft"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"QGIS Дээр засвар хийх линк."),r.a.createElement("button",{type:"button",className:"animated close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return t.props.func()}},r.a.createElement("span",{"aria-hidden":"true"},"×"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h5",null,"WFS"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control col-12",disabled:!0,value:this.props.wfs_url}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{className:"btn btn-outline-primary ml-1",type:"button",onClick:function(){return t.copyToClipboard(t.props.wfs_url)}},r.a.createElement("i",{className:"fa fa-clone","aria-hidden":"true"})))),r.a.createElement("h5",{className:"mt-3"},"WMS"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control col-12",disabled:!0,value:this.props.wms_url}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{className:"btn btn-outline-primary ml-1",type:"button",onClick:function(){return t.copyToClipboard(t.props.wms_url)}},r.a.createElement("i",{className:"fa fa-clone","aria-hidden":"true"}))))))))),r.a.createElement("div",{className:"modal-backdrop fade show",style:{zIndex:1040}}))}}]),n}(o.Component),mn=function(t){cn(n,t);var e=sn(n);function n(t){var o;on(this,n);var r=t||{};(o=e.call(this,{element:document.createElement("div"),target:r.target})).is_component_initialized=!1;return o.element.className=" modal col-md-12",o.element.setAttribute("id","#exampleModalCenter"),o.element.setAttribute("tabindex","-1"),o.element.setAttribute("role","dialog"),o.element.setAttribute("aria-labelledby","staticBackdropLabel"),o.element.setAttribute("aria-backdrop","static"),o.element.setAttribute("aria-hidden","true"),o.renderComponent=o.renderComponent.bind(fn(o)),o.toggleControl=o.toggleControl.bind(fn(o)),o}return an(n,[{key:"toggleControl",value:function(t){t?(this.element.classList.add("fade"),this.element.classList.add("show"),this.element.classList.add("d-block"),this.element.style.zIndex="1050"):this.element.setAttribute("class","modal d-none")}},{key:"renderComponent",value:function(t){this.is_component_initialized||(Tt.a.render(r.a.createElement(dn,t),this.element),this.is_component_initialized=!0),Tt.a.hydrate(r.a.createElement(dn,t),this.element)}},{key:"showUpload",value:function(t,e,n,o,r){this.toggleControl(t),this.renderComponent({func:e,addNotif:n,wfs_url:o,wms_url:r})}}]),n}(D.a);function hn(t){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yn(t,e){return(yn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=gn(t);if(e){var r=gn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return vn(this,n)}}function vn(t,e){return!e||"object"!==hn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gn(t){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yn(t,e)}(n,t);var e=bn(n);function n(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=t||{},a=(o=e.call(this,{element:document.createElement("div"),target:r.target})).element;a.className="⚙-toggle-api";var i=document.createElement("a");i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","right"),i.setAttribute("title","API линк."),i.setAttribute("href","#"),a.setAttribute("id","⚙-toggle-api-id");var c=document.createElement("i");return c.setAttribute("aria-hidden","true"),c.className="fa fa-link text-white",c.innerHTML=" API",i.appendChild(c),a.addEventListener("click",(function(t){t.preventDefault(),r.showApiBtn()})),a.appendChild(i),o}return n}(D.a);function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function En(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function On(t,e,n){return e&&Sn(t.prototype,e),n&&Sn(t,n),t}function xn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kn(t,e)}function kn(t,e){return(kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Nn(t);if(e){var r=Nn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Cn(this,n)}}function Cn(t,e){return!e||"object"!==wn(e)&&"function"!=typeof e?Pn(t):e}function Pn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nn(t){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rn=function(t){xn(n,t);var e=jn(n);function n(t){var o;return En(this,n),(o=e.call(this,t)).state={},o.copyToClipboard=o.copyToClipboard.bind(Pn(o)),o}return On(n,[{key:"copyToClipboard",value:function(t){var e=document.createElement("textarea");e.innerText=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove(),this.props.addNotif("success","Амжилттай хуулаа","times")}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},r.a.createElement("div",{role:"document",style:{zIndex:1050}},r.a.createElement("div",{className:"modal-content animated slideInLeft"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"Inspire api link."),r.a.createElement("button",{type:"button",className:"animated close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return t.props.func()}},r.a.createElement("span",{"aria-hidden":"true"},"×"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h5",null,"TOKEN AUTH"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control col-12",disabled:!0,value:this.props.token_auth}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{className:"btn btn-outline-primary ml-1",type:"button",onClick:function(){return t.copyToClipboard(t.props.token_auth)}},r.a.createElement("i",{className:"fa fa-clone","aria-hidden":"true"})))),r.a.createElement("h5",{className:"mt-3"},"CREATE"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control col-12",disabled:!0,value:this.props.create}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{className:"btn btn-outline-primary ml-1",type:"button",onClick:function(){return t.copyToClipboard(t.props.create)}},r.a.createElement("i",{className:"fa fa-clone","aria-hidden":"true"})))),r.a.createElement("h5",{className:"mt-3"},"UPDATE"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control col-12",disabled:!0,value:this.props.update}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{className:"btn btn-outline-primary ml-1",type:"button",onClick:function(){return t.copyToClipboard(t.props.update)}},r.a.createElement("i",{className:"fa fa-clone","aria-hidden":"true"})))),r.a.createElement("h5",{className:"mt-3"},"REMOVE"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control col-12",disabled:!0,value:this.props.remove}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{className:"btn btn-outline-primary ml-1",type:"button",onClick:function(){return t.copyToClipboard(t.props.remove)}},r.a.createElement("i",{className:"fa fa-clone","aria-hidden":"true"})))),r.a.createElement("h5",{className:"mt-3"},"SELECT"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control col-12",disabled:!0,value:this.props.select}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{className:"btn btn-outline-primary ml-1",type:"button",onClick:function(){return t.copyToClipboard(t.props.select)}},r.a.createElement("i",{className:"fa fa-clone","aria-hidden":"true"}))))))))),r.a.createElement("div",{className:"modal-backdrop fade show",style:{zIndex:1040}}))}}]),n}(o.Component),Bn=function(t){xn(n,t);var e=jn(n);function n(t){var o;En(this,n);var r=t||{};(o=e.call(this,{element:document.createElement("div"),target:r.target})).is_component_initialized=!1;return o.element.className=" modal col-md-12",o.element.setAttribute("id","#exampleModalCenter"),o.element.setAttribute("tabindex","-1"),o.element.setAttribute("role","dialog"),o.element.setAttribute("aria-labelledby","staticBackdropLabel"),o.element.setAttribute("aria-backdrop","static"),o.element.setAttribute("aria-hidden","true"),o.renderComponent=o.renderComponent.bind(Pn(o)),o.toggleControl=o.toggleControl.bind(Pn(o)),o}return On(n,[{key:"toggleControl",value:function(t){t?(this.element.classList.add("fade"),this.element.classList.add("show"),this.element.classList.add("d-block"),this.element.style.zIndex="1050"):this.element.setAttribute("class","modal d-none")}},{key:"renderComponent",value:function(t){this.is_component_initialized||(Tt.a.render(r.a.createElement(Rn,t),this.element),this.is_component_initialized=!0),Tt.a.hydrate(r.a.createElement(Rn,t),this.element)}},{key:"showApi",value:function(t,e,n,o,r,a,i,c){this.toggleControl(t),this.renderComponent({func:e,addNotif:n,create:o,remove:r,update:a,select:i,token_auth:c})}}]),n}(D.a);function An(t){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ln(t,e,n){return e&&Tn(t.prototype,e),n&&Tn(t,n),t}function In(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fn(t,e)}function Fn(t,e){return(Fn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Un(t);if(e){var r=Un(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Gn(this,n)}}function Gn(t,e){return!e||"object"!==An(e)&&"function"!=typeof e?zn(t):e}function zn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Un(t){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qn=function(t){In(n,t);var e=Dn(n);function n(t){var o;return Mn(this,n),(o=e.call(this,t)).state={coord:""},o}return Ln(n,[{key:"handleChange",value:function(t,e,n){var o=t.target.value;this.setState({coord:o}),this.props.send(o,e,n)}},{key:"componentDidMount",value:function(){var t=this.props.coord;this.setState({coord:t})}},{key:"componentDidUpdate",value:function(t){var e=this.props.coord;t.coord!==e&&this.setState({coord:e})}},{key:"render",value:function(){var t=this,e=this.state.coord,n=this.props,o=n.idx,a=n.ix;return r.a.createElement("li",{className:"float-left col-4 m-0 p-0 animated slideInLeft",key:o},r.a.createElement("input",{key:o,className:"form-control",type:"number",placeholder:0==o?"X":1==o?"Y":2==o?"Z":null,minLength:"0",value:e,"aria-describedby":o,onChange:function(e){return t.handleChange(e,a,o)}}))}}]),n}(o.Component),Vn=function(t){In(n,t);var e=Dn(n);function n(t){var o;return Mn(this,n),(o=e.call(this,t)).list={},o.state={coords_list:{}},o.handleOnChange=o.handleOnChange.bind(zn(o)),o.handleSearch=o.handleSearch.bind(zn(o)),o.sendCoordinate=o.sendCoordinate.bind(zn(o)),o.setUpdate=o.setUpdate.bind(zn(o)),o}return Ln(n,[{key:"handleOnChange",value:function(t){var e=t.target.value;this.setState({query:e})}},{key:"sendCoordinate",value:function(t,e,n){var o=this.state.coords_list,r=null;r=t?parseFloat(t):t,1==o.data[e].turning&&o.data[o.data.length-1].turning==o.last&&(o.data[o.data.length-1].geom[n]=r),o.data[e].geom[n]=r,this.setState({coords_list:o})}},{key:"setUpdate",value:function(){var t=this.state.coords_list;this.props.update(t)}},{key:"handleSearch",value:function(){var t=this,e=this.state.query;this.props.coords_list.geom.map((function(n,o){if(o==e){var r=[n[0],n[1]];t.props.fly(r)}}))}},{key:"componentDidMount",value:function(){var t=this.props.coords_list;t!=={}&&this.setState({coords_list:t})}},{key:"componentDidUpdate",value:function(t){var e=this.props.coords_list;t.coords_list!==e&&this.setState({coords_list:e})}},{key:"render",value:function(){var t=this,e=this.props.coords_list;return r.a.createElement("div",{className:"height-full animated slideInLeft"},r.a.createElement("center",null,r.a.createElement("label",{className:"my-2 h5"},e?e!=={}?e.id:"NoName":null)),e&&e!=={}?e.data.length>0?r.a.createElement("div",{className:"list-group overflow-auto"},e.data.map((function(n,o){return(e.type.includes("Polygon")&&n.turning==e.last?o!==e.data.length-1:o==o)&&r.a.createElement("div",{key:o,className:"list-group-item animated slideInLeft"},r.a.createElement("b",null,"Эргэлтийн цэгийн дугаар: ",null!==n.turning?n.turning:o),r.a.createElement("ul",{className:"m-0 p-0",style:{listStyle:"none"}},n.geom.map((function(e,n){return r.a.createElement(qn,{key:n,coord:e,idx:n,ix:o,send:t.sendCoordinate})}))))}))):"Буруу газар зурсан байна. Дахин шалгана уу":null,r.a.createElement("div",{className:"row",role:"toolbar"},r.a.createElement("div",{className:"col-md-6",role:"group"},r.a.createElement("button",{type:"button",className:"btn btn-secondary btn-block h-1",onClick:function(){return t.props.hide()}},"Буцах")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-block h-1",onClick:function(){return t.setUpdate()}},"Хадгалах"))))}}]),n}(o.Component),Jn=function(t){In(n,t);var e=Dn(n);function n(t){var o;Mn(this,n);var r=t||{};(o=e.call(this,{element:document.createElement("div"),target:r.target})).is_component_initialized=!1;return o.element.className="col-md-4 rounded bg-light animated slideInLeft",o.element.style.display="none",o.element.style.height="auto",o.renderComponent=o.renderComponent.bind(zn(o)),o.toggleControl=o.toggleControl.bind(zn(o)),o}return Ln(n,[{key:"toggleControl",value:function(t){this.element.style.display=t?"block":"none"}},{key:"renderComponent",value:function(t){this.is_component_initialized||(Tt.a.render(r.a.createElement(Vn,t),this.element),this.is_component_initialized=!0),Tt.a.hydrate(r.a.createElement(Vn,t),this.element)}},{key:"showList",value:function(t,e,n,o,r){this.toggleControl(t),this.renderComponent({coords_list:e,fly:n,hide:o,update:r})}}]),n}(D.a);function Wn(t){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qn(t,e){return(Qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Xn(t);if(e){var r=Xn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Hn(this,n)}}function Hn(t,e){return!e||"object"!==Wn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xn(t){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qn(t,e)}(n,t);var e=Yn(n);function n(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=t||{},a=(o=e.call(this,{element:document.createElement("div"),target:r.target})).element;a.className="⚙-toggle-side";var i=document.createElement("a");i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","right"),i.setAttribute("title","Сонголт"),i.setAttribute("href","#"),a.setAttribute("id","⚙-toggle-side-id");var c=document.createElement("i");return c.setAttribute("aria-hidden","true"),c.className="fa fa-bars text-white",i.appendChild(c),a.addEventListener("click",(function(t){t.preventDefault(),r.SideBarBtn()})),a.appendChild(i),o}return n}(D.a);function Zn(t){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function to(t,e){return(to=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function eo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ro(t);if(e){var r=ro(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return no(this,n)}}function no(t,e){return!e||"object"!==Zn(e)&&"function"!=typeof e?oo(t):e}function oo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ro(t){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ao=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&to(t,e)}(i,t);var e,n,o,a=eo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).state={name:t.layer.name,code:t.layer.code,tile:t.layer.tile,is_visible:!1,legend:t.layer.legend},e.toggle=e.toggle.bind(oo(e)),e}return e=i,(n=[{key:"toggle",value:function(t){this.state.tile.setVisible(t),this.setState({is_visible:t})}},{key:"render",value:function(){var t=this,e=this.state,n=e.name,o=e.code,a=e.is_visible,i=e.legend;return r.a.createElement("div",{className:"col-12"},r.a.createElement("label",null,r.a.createElement("div",{className:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:o,onChange:function(e){return t.toggle(e.target.checked)},checked:a}),r.a.createElement("label",{className:"custom-control-label",htmlFor:o},n))),r.a.createElement("div",{className:"ml-5"},r.a.createElement("img",{className:"img",src:i})))}}])&&$n(e.prototype,n),o&&$n(e,o),i}(o.Component);function io(t){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function co(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function lo(t,e){return(lo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function so(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=fo(t);if(e){var r=fo(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return uo(this,n)}}function uo(t,e){return!e||"object"!==io(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fo(t){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var po=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lo(t,e)}(i,t);var e,n,o,a=so(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).state={layers:t.layers},e}return e=i,(n=[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},this.state.layers.map((function(t,e){return r.a.createElement(ao,{layer:t,key:e})})))}}])&&co(e.prototype,n),o&&co(e,o),i}(o.Component);function mo(t){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ho(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function yo(t,e){return(yo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=go(t);if(e){var r=go(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return vo(this,n)}}function vo(t,e){return!e||"object"!==mo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function go(t){return(go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _o=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yo(t,e)}(c,t);var e,n,a,i=bo(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={name:t.wms.name,tiles:t.wms.tiles,layers:t.wms.layers},e}return e=c,(n=[{key:"render",value:function(){var t=this.state,e=t.tiles,n=(t.name,t.layers);return t.is_visible,r.a.createElement(o.Fragment,null,r.a.createElement(po,{layers:n,tileWMS:e}))}}])&&ho(e.prototype,n),a&&ho(e,a),c}(o.Component);function wo(t){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Eo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function So(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Oo(t,e,n){return e&&So(t.prototype,e),n&&So(t,n),t}function xo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ko(t,e)}function ko(t,e){return(ko=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=No(t);if(e){var r=No(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Co(this,n)}}function Co(t,e){return!e||"object"!==wo(e)&&"function"!=typeof e?Po(t):e}function Po(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function No(t){return(No=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ro=function(t){xo(n,t);var e=jo(n);function n(t){var o;return Eo(this,n),(o=e.call(this,t)).state={},o}return Oo(n,[{key:"render",value:function(){var t=this.props.map_wms_list;return r.a.createElement("div",null,r.a.createElement("span",null,t.name),r.a.createElement("hr",null),r.a.createElement(_o,{wms:t}))}}]),n}(o.Component),Bo=function(t){xo(n,t);var e=jo(n);function n(t){var o;Eo(this,n);var r=t||{};(o=e.call(this,{element:document.createElement("div"),target:r.target})).is_component_initialized=!1;return o.element.className="col-md-2 ⚙ rounded bg-light",o.element.style.display="none",o.element.style.height="auto",o.renderComponent=o.renderComponent.bind(Po(o)),o.toggleControl=o.toggleControl.bind(Po(o)),o}return Oo(n,[{key:"toggleControl",value:function(t){this.element.style.display=t?"none":"block"}},{key:"renderComponent",value:function(t){this.is_component_initialized||(Tt.a.render(r.a.createElement(Ro,t),this.element),this.is_component_initialized=!0),Tt.a.hydrate(r.a.createElement(Ro,t),this.element)}},{key:"showSideBar",value:function(t,e){this.toggleControl(e),this.renderComponent({map_wms_list:t})}}]),n}(D.a);function Ao(t){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function To(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Lo(t,e,n){return e&&To(t.prototype,e),n&&To(t,n),t}function Io(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fo(t,e)}function Fo(t,e){return(Fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Do(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Uo(t);if(e){var r=Uo(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Go(this,n)}}function Go(t,e){return!e||"object"!==Ao(e)&&"function"!=typeof e?zo(t):e}function zo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uo(t){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qo=function(t){Io(n,t);var e=Do(n);function n(t){var o;return Mo(this,n),(o=e.call(this,t)).state={},o}return Lo(n,[{key:"handleAction",value:function(){this.props.handleClose(),this.props.content()}},{key:"render",value:function(){var t=this,e=this.props;e.content,e.is_complete,this.state.payload;return r.a.createElement("div",null,r.a.createElement("div",{className:"show d-block modal modal-dialog modal-dialog-centered",style:{top:"100px"}},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},r.a.createElement("div",{className:"modal-content animated",style:{border:"none",borderRadius:"7px"}},r.a.createElement("div",{className:"col-md-12 offset-md-12 float-right my-1"},r.a.createElement("button",{type:"button",className:"close mt-2 mr-2","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true",onClick:this.props.handleClose},"×"))),r.a.createElement("div",{className:"d-flex justify-content-center"},"danger"==this.props.model_type_icon?r.a.createElement("i",{className:"fa fa-times-circle fa-3x my-3 animated bounceIn text-danger","aria-hidden":"true"}):"warning"==this.props.model_type_icon?r.a.createElement("i",{className:"fa fa-exclamation-circle fa-3x my-3 animated bounceIn text-warning","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-times-circle fa-3x my-3 animated bounceIn text-success","aria-hidden":"true"})),r.a.createElement("div",{className:"d-flex justify-content-center my-3"},r.a.createElement("h5",null,this.props.title)),this.props.text&&r.a.createElement("div",{className:"modal-body text-wrap ml-2 mr-2 text-justify"},this.props.text),r.a.createElement("div",{className:"modal-footer",style:{border:"none"}},r.a.createElement("button",{type:"button",onClick:function(){return t.props.handleClose("back")},className:"btn btn-primary waves-effect waves-light"},r.a.createElement("i",{className:"fa fa-times"}),this.props.actionNameBack?this.props.actionNameBack:"  БУЦАХ"),r.a.createElement("button",{type:"button",onClick:function(){return t.handleAction()},className:"btn btn-outline-primary waves-effect waves-light"},r.a.createElement("i",{className:"fa fa-check-square-o"}),this.props.actionName?this.props.actionName:"  УСТГАХ"))))),r.a.createElement("div",{className:"modal-backdrop fade show"}))}}]),n}(o.Component),Vo=function(t){Io(n,t);var e=Do(n);function n(t){var o;Mo(this,n);var r=t||{};return(o=e.call(this,{element:document.createElement("div"),target:r.target})).is_component_initialized=!1,o.element.className="modal fade show",o.renderComponent=o.renderComponent.bind(zo(o)),o.toggleControl=o.toggleControl.bind(zo(o)),o}return Lo(n,[{key:"toggleControl",value:function(t){this.element.classList.toggle("d-block",t)}},{key:"renderComponent",value:function(t){var e=this;t.handleClose=function(n){t.actionBack&&"back"==n&&t.actionBack(),e.toggleControl(!1)},this.is_component_initialized||(Tt.a.render(r.a.createElement(qo,t),this.element),this.is_component_initialized=!0),Tt.a.hydrate(r.a.createElement(qo,t),this.element)}},{key:"showModal",value:function(t,e,n,o,r,a,i,c){this.toggleControl(!0),this.renderComponent({content:t,is_complete:e,actionName:n,title:o,text:r,model_type_icon:a,actionNameBack:i,actionBack:c})}}]),n}(D.a),Jo=n(901),Wo=n(902);function Qo(t){return(Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ho(t,e){return(Ho=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=$o(t);if(e){var r=$o(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ko(this,n)}}function Ko(t,e){return!e||"object"!==Qo(e)&&"function"!=typeof e?Zo(t):e}function Zo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $o(t){return($o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ho(t,e)}(c,t);var e,n,a,i=Xo(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={is_loading:!0,tid:t.tid,pid:t.pid,fid:t.fid,values:{},order_at:"",order_no:"",data_types:[]},e.onSubmit=e.onSubmit.bind(Zo(e)),e.handleUpdate=e.handleUpdate.bind(Zo(e)),e.validationSchema=Jo.a.bind(Zo(e)),e.addNotif=e.props.addNotif,e}return e=c,(n=[{key:"onSubmit",value:function(t,e){var n=this,o=(e.setStatus,e.setSubmitting,this.props),r=o.gid,a=o.null_form_isload,i=o.modifyend_selected_feature_check,c=o.remove_button_active,l=o.update_geom_from_list,s=o.cancel_button_active;a?this.props.geojson!={}?Jt.create(this.state.tid,this.state.pid,this.state.fid,t,this.props.geojson).then((function(t){var e=t.success,o=t.info;e?(n.setState({is_loading:!0}),n.props.requestRefreshCount(),n.addNotif("success",o,"check")):n.addNotif("danger",o,"warning")})):this.addNotif("danger","Зурагдсан геом өгөгдөл байхгүй байна","warning"):i||l?this.props.SaveBtn(t):c?this.props.requestRemove(t):s?this.props.requestCancel(t.order_at,t.order_no,t.form_values):Jt.createUpd(this.state.tid,this.state.pid,this.state.fid,t,null,r).then((function(t){var e=t.success,o=t.info;e&&(n.setState({is_loading:!0}),n.props.requestRefreshCount(),n.addNotif("success",o,"check"))}))}},{key:"handleUpdate",value:function(t){var e=this,n=this.state.fid,o=this.state.tid;Jt.detail(t,o,n).then((function(t){var n=t.success,o=t.datas,r=t.data_types;n&&e.setState({values:o,data_types:r,is_loading:!1})}))}},{key:"handleCreate",value:function(){var t=this;Jt.detailCreate(this.state.tid,this.state.pid,this.state.fid).then((function(e){var n=e.success,o=e.datas,r=e.data_types;n&&t.setState({values:o,is_loading:!1,data_types:r})}))}},{key:"componentDidUpdate",value:function(t){if(t.togle_islaod!==this.props.togle_islaod){var e=this.props,n=e.gid,o=e.tid,r=e.pid,a=e.fid;this.setState({tid:o,pid:r,fid:a}),this.props.togle_islaod||(this.props.null_form_isload?(this.props.SaveBtn(),this.handleCreate(),this.setState({is_loading:!0})):(this.handleUpdate(n),this.setState({is_loading:!0})))}if(t.gid!==this.props.gid){var i=this.props.gid;this.props.togle_islaod||(this.props.null_form_isload?(this.props.SaveBtn(),this.handleCreate(),this.setState({is_loading:!0})):(this.handleUpdate(i),this.setState({is_loading:!0})))}}},{key:"componentDidMount",value:function(){var t=this.props.gid;t&&(this.props.togle_islaod||(this.props.null_form_isload||this.handleUpdate(t),this.setState({is_loading:!0})))}},{key:"setDisable",value:function(t){var e=this.props,n=(e.modifyend_selected_feature_check,e.update_geom_from_list,e.null_form_isload),o=e.cancel_button_active,r=e.remove_button_active,a=!1;return n&&(a=t.PERM_CREATE),r&&(a=t.PERM_REMOVE),o&&(a=t.PERM_REVOKE),n||r||o||(a=t.PERM_UPDATE),a}},{key:"render",value:function(){var t=this,e=this.state,n=e.values,a=(e.id,e.data_types),i=this.props;return i.modifyend_selected_feature_check,i.update_geom_from_list,i.null_form_isload,i.cancel_button_active,i.remove_button_active,this.state.is_loading?r.a.createElement("p",{className:"text-center"}," ",r.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"})," ",r.a.createElement("br",null)," Түр хүлээнэ үү... "):r.a.createElement("div",{className:"overflow-auto card-body"},this.props.gid?r.a.createElement("h4",{className:"text-center"},"Geom дугаар-",this.props.gid):r.a.createElement("h4",{className:"text-center"},"Шинэ цэг"),r.a.createElement("hr",null),r.a.createElement(Xt.e,{enableReinitialize:!0,initialValues:{form_values:n,order_at:this.state.order_at,order_no:this.state.order_no},validationSchema:Wo.a,onSubmit:this.onSubmit},(function(e){e.errors,e.status,e.touched,e.isSubmitting,e.setFieldValue,e.handleBlur,e.handleChange,e.setValues;var n=e.values;return e.isValid,e.dirty,r.a.createElement(Xt.d,null,r.a.createElement(Xt.c,{name:"form_values",render:function(e){return r.a.createElement("div",null,a.map((function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"text-center border-bottom"},e.data_type_name),n.form_values&&n.form_values.length>0?n.form_values.map((function(n,a){return e.property_ids.includes(n.property_id)&&e.data_type_id==n.data_type_id&&r.a.createElement("div",{key:a,className:"row my-3 "},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("label",{className:"col-form-label"},n.property_name?n.property_name:"")),"option"==n.value_type?r.a.createElement("div",{className:"col-md-9"},r.a.createElement(o.Fragment,null,r.a.createElement(Xt.b,{name:"form_values.".concat(a,".data")||!1,as:"select",className:"form-control",disabled:t.setDisable(n.roles)},n.data_list&&n.data_list.map((function(t,e){return r.a.createElement("option",{key:e,value:t.code_list_id?t.code_list_id:""},t.code_list_name?t.code_list_name:"")})))),r.a.createElement("small",null,n.property_definition?n.property_definition:"")):r.a.createElement("div",{className:"col-md-9"},"boolean"==n.value_type_id?r.a.createElement(Xt.b,{name:"form_values.".concat(a,".data")||!1,as:"select",className:"form-control",disabled:t.setDisable(n.roles)},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")):r.a.createElement(Xt.b,{name:"form_values.".concat(a,".data")||!1,className:"form-control",disabled:t.setDisable(n.roles),placeholder:n.property_name,type:n.value_type}),r.a.createElement("small",null,n.property_definition?n.property_definition:"")))})):null)})),r.a.createElement("div",{className:"row my-3 "},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("label",{className:"col-form-label"},"Тушаалын дугаар")),r.a.createElement("div",{className:"col-md-9"},r.a.createElement(Xt.b,{name:"order_no",className:"form-control",placeholder:"Тушаалын дугаар"}),r.a.createElement(Xt.a,{className:"text-danger",name:"order_no",component:"span"}))),r.a.createElement("div",{className:"row my-3 "},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("label",{className:"col-form-label"},"Тушаал гарсан огноо ")),r.a.createElement("div",{className:"col-md-9"},r.a.createElement(Xt.b,{name:"order_at",className:"form-control",placeholder:"Тушаал гарсан огноо",type:"date"}),r.a.createElement(Xt.a,{className:"text-danger",name:"order_at",component:"span"}))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn btn-block gp-btn-primary"},"Хянуулах")))}}))})))}}])&&Yo(e.prototype,n),a&&Yo(e,a),c}(o.Component),er={type:"MultiPolygon",coordinates:[[[[91.020248,46.600109],[91.036377,46.671104],[91.044144,46.722214],[91.04248,46.727486],[91.02916,46.751938],[90.950272,46.889992],[90.916931,46.948044],[90.910263,46.956383],[90.890274,46.970543],[90.857208,46.988602],[90.843597,46.993607],[90.827774,46.996101],[90.818878,46.995544],[90.802765,46.992767],[90.776932,46.99527],[90.761108,46.999718],[90.71138,47.041939],[90.581665,47.196098],[90.544144,47.244438],[90.496643,47.31221],[90.489975,47.321938],[90.46582,47.500275],[90.424988,47.527771],[90.399429,47.556656],[90.351089,47.618881],[90.347763,47.629715],[90.348877,47.635269],[90.351089,47.639992],[90.357483,47.643326],[90.276382,47.695267],[90.260269,47.698875],[90.149719,47.728325],[90.143875,47.730545],[90.12915,47.741661],[90.100266,47.7686],[90.09082,47.781662],[90.083328,47.797493],[90.079163,47.815269],[90.077774,47.827492],[90.078873,47.833603],[90.088593,47.846939],[90.091934,47.85305],[90.092209,47.858887],[90.09166,47.865273],[90.085815,47.87471],[90.074432,47.886383],[90.06749,47.889435],[90,47.893585],[89.983597,47.893776],[89.971375,47.89016],[89.969147,47.884605],[89.967758,47.877937],[89.966934,47.859047],[89.96582,47.852936],[89.959427,47.843483],[89.938873,47.83654],[89.923599,47.83403],[89.799149,47.826767],[89.789978,47.827042],[89.781937,47.82843],[89.771103,47.834808],[89.672211,47.90976],[89.66832,47.913094],[89.608597,47.967781],[89.599976,47.981949],[89.598312,47.986954],[89.598602,47.993614],[89.600922,48],[89.603043,48.00444],[89.604156,48.010277],[89.602478,48.016388],[89.599716,48.021378],[89.595825,48.025551],[89.59082,48.029716],[89.584717,48.032494],[89.557755,48.041664],[89.539703,48.042496],[89.396942,48.046944],[89.386932,48.047218],[89.37886,48.04583],[89.303589,48.008606],[89.298599,48.005829],[89.293045,48],[89.291092,47.997215],[89.285812,47.993881],[89.272491,47.989433],[89.233871,47.981651],[89.21582,47.97998],[89.092773,47.991936],[89.077499,47.995544],[89.067764,48.001663],[89.058868,48.009995],[89.039154,48.030548],[89.023315,48.046944],[89.014709,48.054436],[88.956375,48.102776],[88.94136,48.113052],[88.933319,48.115273],[88.866379,48.116661],[88.856369,48.116104],[88.666382,48.177216],[88.65332,48.18277],[88.618317,48.2061],[88.605255,48.217766],[88.599426,48.227768],[88.597488,48.232765],[88.584427,48.278046],[88.581665,48.296387],[88.586105,48.306381],[88.590271,48.311104],[88.593323,48.316666],[88.598877,48.332771],[88.594986,48.344154],[88.587204,48.352493],[88.523315,48.403046],[88.510269,48.4086],[88.320267,48.479988],[88.246368,48.505554],[88.237198,48.505554],[88.219711,48.503609],[88.205551,48.499718],[88.195251,48.5],[88.187195,48.501389],[88.047211,48.544716],[88.013611,48.556381],[88.000549,48.561378],[87.983322,48.569443],[87.973312,48.576942],[87.967209,48.585823],[87.965271,48.591103],[87.964157,48.597214],[87.966385,48.602776],[87.969437,48.607498],[87.977768,48.614716],[87.983871,48.61805],[88.032486,48.646942],[88.084152,48.685547],[88.088318,48.689713],[88.090271,48.694992],[88.090546,48.701103],[88.088593,48.706383],[88.077484,48.719437],[88.059418,48.734993],[88.039154,48.747215],[88.000549,48.763054],[87.987198,48.767769],[87.978043,48.769157],[87.960541,48.767494],[87.954437,48.765274],[87.938034,48.761383],[87.929703,48.762215],[87.846375,48.792221],[87.841095,48.794998],[87.836105,48.799164],[87.765274,48.871658],[87.761383,48.876381],[87.75943,48.88166],[87.758331,48.89444],[87.763611,48.904709],[87.773041,48.919441],[87.776093,48.924164],[87.786652,48.929993],[87.812195,48.939987],[87.842209,48.945267],[87.858597,48.948044],[87.873032,48.951935],[87.877197,48.955826],[87.883331,48.963882],[87.889709,48.974709],[87.896103,48.991379],[87.899429,49.00222],[87.898331,49.008888],[87.868042,49.113609],[87.840698,49.172951],[87.857483,49.167213],[87.888046,49.162491],[87.979431,49.175552],[87.988586,49.177216],[88.000549,49.183327],[88.151093,49.265549],[88.162201,49.272217],[88.170532,49.279716],[88.173599,49.284164],[88.175537,49.289162],[88.173874,49.29583],[88.160538,49.308044],[88.157211,49.313049],[88.13443,49.362495],[88.131927,49.368324],[88.133881,49.373322],[88.179428,49.434158],[88.19664,49.449432],[88.207489,49.4561],[88.220825,49.461662],[88.346375,49.482208],[88.407761,49.483879],[88.568878,49.475822],[88.73082,49.450829],[88.846939,49.441658],[88.856369,49.441658],[88.899994,49.443321],[88.906647,49.446098],[88.906372,49.450829],[88.898331,49.459717],[88.881363,49.46888],[88.877197,49.473045],[88.875534,49.479713],[88.875809,49.491379],[88.879425,49.529716],[88.883331,49.539719],[88.887497,49.54361],[88.895538,49.54583],[88.913605,49.548882],[88.921921,49.548332],[88.928864,49.546387],[88.933868,49.54277],[88.947205,49.530548],[88.949707,49.524712],[88.950546,49.512497],[88.953049,49.50666],[88.98027,49.474709],[88.984421,49.470268],[88.989426,49.46666],[88.995529,49.463882],[89.003052,49.462494],[89.013321,49.463608],[89.150543,49.498329],[89.181931,49.506943],[89.195251,49.512215],[89.200821,49.515549],[89.216385,49.525826],[89.230545,49.536659],[89.234985,49.54055],[89.2397,49.550545],[89.24054,49.556099],[89.239426,49.561378],[89.236923,49.567215],[89.228592,49.576103],[89.208603,49.590271],[89.200272,49.599159],[89.197754,49.604996],[89.197479,49.611107],[89.199417,49.615829],[89.208878,49.629158],[89.219986,49.635551],[89.226654,49.638329],[89.234711,49.640549],[89.252777,49.643608],[89.262207,49.643883],[89.285538,49.632492],[89.31192,49.614716],[89.327774,49.604713],[89.359711,49.584717],[89.372208,49.57972],[89.380264,49.58194],[89.400269,49.589989],[89.405823,49.593323],[89.434418,49.614998],[89.441925,49.623322],[89.445816,49.633049],[89.44664,49.638603],[89.454163,49.646942],[89.459717,49.649994],[89.560532,49.67749],[89.569443,49.678879],[89.589981,49.680824],[89.618866,49.682213],[89.634995,49.686378],[89.71138,49.714714],[89.718048,49.717491],[89.726089,49.724434],[89.732483,49.733047],[89.735535,49.737495],[89.737488,49.742493],[89.736099,49.748878],[89.732758,49.754166],[89.728592,49.758606],[89.714706,49.769989],[89.701096,49.774162],[89.685806,49.776939],[89.671097,49.780823],[89.659424,49.786659],[89.654434,49.789993],[89.651093,49.795273],[89.637497,49.854996],[89.636932,49.861664],[89.6427,49.904831],[89.650818,49.911934],[89.673035,49.924713],[89.701385,49.93499],[89.726379,49.940544],[89.762772,49.946655],[89.802765,49.951103],[89.812195,49.951385],[89.838043,49.949715],[89.871094,49.946655],[89.900269,49.948044],[89.977478,49.969986],[89.98526,49.972214],[90,49.978485],[90.011383,49.98333],[90.021103,49.996384],[90.021378,50.037773],[90.02388,50.054436],[90.028046,50.064156],[90.035812,50.07222],[90.045822,50.079437],[90.051376,50.082497],[90.07193,50.090546],[90.103592,50.098877],[90.179153,50.11055],[90.219147,50.114716],[90.244431,50.12027],[90.277206,50.134163],[90.299713,50.146942],[90.309387,50.154144],[90.332214,50.166939],[90.344711,50.172768],[90.378586,50.185822],[90.50972,50.224434],[90.530548,50.226379],[90.557755,50.226097],[90.604156,50.218048],[90.610809,50.215828],[90.618317,50.214439],[90.643326,50.211937],[90.673309,50.213882],[90.698593,50.219437],[90.723602,50.231102],[90.893051,50.339157],[90.924423,50.365273],[90.927765,50.369713],[90.959152,50.396103],[90.979706,50.409988],[91.002487,50.422493],[91.029709,50.433052],[91.049423,50.435265],[91.101089,50.431664],[91.128586,50.431107],[91.159714,50.433876],[91.351089,50.476097],[91.458038,50.507774],[91.606934,50.573051],[91.624146,50.582497],[91.634155,50.595543],[91.647491,50.624992],[91.658875,50.637215],[91.668869,50.644157],[91.690811,50.657211],[91.704437,50.663879],[91.723877,50.672218],[91.772217,50.689987],[91.787491,50.69471],[91.819717,50.703323],[91.88472,50.713051],[91.905548,50.714714],[91.952209,50.714439],[92.007217,50.705269],[92.029434,50.700272],[92.036102,50.698044],[92.043869,50.696655],[92.085266,50.691658],[92.111923,50.690544],[92.162201,50.693047],[92.190262,50.697212],[92.221375,50.705551],[92.258331,50.723877],[92.269989,50.73027],[92.284988,50.740829],[92.294983,50.753609],[92.300812,50.762772],[92.316086,50.78833],[92.318329,50.793053],[92.322769,50.814995],[92.447754,50.810822],[92.467758,50.788887],[92.472763,50.785271],[92.640549,50.688324],[92.660812,50.681664],[92.679153,50.681107],[92.698868,50.683052],[92.733597,50.695824],[92.739426,50.698875],[92.760269,50.712494],[92.764709,50.716103],[92.775269,50.729156],[92.779709,50.738884],[92.780823,50.744156],[92.780823,50.750275],[92.783051,50.767212],[92.785263,50.778046],[92.792206,50.786659],[92.796936,50.79055],[92.802765,50.79361],[92.822495,50.795547],[92.928864,50.799995],[92.937485,50.799164],[92.960541,50.794998],[92.974991,50.791107],[92.986649,50.785271],[92.994705,50.776657],[92.996933,50.770546],[92.999146,50.7575],[92.999146,50.751389],[92.998032,50.745827],[92.974991,50.697212],[92.971649,50.686935],[92.970535,50.67527],[92.971024,50.666489],[93.019714,50.613052],[93.033325,50.608604],[93.088882,50.599716],[93.112762,50.5961],[93.142212,50.596939],[93.341507,50.604744],[93.376648,50.611938],[93.391663,50.616386],[93.409149,50.619713],[93.439423,50.62249],[93.448868,50.62249],[93.457489,50.621658],[93.480545,50.61721],[93.578049,50.590271],[93.726929,50.57972],[93.74498,50.57888],[93.895264,50.58416],[93.983047,50.585266],[94.218872,50.577774],[94.244431,50.575554],[94.274994,50.569443],[94.29248,50.560272],[94.300262,50.551384],[94.30304,50.546104],[94.352203,50.414993],[94.356369,50.382492],[94.354431,50.346657],[94.356369,50.321106],[94.358322,50.301659],[94.373306,50.246384],[94.383881,50.224709],[94.389984,50.214439],[94.397491,50.205551],[94.402481,50.20166],[94.424423,50.188881],[94.437485,50.184433],[94.487488,50.174164],[94.505264,50.16777],[94.510818,50.164993],[94.515823,50.161102],[94.524429,50.152771],[94.529984,50.142494],[94.573883,50.0886],[94.622757,50.029991],[94.635269,50.024437],[94.654984,50.024994],[94.674423,50.026939],[94.709152,50.033333],[94.724152,50.037498],[94.773041,50.05471],[94.789154,50.058327],[94.809982,50.059715],[94.829712,50.060272],[94.967484,50.056938],[94.976089,50.056099],[94.981659,50.053322],[94.995819,50.041939],[94.99971,50.037498],[95.012344,50.023041],[95.051086,49.972488],[95.060532,49.964996],[95.066086,49.961937],[95.080276,49.958046],[95.088043,49.956657],[95.106644,49.956383],[95.155823,49.957214],[95.204712,49.958046],[95.22554,49.959435],[95.26416,49.959717],[95.349152,49.958603],[95.405548,49.957771],[95.422485,49.9561],[95.435806,49.951385],[95.44136,49.948326],[95.49157,49.907696],[95.507767,49.89888],[95.520828,49.89444],[95.529434,49.893326],[95.538589,49.894714],[95.73526,49.954712],[95.742203,49.957214],[95.754166,49.963326],[95.758606,49.966934],[95.766098,49.975266],[95.7686,49.98027],[95.781937,49.997772],[95.789154,50.006386],[95.798599,50.013611],[95.810257,50.01944],[95.817215,50.021935],[95.834717,50.024994],[95.855545,50.0261],[95.872482,50.024162],[95.887497,50.021103],[95.907211,50.01416],[95.915817,50.005829],[95.921097,49.98777],[95.928589,49.971375],[95.931366,49.966385],[95.938873,49.957214],[95.952774,49.945824],[95.960266,49.944153],[95.970825,49.94471],[95.984711,49.949715],[95.99054,49.952774],[96.000275,49.959991],[96.015823,49.976936],[96.034714,49.991379],[96.058319,50.003326],[96.065262,50.005829],[96.074432,50.006943],[96.106644,50.001938],[96.211655,49.971931],[96.274704,49.953606],[96.294434,49.946655],[96.299149,49.942764],[96.309982,49.929161],[96.328873,49.913879],[96.339981,49.907768],[96.358597,49.899994],[96.37915,49.893608],[96.387772,49.892769],[96.398041,49.893326],[96.415543,49.896942],[96.436371,49.90416],[96.454163,49.913048],[96.47998,49.923882],[96.49498,49.928604],[96.518311,49.930305],[96.539978,49.92749],[96.547485,49.925827],[96.564423,49.916664],[96.571655,49.907494],[96.576935,49.889717],[96.588043,49.868599],[96.592484,49.864998],[96.609421,49.863052],[96.618591,49.864159],[96.65416,49.88221],[96.694427,49.911659],[96.700272,49.914711],[96.713318,49.919991],[96.722488,49.921104],[96.741364,49.92083],[96.801651,49.914993],[96.996933,49.894157],[97.003601,49.891663],[97.014709,49.885551],[97.144989,49.801384],[97.152206,49.792496],[97.169029,49.761993],[97.175812,49.759163],[97.204712,49.751663],[97.277481,49.733604],[97.302765,49.73082],[97.313034,49.731102],[97.34082,49.734436],[97.356094,49.738602],[97.484146,49.787498],[97.559982,49.826942],[97.570831,49.833603],[97.58638,49.843605],[97.594986,49.851387],[97.601379,49.86055],[97.603867,49.865273],[97.605545,49.870827],[97.607483,49.88221],[97.719147,49.95166],[97.740265,49.958603],[97.761383,49.965546],[97.777771,49.96888],[97.786102,49.969154],[97.793594,49.967491],[97.812195,49.959435],[97.890823,49.955551],[98.073318,50.030273],[98.079437,50.033051],[98.096375,50.042496],[98.107208,50.048882],[98.119431,50.060822],[98.13472,50.077774],[98.195816,50.157211],[98.202209,50.166382],[98.289703,50.293884],[98.292206,50.298607],[98.295532,50.309433],[98.328354,50.471169],[98.326385,50.504166],[98.325546,50.510826],[98.321381,50.522217],[98.315262,50.531937],[98.306931,50.540276],[98.302475,50.544159],[98.291367,50.551102],[98.274429,50.560547],[98.251099,50.564995],[98.223312,50.566383],[98.202484,50.565544],[98.183319,50.566383],[98.174988,50.567215],[98.16748,50.568886],[98.160812,50.571381],[98.067764,50.626656],[98.063309,50.630547],[98.051376,50.643326],[97.970261,50.767769],[97.963882,50.778328],[97.963608,50.790833],[97.965271,50.796387],[97.968048,50.801102],[97.97554,50.809433],[98.00499,50.831383],[98.012772,50.839714],[98.015823,50.850548],[98.013046,50.855827],[98.00972,50.860275],[98.004715,50.864159],[97.951096,50.90416],[97.945526,50.907211],[97.901932,50.918884],[97.895264,50.921104],[97.877472,50.929718],[97.868317,50.937492],[97.8647,50.941933],[97.83194,50.98999],[97.829437,50.99527],[97.827774,51.001106],[97.833054,51.010826],[97.848328,51.027489],[97.853043,51.031105],[97.868591,51.047493],[97.87886,51.060822],[97.884155,51.070274],[97.908875,51.119438],[97.954437,51.213326],[97.958603,51.22332],[97.95665,51.243324],[97.952774,51.26194],[97.997757,51.373604],[98.049881,51.456177],[98.05307,51.460953],[98.064697,51.466934],[98.085938,51.474213],[98.110352,51.479515],[98.137924,51.479515],[98.17276,51.467491],[98.194702,51.462212],[98.211929,51.459717],[98.232346,51.459892],[98.238876,51.4711],[98.255264,51.499718],[98.259995,51.515831],[98.260544,51.52166],[98.259155,51.534996],[98.248596,51.555824],[98.246368,51.575829],[98.248032,51.581108],[98.309708,51.69471],[98.315262,51.704163],[98.335266,51.718048],[98.34137,51.7211],[98.369431,51.73082],[98.3936,51.736938],[98.509155,51.761108],[98.599152,51.774994],[98.62442,51.779991],[98.638046,51.784996],[98.662491,51.796661],[98.673874,51.803047],[98.688873,51.813324],[98.708038,51.828049],[98.726089,51.843323],[98.765274,51.884438],[98.806091,51.941658],[98.869431,52.038605],[98.872757,52.049438],[98.873596,52.05555],[98.873871,52.073883],[98.872757,52.087212],[98.873306,52.093323],[98.878311,52.109161],[98.881088,52.114159],[98.891937,52.126938],[98.907211,52.137497],[98.921646,52.141937],[98.930267,52.143608],[98.941895,52.140678],[99.011108,52.071381],[99.015823,52.067497],[99.026932,52.061104],[99.140823,52.027214],[99.289703,51.974159],[99.296936,51.965271],[99.306091,51.957497],[99.316376,51.950546],[99.323044,51.948044],[99.344986,51.942215],[99.570831,51.900543],[99.605545,51.896385],[99.624985,51.895546],[99.688309,51.898048],[99.70665,51.89666],[99.721924,51.893051],[99.73526,51.888046],[99.757492,51.875549],[99.810257,51.833878],[99.854431,51.800545],[99.879425,51.782211],[99.896103,51.772491],[99.919708,51.760551],[99.94693,51.751389],[99.969986,51.746101],[99.986374,51.743324],[100.012207,51.73999],[100.031662,51.739159],[100.252777,51.731659],[100.333328,51.730545],[100.426376,51.732208],[100.493591,51.737213],[100.525818,51.738045],[100.553589,51.735825],[100.561371,51.734161],[100.694138,51.698875],[100.784149,51.662209],[100.892212,51.623604],[100.91304,51.616661],[101.03804,51.576103],[101.123871,51.550827],[101.200546,51.534996],[101.218872,51.533333],[101.244713,51.52916],[101.27388,51.521103],[101.285812,51.515549],[101.295822,51.508331],[101.313599,51.492767],[101.317207,51.488045],[101.339432,51.468597],[101.35582,51.458885],[101.377472,51.452774],[101.3936,51.451103],[101.404427,51.451385],[101.412773,51.452774],[101.434708,51.459717],[101.447479,51.465271],[101.454712,51.467491],[101.508331,51.481659],[101.533867,51.486107],[101.575272,51.48777],[101.601089,51.484161],[101.740807,51.45916],[101.776657,51.448601],[101.867203,51.419441],[101.992752,51.395546],[102.0186,51.391937],[102.02832,51.39138],[102.048599,51.391106],[102.068604,51.391937],[102.077209,51.390831],[102.084717,51.388885],[102.097763,51.383881],[102.218872,51.333603],[102.223312,51.32972],[102.22554,51.32444],[102.226646,51.318604],[102.224991,51.306381],[102.200546,51.282211],[102.191093,51.274712],[102.165268,51.257774],[102.156937,51.249718],[102.15416,51.244995],[102.15416,51.238327],[102.168259,51.12043],[102.186653,51.076942],[102.210274,51.037773],[102.220261,51.024162],[102.228043,51.015549],[102.25,50.995827],[102.253326,50.991104],[102.258041,50.980545],[102.264999,50.893326],[102.259163,50.883881],[102.238586,50.863609],[102.231659,50.854713],[102.229713,50.849434],[102.228867,50.836655],[102.232758,50.825554],[102.238312,50.815544],[102.267761,50.787216],[102.272217,50.783333],[102.283051,50.776939],[102.327766,50.758606],[102.339706,50.75222],[102.344147,50.748329],[102.347214,50.743607],[102.351929,50.733047],[102.356369,50.722488],[102.356644,50.715828],[102.35582,50.709717],[102.349716,50.700272],[102.335541,50.68943],[102.313873,50.669716],[102.301651,50.657494],[102.295822,50.648048],[102.293869,50.642769],[102.294144,50.629433],[102.298866,50.618881],[102.312187,50.593605],[102.327766,50.569717],[102.336647,50.561935],[102.353592,50.552773],[102.373871,50.545547],[102.381165,50.543659],[102.453049,50.536659],[102.479431,50.533607],[102.494141,50.529716],[102.536652,50.513054],[102.545258,50.504997],[102.594147,50.455551],[102.596367,50.449997],[102.598877,50.438042],[102.603317,50.42749],[102.608871,50.417496],[102.613037,50.413605],[102.619431,50.411102],[102.634163,50.407211],[102.672211,50.404991],[102.748871,50.39444],[102.779709,50.387215],[102.812477,50.374435],[102.824158,50.368324],[102.839981,50.358604],[102.849716,50.351387],[102.853867,50.347214],[102.884987,50.326942],[102.897491,50.321663],[102.918587,50.315269],[102.941933,50.30999],[102.966927,50.306381],[103.002777,50.302773],[103.043587,50.303604],[103.09166,50.306656],[103.157494,50.312767],[103.198318,50.312492],[103.223602,50.308601],[103.245529,50.302773],[103.254173,50.294716],[103.257492,50.289993],[103.25972,50.284721],[103.26416,50.267494],[103.266663,50.248604],[103.269989,50.237213],[103.278587,50.222763],[103.281937,50.218048],[103.290268,50.209991],[103.309418,50.201385],[103.323883,50.197487],[103.332207,50.196381],[103.342758,50.196381],[103.531372,50.175552],[103.603592,50.148605],[103.611099,50.146385],[103.640549,50.138603],[103.657211,50.136101],[103.697746,50.13604],[103.714706,50.139015],[103.729156,50.143364],[103.74054,50.150169],[103.748871,50.159149],[103.758041,50.173157],[103.766388,50.18132],[103.776657,50.188393],[103.795532,50.196693],[103.811096,50.200226],[103.820541,50.20118],[103.830833,50.201317],[103.848877,50.199608],[103.863312,50.195915],[103.90416,50.182587],[103.916931,50.17749],[103.935806,50.171638],[104.025818,50.149872],[104.035263,50.148621],[104.063309,50.147095],[104.084152,50.147415],[104.101929,50.149918],[104.117752,50.153503],[104.243042,50.182541],[104.250267,50.184883],[104.260536,50.19175],[104.264709,50.195709],[104.271103,50.205299],[104.271927,50.211449],[104.284416,50.230324],[104.293053,50.238548],[104.298027,50.241974],[104.392212,50.298622],[104.410812,50.306969],[104.425537,50.311371],[104.44136,50.314934],[104.459152,50.317139],[104.496597,50.320435],[104.564697,50.317665],[104.616089,50.317657],[104.625526,50.318306],[104.646652,50.32518],[104.656937,50.33197],[104.661102,50.336182],[104.675812,50.346886],[104.681091,50.350273],[104.687477,50.353111],[104.709427,50.359116],[104.96666,50.404839],[104.997513,50.408058],[105,50.407639],[105.024147,50.39666],[105.049423,50.392494],[105.069153,50.391663],[105.099716,50.39222],[105.132202,50.398331],[105.154427,50.40416],[105.180542,50.414711],[105.209152,50.429993],[105.243042,50.448601],[105.253326,50.455269],[105.279984,50.471657],[105.286102,50.474434],[105.308319,50.48082],[105.316673,50.482208],[105.335541,50.483604],[105.356644,50.48333],[105.366089,50.482765],[105.522217,50.454437],[105.728317,50.430824],[105.802757,50.436378],[105.812187,50.435547],[105.989151,50.410545],[106.01915,50.403046],[106.032761,50.398048],[106.049423,50.388603],[106.054428,50.385269],[106.069427,50.375267],[106.070267,50.349998],[106.078308,50.341629],[106.236649,50.301659],[106.253326,50.298332],[106.262772,50.297493],[106.271103,50.297493],[106.278587,50.299164],[106.285812,50.301102],[106.298599,50.306381],[106.335541,50.316101],[106.435532,50.331665],[106.486923,50.338326],[106.546944,50.3461],[106.599426,50.345543],[106.627472,50.343048],[106.66304,50.3386],[106.737762,50.325554],[106.760818,50.319992],[106.781372,50.313049],[106.794983,50.308044],[106.825821,50.294159],[107.005547,50.201103],[107.00943,50.197212],[107.051933,50.131378],[107.063599,50.108604],[107.078323,50.084991],[107.083328,50.081383],[107.169983,50.029716],[107.182213,50.024162],[107.247208,50.004997],[107.262497,50.001389],[107.453323,49.981934],[107.472214,49.982765],[107.551376,49.982765],[107.737762,49.98027],[107.753593,49.979546],[107.807213,49.951385],[107.813309,49.948601],[107.822769,49.947769],[107.905823,49.94471],[107.977127,49.943626],[107.980553,49.940826],[107.983696,49.935722],[107.986366,49.931381],[107.986923,49.919991],[107.975807,49.788887],[107.948593,49.68943],[107.947479,49.683327],[107.949142,49.678047],[108.041931,49.610825],[108.07193,49.589989],[108.113312,49.569443],[108.137497,49.558044],[108.169434,49.551384],[108.298599,49.493324],[108.358871,49.445267],[108.368591,49.438324],[108.516388,49.351936],[108.527481,49.345543],[108.5336,49.342766],[108.554703,49.336105],[108.57222,49.333603],[108.601089,49.331665],[108.651047,49.331734],[108.711929,49.338043],[108.950546,49.357773],[108.968048,49.35527],[108.984154,49.351936],[109.0186,49.340271],[109.034988,49.33638],[109.074997,49.334435],[109.146103,49.347214],[109.160812,49.35083],[109.179977,49.35833],[109.19664,49.36055],[109.20694,49.360275],[109.313309,49.346382],[109.337769,49.341377],[109.351929,49.336937],[109.491653,49.271935],[109.49498,49.261108],[109.497757,49.256386],[109.501389,49.25222],[109.511108,49.244995],[109.523041,49.239433],[109.544144,49.232491],[109.562759,49.230545],[109.581383,49.229988],[109.611099,49.229713],[109.801933,49.219154],[110.088318,49.188324],[110.170258,49.172493],[110.208038,49.169159],[110.236923,49.169441],[110.253601,49.171661],[110.268333,49.174995],[110.294144,49.18499],[110.318604,49.195541],[110.330551,49.201103],[110.352203,49.213608],[110.481934,49.199997],[110.630257,49.152489],[110.662491,49.145828],[110.700272,49.14222],[110.737488,49.143608],[110.788589,49.149437],[110.928864,49.182213],[110.955551,49.191101],[110.981087,49.200829],[111.000549,49.209717],[111.016937,49.21888],[111.026093,49.226654],[111.041,49.237617],[111.067757,49.253326],[111.122482,49.284721],[111.13443,49.290276],[111.173027,49.30471],[111.326927,49.342491],[111.452209,49.354439],[111.477478,49.349998],[111.498032,49.349159],[111.514709,49.351105],[111.537201,49.356102],[111.551086,49.360275],[111.570541,49.367493],[111.593323,49.379158],[111.645264,49.398331],[111.682213,49.406654],[111.700821,49.407211],[111.742203,49.405266],[111.799423,49.399994],[111.84082,49.398048],[111.868591,49.39888],[111.921921,49.402214],[111.963882,49.406937],[112.127762,49.436104],[112.134987,49.437767],[112.170532,49.447487],[112.416092,49.518326],[112.491699,49.541382],[112.536652,49.536385],[112.59082,49.528877],[112.654709,49.518051],[112.680542,49.507217],[112.694427,49.502495],[112.710541,49.498878],[112.731087,49.497772],[112.74054,49.498047],[112.766937,49.500832],[112.781662,49.503883],[112.80304,49.50972],[112.831383,49.518326],[113.09082,49.598602],[113.095543,49.602219],[113.099152,49.606941],[113.095833,49.66082],[113.096649,49.667496],[113.098602,49.673607],[113.101379,49.678879],[113.181091,49.787498],[113.192467,49.801102],[113.206383,49.81221],[113.21666,49.81916],[113.239151,49.831383],[113.357483,49.888603],[113.45166,49.927773],[113.457207,49.930824],[113.461929,49.934715],[113.470261,49.950272],[113.477768,49.95916],[113.482483,49.963051],[113.488312,49.966103],[113.556931,50.001938],[113.586113,50.016388],[113.709717,50.061661],[113.768333,50.083054],[113.782494,50.086937],[113.789978,50.0886],[113.799423,50.0886],[113.820267,50.087494],[113.838882,50.084991],[113.859421,50.083603],[113.868042,50.084717],[113.874687,50.086937],[113.886108,50.093048],[113.896378,50.099716],[113.93248,50.123878],[113.957207,50.142494],[113.973312,50.152214],[113.989433,50.161934],[114.011932,50.174164],[114.176376,50.248329],[114.195251,50.255829],[114.237198,50.268051],[114.313026,50.284164],[114.33194,50.284439],[114.34137,50.283051],[114.357483,50.279434],[114.377472,50.271378],[114.396103,50.262772],[114.421654,50.251938],[114.443863,50.24527],[114.494713,50.241379],[114.504173,50.241379],[114.555252,50.246101],[114.579163,50.25],[114.622757,50.260826],[114.656097,50.264717],[114.675812,50.26416],[114.748596,50.252777],[114.854156,50.228325],[114.880814,50.217766],[115.00499,50.160545],[115.016663,50.154434],[115.02832,50.148331],[115.039978,50.141937],[115.049149,50.13472],[115.054977,50.124992],[115.094994,50.081108],[115.205261,49.998329],[115.221367,49.988327],[115.260536,49.966103],[115.383614,49.906654],[115.396378,49.9011],[115.414703,49.898331],[115.508041,49.893326],[115.516663,49.893883],[115.531662,49.896942],[115.551651,49.903603],[115.559143,49.904991],[115.579437,49.907211],[115.609421,49.904434],[115.63472,49.899162],[115.673866,49.888885],[115.72998,49.880821],[115.754707,49.884438],[115.768883,49.888329],[115.78804,49.895546],[115.818604,49.908882],[115.887207,49.936935],[116.049423,49.996101],[116.069717,50.002777],[116.090553,50.008606],[116.10498,50.012215],[116.150543,50.021103],[116.21666,50.028328],[116.246094,50.027489],[116.290817,50.013885],[116.352768,49.991104],[116.424988,49.967491],[116.448029,49.960823],[116.4561,49.958885],[116.49942,49.950829],[116.60054,49.935822],[116.61554,49.931381],[116.621094,49.928047],[116.630257,49.92083],[116.695824,49.85083],[116.705833,49.837769],[116.71138,49.830467],[116.646652,49.738045],[116.570267,49.626656],[116.500549,49.524712],[116.431091,49.422493],[116.349152,49.301659],[116.279984,49.199158],[116.129967,48.975548],[116.061653,48.872765],[116.056374,48.863327],[116.084152,48.815826],[115.968048,48.690544],[115.9422,48.663879],[115.811096,48.520546],[115.82222,48.403046],[115.828873,48.338326],[115.831673,48.306099],[115.834427,48.27388],[115.835823,48.252495],[115.621368,48.17305],[115.565811,48.151932],[115.548027,48.144714],[115.54248,48.141663],[115.539978,48.135826],[115.592194,47.919441],[115.596626,47.915543],[115.914139,47.694992],[115.919128,47.691933],[115.927193,47.688881],[115.936897,47.68721],[115.945236,47.686935],[115.959412,47.688324],[115.972748,47.691933],[116.039963,47.75222],[116.097214,47.804436],[116.11554,47.821938],[116.258331,47.878601],[116.266388,47.877769],[116.368591,47.858887],[116.507767,47.845268],[116.592209,47.857216],[116.726929,47.876099],[116.792763,47.881935],[116.874687,47.888046],[117.111076,47.813599],[117.113861,47.801094],[117.117737,47.798042],[117.327759,47.669151],[117.346626,47.659424],[117.353577,47.656647],[117.363022,47.654152],[117.372192,47.653595],[117.379143,47.654984],[117.38414,47.656647],[117.395248,47.664429],[117.609123,47.843315],[117.62384,47.856651],[117.641342,47.874153],[117.654953,47.887764],[117.669403,47.900261],[117.801086,48.010551],[117.808029,48.01194],[117.838318,48.015274],[117.875496,48.01907],[117.892761,48.016106],[118.055542,48.013054],[118.23027,48.029991],[118.39415,48.003883],[118.539337,47.994751],[118.608017,47.940842],[118.662079,47.884735],[118.672348,47.873055],[118.767288,47.772774],[118.819763,47.756386],[118.972214,47.710548],[119.055801,47.685814],[119.124969,47.664986],[119.131348,47.634155],[119.149429,47.533882],[119.241089,47.509438],[119.34082,47.462212],[119.338318,47.419716],[119.401382,47.373878],[119.412018,47.367264],[119.439148,47.356941],[119.498032,47.321381],[119.625526,47.241379],[119.656097,47.219437],[119.724991,47.168884],[119.72998,47.164154],[119.775269,47.109993],[119.787773,47.092766],[119.789429,47.087494],[119.792213,47.076103],[119.790268,47.069992],[119.789429,47.059715],[119.787773,47.026382],[119.792213,47.011665],[119.796097,47.00222],[119.801376,46.993881],[119.867203,46.924438],[119.871368,46.920547],[119.8797,46.91777],[119.922493,46.902214],[119.934982,46.719986],[119.92804,46.710274],[119.901932,46.680275],[119.897491,46.675552],[119.890808,46.671692],[119.854713,46.656654],[119.751389,46.613609],[119.714157,46.599716],[119.707489,46.598602],[119.69136,46.597771],[119.684418,46.60083],[119.674149,46.607498],[119.665543,46.615829],[119.656372,46.62249],[119.648613,46.626381],[119.639977,46.627487],[119.535812,46.63472],[119.462769,46.63916],[119.447746,46.638329],[119.434418,46.63472],[119.423027,46.630272],[119.411377,46.623604],[119.404709,46.620827],[119.386383,46.614716],[119.363037,46.614441],[119.304428,46.620544],[119.296654,46.621376],[119.09166,46.666664],[119.070602,46.672661],[119.043587,46.688324],[119.035538,46.695824],[119.031372,46.700272],[119.019707,46.717209],[118.971916,46.742218],[118.886932,46.769714],[118.878593,46.772217],[118.869431,46.772766],[118.861923,46.772217],[118.856087,46.770828],[118.849716,46.7686],[118.844147,46.765549],[118.839157,46.761665],[118.833878,46.757217],[118.790817,46.720825],[118.786102,46.715546],[118.782494,46.709717],[118.780823,46.693047],[118.77887,46.686935],[118.773323,46.683876],[118.765549,46.68277],[118.464996,46.693047],[118.447479,46.695541],[118.439148,46.698044],[118.434143,46.700546],[118.419434,46.711662],[118.415543,46.716934],[118.406372,46.723877],[118.396942,46.725822],[118.319153,46.735825],[118.310257,46.736938],[118.290817,46.731102],[118.117477,46.678047],[117.933594,46.619438],[117.916092,46.610275],[117.900818,46.599998],[117.876083,46.581665],[117.870529,46.57666],[117.862488,46.566101],[117.859711,46.559715],[117.859154,46.553879],[117.853592,46.541664],[117.849716,46.537498],[117.844147,46.534439],[117.834717,46.532211],[117.71666,46.513885],[117.632751,46.551102],[117.60498,46.599716],[117.598877,46.611938],[117.421097,46.578331],[117.428864,46.563049],[117.443863,46.527771],[117.392761,46.457497],[117.375526,46.418884],[117.383331,46.403877],[117.381088,46.394157],[117.370819,46.364441],[117.078598,46.361938],[116.902206,46.383881],[116.84166,46.393608],[116.826393,46.38694],[116.811653,46.379158],[116.779427,46.35305],[116.774696,46.349159],[116.758614,46.331108],[116.671799,46.32724],[116.585541,46.29583],[116.571663,46.25666],[116.570267,46.250549],[116.566383,46.246384],[116.540817,46.225266],[116.459427,46.168053],[116.425262,46.145828],[116.413307,46.13694],[116.384163,46.112495],[116.363037,46.088882],[116.355263,46.078606],[116.29776,46.001389],[116.290268,45.990829],[116.268333,45.9561],[116.261658,45.945267],[116.237488,45.905548],[116.234993,45.899437],[116.234421,45.893326],[116.234154,45.887772],[116.236099,45.878044],[116.238586,45.873878],[116.248322,45.865547],[116.263893,45.849434],[116.273041,45.836937],[116.280548,45.823326],[116.281937,45.81221],[116.281662,45.806656],[116.276093,45.79361],[116.212769,45.723877],[116.208038,45.719986],[116.192749,45.710274],[116.186371,45.707214],[116.149986,45.693321],[116.112198,45.681107],[116.097488,45.679993],[116.079712,45.686378],[116.031372,45.685547],[115.937187,45.635826],[115.800812,45.545547],[115.701927,45.458603],[115.474701,45.414154],[115.392212,45.39888],[115.294708,45.400543],[115.174423,45.403877],[114.969437,45.384995],[114.938026,45.382767],[114.844994,45.410271],[114.75,45.438881],[114.736099,45.442215],[114.545258,45.389435],[114.54332,45.354164],[114.54332,45.343605],[114.541092,45.322769],[114.462196,45.211662],[114.445824,45.200546],[114.358597,45.143051],[114.337196,45.129433],[114.243042,45.070831],[114.145538,44.996101],[114.137772,44.986107],[114.12442,44.974434],[114.080276,44.941101],[114.074158,44.938042],[114.06749,44.936378],[114.022774,44.929436],[113.990807,44.924995],[113.977478,44.923882],[113.962486,44.924164],[113.916931,44.922768],[113.817207,44.861664],[113.744713,44.810272],[113.722214,44.793053],[113.638046,44.74527],[113.551933,44.752495],[113.511108,44.777214],[113.242477,44.788605],[113.151657,44.794159],[113.13443,44.796104],[112.853043,44.8461],[112.607483,44.926384],[112.592484,44.951103],[112.56192,44.98777],[112.550667,45],[112.5,45.033779],[112.4272,45.080551],[112.3647,45.067772],[112.23082,45.071381],[112.097214,45.075272],[112.083878,45.091103],[112.051086,45.100548],[111.98082,45.09166],[111.873032,45.049438],[111.784988,45.000549],[111.765266,44.973045],[111.630814,44.774162],[111.568047,44.679161],[111.567757,44.674995],[111.569443,44.65416],[111.571663,44.643051],[111.571663,44.620544],[111.568604,44.596939],[111.561096,44.577774],[111.549988,44.562767],[111.515823,44.521378],[111.496094,44.498878],[111.47554,44.476379],[111.458603,44.458603],[111.440811,44.441933],[111.43692,44.436378],[111.431091,44.42527],[111.426933,44.412766],[111.421371,44.382492],[111.421371,44.376938],[111.421371,44.359161],[111.42276,44.342766],[111.423866,44.337494],[111.429703,44.328606],[111.44136,44.322495],[111.524986,44.243324],[111.556931,44.174713],[111.674988,44.051102],[111.678307,44.049164],[111.717484,44.033882],[111.808029,43.996384],[111.879433,43.938881],[111.959717,43.835266],[111.97554,43.7761],[111.978043,43.763054],[111.964432,43.712212],[111.958328,43.692215],[111.897217,43.674164],[111.783867,43.672493],[111.757217,43.649719],[111.638603,43.543327],[111.502777,43.494438],[111.32666,43.432213],[111.225807,43.405266],[111.076927,43.359161],[110.9897,43.31694],[110.871368,43.202217],[110.742752,43.094154],[110.689972,43.053604],[110.673599,43.003326],[110.639977,42.956657],[110.623032,42.939987],[110.564697,42.89666],[110.515549,42.870544],[110.471916,42.8461],[110.448868,42.797775],[110.440536,42.777771],[110.361191,42.750305],[110.133392,42.673805],[110.106369,42.64576],[110,42.642464],[109.9422,42.640831],[109.927757,42.64138],[109.743874,42.575829],[109.689697,42.555824],[109.544708,42.473877],[109.517487,42.45694],[109.510536,42.4561],[109.3936,42.450546],[109.320831,42.447769],[109.313599,42.429993],[109.307747,42.429993],[109.098038,42.449432],[109,42.458328],[108.848602,42.399994],[108.845543,42.399994],[108.679977,42.422218],[108.527771,42.442215],[108.313873,42.436935],[108.299423,42.43721],[108.249443,42.462345],[108.224426,42.458885],[107.907761,42.408325],[107.571114,42.410271],[107.554977,42.421104],[107.545822,42.428879],[107.543869,42.43277],[107.529984,42.44471],[107.515549,42.454712],[107.503883,42.460548],[107.489151,42.465546],[107.479713,42.466385],[107.471916,42.466103],[107.277206,42.410545],[107.262497,42.359993],[107.017761,42.315826],[106.986099,42.310822],[106.854713,42.30027],[106.781937,42.295547],[106.496368,42.20166],[106.122482,42.077492],[105.855263,41.987495],[105.588318,41.89138],[105.482208,41.837212],[105.467758,41.831383],[105.350807,41.785271],[105.226929,41.75],[105.218048,41.743607],[105.012207,41.581383],[105.000816,41.591934],[104.930542,41.651932],[104.854713,41.650269],[104.840553,41.649162],[104.684418,41.645828],[104.524147,41.663879],[104.523323,41.67749],[104.525269,41.761383],[104.526657,41.877213],[104.077766,41.805267],[104.061096,41.803322],[103.849426,41.80249],[103.416382,41.887215],[103.352203,41.912491],[103.143883,41.994156],[102.882751,42.096382],[102.712486,42.161377],[102.550262,42.166664],[102.515266,42.161659],[102.471367,42.154709],[102.442467,42.1511],[102.077209,42.23333],[102.035538,42.2761],[101.992203,42.322769],[101.814697,42.50972],[101.595543,42.530548],[101.411377,42.567497],[101.219711,42.604713],[100.972763,42.652489],[100.849426,42.676102],[100.835541,42.678047],[100.69693,42.681664],[100.314987,42.691101],[100.310532,42.688042],[100.25499,42.641106],[100.133331,42.64444],[100.034714,42.648331],[100.02832,42.649719],[99.986374,42.653603],[99.518875,42.573051],[99.504166,42.570831],[99.498596,42.570831],[99.3022,42.583603],[99.240372,42.586788],[99.119705,42.594154],[98.76915,42.615547],[98.488312,42.63166],[98.361923,42.638603],[98.319717,42.640831],[98.221375,42.645828],[98.199142,42.648331],[98.074158,42.666939],[97.826515,42.703987],[97.755264,42.714439],[97.602768,42.736656],[97.533051,42.746101],[97.491364,42.751938],[97.449707,42.757774],[97.386154,42.767342],[97.171646,42.797493],[97.159149,42.794159],[96.998596,42.761383],[96.959717,42.759995],[96.846375,42.758606],[96.761108,42.756104],[96.725815,42.75444],[96.568604,42.744156],[96.398468,42.73175],[96.383041,42.731102],[96.381088,42.738884],[96.356934,42.906937],[96.123032,43.081665],[95.940262,43.21666],[95.923599,43.228043],[95.910812,43.23999],[95.881363,43.27916],[95.876648,43.288605],[95.870819,43.309715],[95.869141,43.329163],[95.869431,43.354713],[95.866653,43.40332],[95.865265,43.415825],[95.863037,43.42083],[95.856369,43.428879],[95.845535,43.441376],[95.838043,43.449997],[95.830551,43.458046],[95.80748,43.488602],[95.778595,43.533882],[95.746368,43.584991],[95.722763,43.627213],[95.717484,43.637215],[95.674698,43.719437],[95.665268,43.738602],[95.656372,43.759163],[95.645828,43.784721],[95.638885,43.805824],[95.626648,43.855553],[95.627472,43.862495],[95.539978,43.992767],[95.530548,43.993881],[95.523041,43.99305],[95.477768,43.993607],[95.426651,43.998878],[95.384155,44.005554],[95.358871,44.00972],[95.352478,44.011665],[95.339706,44.017212],[95.336105,44.020828],[95.336105,44.027771],[95.3461,44.158043],[95.350266,44.177773],[95.369431,44.21888],[95.3797,44.231934],[95.38472,44.235268],[95.3936,44.244156],[95.401093,44.25222],[95.416656,44.269714],[95.423309,44.278328],[95.423309,44.285271],[95.421921,44.290276],[95.416656,44.293884],[95.411102,44.296387],[95.392761,44.296104],[95.285812,44.287773],[95.202774,44.275551],[95.179153,44.272766],[95.036926,44.257217],[95.020538,44.256943],[94.724426,44.349159],[94.710266,44.360825],[94.708038,44.365829],[94.697754,44.378876],[94.690811,44.386658],[94.678589,44.398331],[94.656372,44.415543],[94.606934,44.450546],[94.599426,44.453049],[94.529984,44.479988],[94.441925,44.515549],[94.343048,44.557213],[94.330276,44.574997],[94.318054,44.587494],[94.308868,44.593323],[94.246094,44.63221],[94.110809,44.709991],[94.094147,44.718323],[94.07666,44.726936],[93.970261,44.777489],[93.919708,44.797775],[93.860809,44.818329],[93.835541,44.828606],[93.755554,44.862495],[93.7397,44.872215],[93.73082,44.879433],[93.716095,44.89666],[93.674988,44.915825],[93.655258,44.92305],[93.574432,44.950829],[93.554703,44.957214],[93.530823,44.962212],[93.370255,44.990829],[93.31749,44.984993],[93.300812,44.982765],[93.283325,44.984436],[93.260544,44.98999],[93.233047,44.998047],[93.179428,45.016388],[93.172211,45.013885],[93.148605,45.010826],[93.086655,45.009995],[92.990265,45.00972],[92.935806,45.020271],[92.930267,45.023323],[92.925812,45.026939],[92.917755,45.035553],[92.912201,45.038605],[92.882751,45.04583],[92.794434,45.04805],[92.785812,45.047775],[92.777771,45.046661],[92.756943,45.041382],[92.720535,45.033882],[92.661377,45.023048],[92.645538,45.021103],[92.496643,45.003609],[92.488876,45.003052],[92.310257,45.026382],[92.092484,45.079437],[92.06749,45.083054],[92.038589,45.08416],[92.013046,45.082214],[91.867752,45.074715],[91.567764,45.074997],[91.559143,45.07666],[91.548874,45.082497],[91.530273,45.096939],[91.501938,45.124435],[91.477203,45.147774],[91.468048,45.155548],[91.462204,45.1586],[91.453598,45.158043],[91.44664,45.155548],[91.44165,45.152489],[91.43248,45.146385],[91.401932,45.126099],[91.383041,45.118599],[91.375259,45.119438],[91.293594,45.132767],[91.27832,45.135269],[91.250549,45.143608],[91.230545,45.1511],[91.195526,45.167213],[91.189972,45.17083],[91.181656,45.178604],[91.168869,45.196938],[91.159714,45.204712],[91.141663,45.212769],[91.134155,45.214157],[91.048035,45.223602],[91.029709,45.224709],[91.019714,45.224434],[91.003052,45.222763],[90.896942,45.253052],[90.807755,45.371101],[90.777206,45.436378],[90.761932,45.445541],[90.74498,45.454994],[90.718323,45.469986],[90.691925,45.486382],[90.675812,45.497772],[90.681931,45.57972],[90.719437,45.73555],[90.856934,45.887215],[90.867477,45.897774],[90.880814,45.908325],[90.945526,45.958603],[90.964996,45.973045],[90.991364,45.989433],[91.001663,45.99527],[91.007767,45.997772],[91.012772,46.001106],[91.021103,46.008331],[91.025269,46.013054],[91.028595,46.0186],[91.031097,46.029434],[91.026657,46.108047],[91.02388,46.125824],[91.022217,46.130547],[91.017487,46.134995],[91.003326,46.145546],[90.992752,46.151932],[90.98526,46.159714],[90.978043,46.168884],[90.972488,46.177773],[90.961929,46.197769],[90.92276,46.291107],[90.920258,46.302773],[90.923035,46.315544],[90.929428,46.32444],[90.933594,46.32888],[90.938873,46.332214],[90.956375,46.346657],[90.964706,46.355553],[91.053589,46.523605],[91.058029,46.534439],[91.064148,46.551102],[91.07222,46.573326],[91.070831,46.57972],[91.065811,46.583054],[91.020248,46.600109]]]]},nr=(n(938),n(17));function or(t){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ar(t,e){return(ar=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ir(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=sr(t);if(e){var r=sr(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return cr(this,n)}}function cr(t,e){return!e||"object"!==or(e)&&"function"!=typeof e?lr(t):e}function lr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sr(t){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ar(t,e)}(a,t);var e,n,o,r=ir(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var n=t||{};(e=r.call(this,{element:document.createElement("div"),target:n.target})).toggleLayer=e.toggleLayer.bind(lr(e)),e.initLayer=e.initLayer.bind(lr(e)),e.handleClick=e.handleClick.bind(lr(e)),e.last_active=null;var o=n.layers.map(e.initLayer),i="суурь-давхаргууд ".concat(nr.e," ").concat(nr.b),c=e.element;return c.className=i,o.forEach((function(t){return c.appendChild(t)})),e}return e=a,(n=[{key:"initLayer",value:function(t){var e=this,n=t.thumbnail_1x,o=t.thumbnail_2x,r=t.layer,a=t.is_active,i=document.createElement("a");i.setAttribute("href","#"),i.className="суурь-давхарга"+(a?" active":"");var c=document.createElement("img");return c.srcset="".concat(n," 1x, ").concat(o," 2x"),i.appendChild(c),i.addEventListener("click",(function(t){t.preventDefault(),e.handleClick(i,r)})),this.toggleLayer(!0===a,i,r),i}},{key:"toggleLayer",value:function(t,e,n){this.last_active&&t&&(this.last_active.layer.setVisible(!1),this.last_active.el.classList.toggle("active",!1)),n.setVisible(t),e.classList.toggle("active",t),t&&(this.last_active={el:e,layer:n})}},{key:"handleClick",value:function(t,e){this.last_active&&this.last_active.el===t||this.toggleLayer(!0,t,e)}}])&&rr(e.prototype,n),o&&rr(e,o),a}(D.a);function fr(t){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pr(Object(n),!0).forEach((function(e){mr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hr(t){return function(t){if(Array.isArray(t))return vr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||br(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],o=!0,r=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(o=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);o=!0);}catch(t){r=!0,a=t}finally{try{o||null==c.return||c.return()}finally{if(r)throw a}}return n}(t,e)||br(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(t,e){if(t){if("string"==typeof t)return vr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vr(t,e):void 0}}function vr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function gr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _r(t,e){return(_r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Or(t);if(e){var r=Or(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Er(this,n)}}function Er(t,e){return!e||"object"!==fr(e)&&"function"!=typeof e?Sr(t):e}function Sr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Or(t){return(Or=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_r(t,e)}(i,t);var e,n,o,a=wr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this,t)).featureNames=[],e.featuresForCollection=[],e.sendCoordinateList=[],e.turningPoint=[],e.state={format:new C.a,dataProjection:"EPSG:4326",featureProjection:"EPSG:3857",tid:t.match.params.tid,pid:t.match.params.pid,fid:t.match.params.fid,button_ids:["side","remove","qgis","polygon","point","modify","meta","form","upload","shapeDraw","cancel","add","line","api"],roles:[],is_loading:!0,featureID:null,featureID_list:[],remove_button_active:!1,cancel_button_active:!1,modify_button_active:!1,selectedFeature_ID:null,modifyend_selected_feature_ID:null,modifyend_selected_feature_check:!1,is_selected_feature:!1,changedFeature:"",Mongolia:[11461613.630815497,5878656.0228370065],chkbox:!0,type:"",drawed:null,togle_islaod:!0,geojson:{},null_form_isload:!1,showUpload:!1,is_sidebar_open:!0,wms_map_list:[],isMeta:!1,pointFeature:null,is_not_mongolia:!1,update_geom_from_list:!1,map_wms:[],vector_layer:null,draw_is_active:!1,wms_layer:{},layer_choices:[],emp_perm_prefix:"",wms_url:"",wfs_url:"",api_links:{},is_delete_request:!1},e.controls={modal:new Vo,upload:new Oe,qgis:new mn,api:new Bn,sidebar:new Bo,metaList:new qe,coordList:new Jn},e.modifyE=e.Modify(),e.drawE=e.Draw(),e.addNotif=e.props.addNotif,e.loadMap=e.loadMap.bind(Sr(e)),e.loadData=e.loadData.bind(Sr(e)),e.loadControls=e.loadControls.bind(Sr(e)),e.loadRows=e.loadRows.bind(Sr(e)),e.clearMap=e.clearMap.bind(Sr(e)),e.updateGeom=e.updateGeom.bind(Sr(e)),e.ModifyButton=e.ModifyButton.bind(Sr(e)),e.LineButton=e.LineButton.bind(Sr(e)),e.PointButton=e.PointButton.bind(Sr(e)),e.PolygonButton=e.PolygonButton.bind(Sr(e)),e.SaveBtn=e.SaveBtn.bind(Sr(e)),e.RemoveButton=e.RemoveButton.bind(Sr(e)),e.CancelButton=e.CancelButton.bind(Sr(e)),e.FormButton=e.FormButton.bind(Sr(e)),e.remove=e.remove.bind(Sr(e)),e.requestRemove=e.requestRemove.bind(Sr(e)),e.requestCancel=e.requestCancel.bind(Sr(e)),e.removeModal=e.removeModal.bind(Sr(e)),e.cancelModal=e.cancelModal.bind(Sr(e)),e.modifiedFeature=e.modifiedFeature.bind(Sr(e)),e.featureSelected=e.featureSelected.bind(Sr(e)),e.drawed=e.drawed.bind(Sr(e)),e.snap=e.snap.bind(Sr(e)),e.createGeom=e.createGeom.bind(Sr(e)),e.showUploadBtn=e.showUploadBtn.bind(Sr(e)),e.showQgisBtn=e.showQgisBtn.bind(Sr(e)),e.closeQgisBtn=e.closeQgisBtn.bind(Sr(e)),e.showApiBtn=e.showApiBtn.bind(Sr(e)),e.closeApiBtn=e.closeApiBtn.bind(Sr(e)),e.closeUploadBtn=e.closeUploadBtn.bind(Sr(e)),e.SideBarBtn=e.SideBarBtn.bind(Sr(e)),e.WmsTile=e.WmsTile.bind(Sr(e)),e.mapPointerMove=e.mapPointerMove.bind(Sr(e)),e.onClickCloser=e.onClickCloser.bind(Sr(e)),e.MetaButton=e.MetaButton.bind(Sr(e)),e.getRole=e.getRole.bind(Sr(e)),e.flyTo=e.flyTo.bind(Sr(e)),e.getTurningPoints=e.getTurningPoints.bind(Sr(e)),e.DrawButton=e.DrawButton.bind(Sr(e)),e.updateFromList=e.updateFromList.bind(Sr(e)),e.transformToMapCoordinate=e.transformToMapCoordinate.bind(Sr(e)),e.transformToLatLong=e.transformToLatLong.bind(Sr(e)),e.callModalWithMeta=e.callModalWithMeta.bind(Sr(e)),e.hideMetaList=e.hideMetaList.bind(Sr(e)),e.hideShowList=e.hideShowList.bind(Sr(e)),e.setInActiveButtonStyle=e.setInActiveButtonStyle.bind(Sr(e)),e.getTypeFunction=e.getTypeFunction.bind(Sr(e)),e.handleMapClick=e.handleMapClick.bind(Sr(e)),e.showFeaturesAt=e.showFeaturesAt.bind(Sr(e)),e.resetDrawed=e.resetDrawed.bind(Sr(e)),e.removeDrawedFeature=e.removeDrawedFeature.bind(Sr(e)),e}return e=i,(n=[{key:"componentDidMount",value:function(){var t=this,e=this.state;e.pid,e.fid,Promise.all([Jt.qgisGetUrl(),Jt.apiGetUrl()]).then((function(e){var n=yr(e,2),o=n[0],r=o.wms_url,a=o.wfs_url,i=n[1].api_links;t.setState({wms_url:r,wfs_url:a,api_links:i})})),this.geomType(),this.loadMap()}},{key:"geomType",value:function(){var t=this,e=this.state,n=e.pid,o=e.fid;Jt.geomType(n,o).then((function(e){var n=e.type;t.setState({type:n}),t.loadRows()}))}},{key:"getRole",value:function(){var t=this,e=this.state.fid;Jt.getRole(e).then((function(e){var n=e.success,o=e.roles;n&&t.loadControls(o)}))}},{key:"loadControls",value:function(t){var e=this.map,n=this.state.type;e.addControl(new f.a),e.addControl(this.controls.modal),t.PERM_CREATE&&(n.includes("Line")||n.includes("MultiLine")?e.addControl(new K({LineButton:this.LineButton})):n.includes("Point")||n.includes("MultiPoint")?e.addControl(new ot({PointButton:this.PointButton})):n.includes("Polygon")||n.includes("MultiPolygon")?e.addControl(new st({PolygonButton:this.PolygonButton})):(this.addNotif("warning",n,"times"),e.addControl(new K({LineButton:this.LineButton,null:!0})),e.addControl(new ot({PointButton:this.PointButton,null:!0})),e.addControl(new st({PolygonButton:this.PolygonButton,null:!0})))),(t.PERM_CREATE||t.PERM_UPDATE)&&(e.addControl(new jt({SaveBtn:this.FormButton})),e.addControl(new Ne({MetaButton:this.MetaButton})),e.addControl(this.controls.upload),e.addControl(this.controls.qgis),e.addControl(this.controls.api),e.addControl(this.controls.metaList),e.addControl(this.controls.sidebar),e.addControl(new At({showUploadBtn:this.showUploadBtn})),e.addControl(new en({showQgisBtn:this.showQgisBtn})),this.props.employee.is_admin&&e.addControl(new _n({showApiBtn:this.showApiBtn}))),t.PERM_REMOVE&&e.addControl(new ht({RemoveButton:this.RemoveButton})),t.PERM_REVOKE&&e.addControl(new He({CancelButton:this.CancelButton})),e.addControl(new Kn({SideBarBtn:this.SideBarBtn})),t.PERM_UPDATE&&(e.addControl(this.controls.coordList),e.addControl(new wt({FormButton:this.FormButton})),e.addControl(new J({ModifyButton:this.ModifyButton}))),this.setState({is_loading:!1,roles:t})}},{key:"loadData",value:function(){var t=this.state.wms_layer;this.setState({emp_perm_prefix:t.url});var e={tile:new v.a({source:new M.a({projection:this.state.projection,url:t.url,params:{LAYERS:t.code,FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",exceptions:"application/vnd.ogc.se_inimage"}})})};this.setState({map_wms:e}),e.tile.setZIndex(2),this.map.addLayer(e.tile);var n=(new C.a).readFeatures(er,{dataProjection:this.state.dataProjection,featureProjection:this.state.featureProjection})[0];n.setProperties({id:"Mongolia"}),this.setState({Mongolia_feaure:n}),this.getRole()}},{key:"loadMap",value:function(){var t=this,e=[.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209014892578e-21,1341104507446289e-21,6.705522537231445e-7,3.3527612686157227e-7],n=["EPSG:4326:0","EPSG:4326:1","EPSG:4326:2","EPSG:4326:3","EPSG:4326:4","EPSG:4326:5","EPSG:4326:6","EPSG:4326:7","EPSG:4326:8","EPSG:4326:9","EPSG:4326:10","EPSG:4326:11","EPSG:4326:12","EPSG:4326:13","EPSG:4326:14","EPSG:4326:15","EPSG:4326:16","EPSG:4326:17","EPSG:4326:18","EPSG:4326:19","EPSG:4326:20","EPSG:4326:21"],o=this.props.base_layer_list.reduce((function(o,r,a){var i;return"xyz"==r.tilename&&(i=new F.a({preload:6,source:new x.a({crossOrigin:"Anonymous",url:r.url}),name:"base_layer"})),"wms"==r.tilename&&(i=new v.a({source:new M.a({ratio:1,url:r.url,params:{LAYERS:r.layers,FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",exceptions:"application/vnd.ogc.se_inimage"}}),name:"base_layer"})),"wmts"==r.tilename&&(i=new F.a({source:new L.a({url:r.url,layer:r.layers,matrixSet:"EPSG:4326",format:"image/png",projection:t.state.dataProjection,tileGrid:new I.b({tileSize:[256,256],extent:[-180,-90,180,90],origin:[-180,90],resolutions:e,matrixIds:n}),style:"",wrapX:!0})})),o.base_layers.push(i),o.base_layer_controls.push({is_active:0==a,thumbnail_1x:r.thumbnail_1x,thumbnail_2x:r.thumbnail_2x,layer:i}),o}),{base_layers:[],base_layer_controls:[]}),r=o.base_layers,a=o.base_layer_controls,i=new g.a({source:new k.a,style:new d.c({stroke:new m.a({color:"rgba(100, 255, 0, 1)",width:2}),fill:new h.a({color:"rgba(100, 255, 0, 0.3)"})})});this.setState({vector_layer:i}),i.setZIndex(3);var u=new g.a({source:new k.a,style:new d.c({fill:new h.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new m.a({color:"#ffcc33",width:2}),image:new y.a({radius:7,fill:new h.a({color:"#ffcc33"})})})});this.container=document.getElementById("popup");var f=new c.a({element:this.container,autoPan:!0,autoPanAnimation:{duration:250}}),b=new l.a({layers:[].concat(hr(r),[u,i]),controls:Object(p.a)().extend([new ur({layers:a})]),target:"map",view:new s.a({center:this.state.Mongolia,zoom:5}),overlays:[f]});this.map=b,this.overlay=f,this.vector=u,this.vector_layer=i,this.snap(u),this.setState({type:"Point"}),this.modifyE.funct();var _=this.props.allowed_geom;if(_){var w=new C.a({dataProjection:this.state.dataProjection,featureProjection:this.state.featureProjection}).readFeatures(_);this.map.getView().fit(w[0].getGeometry(),{padding:[50,50,50,50],duration:3e3})}}},{key:"handleMapClick",value:function(t){var e=t.coordinate;this.state.draw_is_active||this.showFeaturesAt(e),this.drawE.getActive()&&(this.xyCheckInMongolia(e)||(this.addNotif("warning","Монгол улсын газар нутагт байх ёстой","exclamation"),this.drawE.setActive(!1),this.onClickCloser(),this.drawE.setActive(!0)))}},{key:"showFeaturesAt",value:function(t){var e=this,n=this.map.getView(),o=n.getProjection(),r=n.getResolution();this.setState({pay_modal_check:!1});var a=this.state.map_wms.tile.getSource(),i=a.getFeatureInfoUrl(t,r,o,{INFO_FORMAT:"application/vnd.ogc.gml"});i?fetch(i).then((function(t){return t.text()})).then((function(t){var n=(new T.a).readFeatures(t);if(n.length>0){var o=new k.a({features:n}),r=n.map((function(t){var e=t.getGeometryName(),n=t.getKeys().filter((function(t){return t!=e})).map((function(e){return[e,t.get(e)]}));return[t.getId(),n]}));r.length>0&&r.map((function(t,n){var r=yr(t,2);r[0],r[1].map((function(t,n){var r=yr(t,2),a=r[0],i=r[1];"inspire_id"==a&&(e.state.selectedFeature_ID!=i&&e.state.vector_layer.setSource(o),e.setState({selectedFeature_ID:i,is_selected_feature:!0}))}))}))}})):console.log("no feature url",a)}},{key:"Modify",value:function(){var t=this;return{funct:function(){var e=new _.a;t.map.on("click",t.handleMapClick),t.map.addInteraction(e),e.on("select",(function(e){return t.featureSelected(e)}));var n=new w.a({features:e.getFeatures()});n.on("modifystart",(function(e){return t.mapPointerMove(e)})),n.on("modifyend",(function(e){return t.modifiedFeature(e)})),t.map.addInteraction(n),t.select=e,t.modify=n,t.modifyE.setEvents()},setEvents:function(){var e=t.select.getFeatures();t.select.on("change:active",(function(){e.forEach((function(t){e.remove(t)}))}))},setActive:function(e){t.select.setActive(e),t.modify.setActive(e)}}}},{key:"featureSelected",value:function(t){if(t.selected[0])if(this.state.isMeta){var e=t.selected[0];this.collectFeatures(e)}else{this.state.modify_button_active&&this.addNotif("warning","CTRL+MOUSE зэрэг дарж байгаад зурж цэгийн мэдээллийг харж болно","exclamation"),this.removeTurning();var n=this.state.featureID_list;if(this.state.modify_button_active){var o=t.selected;this.setState({is_not_mongolia:!1});var r=this.state.format.writeFeatureObject(o[0],{dataProjection:this.state.dataProjection,featureProjection:this.state.featureProjection}),a=JSON.stringify(r);this.setState({changedFeature:a,modifyend_selected_feature_check:!0})}this.state.modify_button_active&&this.DrawButton();var i=this.state.selectedFeature_ID;if(this.setState({is_selected_feature:!0,featureID_list:n,selectedFeature_ID:i,modifyend_selected_feature_ID:i,null_form_isload:!1,selected_feature:t.selected[0]}),n.push(i),this.state.remove_button_active&&this.removeModal(),this.state.cancel_button_active){var c=t.selected[0];this.setState({geom_for_revoke:c}),this.cancelModal()}}else this.setState({is_selected_feature:!1})}},{key:"collectFeatures",value:function(t){var e=this.select.getFeatures();this.featureNames.push(t.get("inspire_id")),this.featuresForCollection.push(t),this.featuresForCollection.map((function(t,n){e.push(t)})),this.controls.metaList.showMetaList(!0,this.featureNames,this.callModalWithMeta,this.addNotif)}},{key:"getTypeFunction",value:function(t){var e=null;return t.getType().includes("Polygon")&&(e=t.getPolygons()),t.getType().includes("Line")&&(e=t.getLineStrings()),t.getType().includes("Point")&&(e=t.getPoints()),e}},{key:"checkInMongolia",value:function(t){var e=this,n=!0,o=this.state.Mongolia_feaure;this.feature_coordinates=[];var r=t[0].getGeometry().getType();if(t.map((function(t,n){r.includes("Multi")?e.getTypeFunction(t.getGeometry()).map((function(t,n){t.getCoordinates().map((function(t,n){e.feature_coordinates.push(t)}))})):t.getGeometry().getCoordinates().map((function(t,n){e.feature_coordinates.push(t)}))})),r.includes("Poly")&&(this.feature_coordinates=this.feature_coordinates[0]),r.includes("Point"))o.getGeometry().containsXY(this.feature_coordinates[0],this.feature_coordinates[1])||(n=!1);else for(var a=0;a<this.feature_coordinates.length;a++)if(!o.getGeometry().containsXY(this.feature_coordinates[a][0],this.feature_coordinates[a][1])){n=!1;break}return n}},{key:"xyCheckInMongolia",value:function(t){return this.state.Mongolia_feaure.getGeometry().containsXY(t[0],t[1])}},{key:"modifiedFeature",value:function(t){var e=t.features.getArray();if(this.checkInMongolia(e)){this.setState({is_not_mongolia:!1});var n=this.state.format.writeFeatureObject(e[0],{dataProjection:this.state.dataProjection,featureProjection:this.state.featureProjection}),o=JSON.stringify(n);this.setState({changedFeature:o,modifyend_selected_feature_check:!0})}else this.setState({xChange:null,yChange:null}),this.setState({is_not_mongolia:!0}),this.addNotif("warning","Монгол улсын газар нутагт байх ёстой","exclamation");this.onClickCloser()}},{key:"mapPointerMove",value:function(t){var e=this,n=this.map,o=this.overlay,r=this.state;r.content,r.is_not_mongolia?this.removeDrawedFeature():(this.content=document.getElementById("popup-content"),this.key=n.on("pointermove",(function(t){var n=t.coordinate,r=t.map.getView().getProjection(),a=Object(P.p)(n,r.code_,e.state.dataProjection),i=Object(N.f)(a,"{y}",6),c=Object(N.f)(a,"{x}",6);e.setState({xChange:c,yChange:i}),o.setPosition(n)})))}},{key:"removeDrawedFeature",value:function(){var t=this.vector.getSource().getFeatures();if(t.length>0){var e=t[t.length-1];this.vector.getSource().removeFeature(e)}}},{key:"onClickCloser",value:function(){var t=this.overlay;this.closer=document.getElementById("popup-closer");var e=this.closer;t.setPosition(void 0),e.blur(),Object(j.b)(this.key)}},{key:"loadRows",value:function(){var t=this;Jt.getWmsLayer(this.state.tid,this.state.pid,this.state.fid).then((function(e){t.setState({wms_layer:e}),t.loadData()}))}},{key:"Draw",value:function(){var t=this;return{init:function(e){t.map.addInteraction(e),e.setActive(!1)},getActive:function(){return!!t.draw&&t.draw.getActive()},setActive:function(e){e?t.draw.setActive(!0):t.draw.setActive(!1)}}}},{key:"componentDidUpdate",value:function(t,e){var n=this,o=t.match.params.oid,r=e.roles,a=this.state.roles,i=this.props.match.params.oid,c=this.state.type;if(e.type!==c){this.map.removeInteraction(this.draw);var l=new E.b({source:this.vector.getSource(),type:c});this.snap(this.vector),this.draw=l,l.setActive(!0),this.modifyE.setActive(!1),this.drawE.init(l),l.on("drawstart",(function(t){return n.mapPointerMove(t)})),l.on("drawend",(function(t){return n.drawed(t)}))}o!=i&&this.setState({oid:i},(function(){n.loadRows()})),r!=a&&this.setState({roles:a}),e.changedFeature!==this.state.changedFeature&&this.setState({changedFeature:this.state.changedFeature})}},{key:"setInActiveButtonStyle",value:function(t,e){var n=this.state.button_ids;t?(document.getElementById("⚙-toggle-"+t+"-id").style.backgroundColor="rgba(0,60,136,9.5)",n.map((function(n,o){if(n!=t&&n!=e){var r=document.getElementById("⚙-toggle-"+n+"-id");r&&(r.style.backgroundColor="rgba(0,60,136,0.5)")}}))):n.map((function(t,e){var n=document.getElementById("⚙-toggle-"+t+"-id");n&&(n.style.backgroundColor="rgba(0,60,136,0.5)")}))}},{key:"snap",value:function(t){var e=new S.a({source:t.getSource()});this.map.addInteraction(e)}},{key:"drawed",value:function(t){var e=this.vector.getSource().getFeatures();if(this.setState({modifyend_selected_feature_ID:null}),e.length>0){var n=e[e.length-1];this.vector.getSource().removeFeature(n)}var o=t.feature;if(this.checkInMongolia([o])){this.setState({is_not_mongolia:!1}),this.state.featureID;var r=this.state.format.writeFeatureObject(o,{dataProjection:this.state.dataProjection,featureProjection:this.state.featureProjection}),a=JSON.stringify(r);this.setState({drawed:a,selectedFeature_ID:null,null_form_isload:!0})}else this.setState({is_not_mongolia:!0}),this.addNotif("warning","Монгол улсын газар нутагт байх ёстой","exclamation");this.onClickCloser()}},{key:"clearMap",value:function(){this.vector.getSource().clear()}},{key:"RemoveButton",value:function(){this.hideMetaList(),this.drawE.setActive(!1),this.modifyE.setActive(!0),this.setState({draw_is_active:!1}),this.state.remove_button_active?(this.setState({remove_button_active:!1}),this.setInActiveButtonStyle()):(this.setInActiveButtonStyle("remove"),this.setState({remove_button_active:!0,modify_button_active:!1,cancel_button_active:!1}))}},{key:"FormButton",value:function(t){var e=this.state,n=e.remove_button_active,o=e.togle_islaod,r=e.modify_button_active;t?this.setInActiveButtonStyle(t):(n&&this.setInActiveButtonStyle("form","remove"),r&&this.setInActiveButtonStyle("form","modify"),n||r||this.setInActiveButtonStyle("form")),!o&&n?this.setInActiveButtonStyle("remove"):!o&&r?this.setInActiveButtonStyle("modify"):o||n||r||this.setInActiveButtonStyle(),this.setState((function(t){return{togle_islaod:!t.togle_islaod}}))}},{key:"removeModal",value:function(t){var e=this;this.state.selectedFeature_ID?this.controls.modal.showModal((function(){return e.remove(t)}),!0,"Тийм","".concat(this.state.selectedFeature_ID," дугаартай мэдээллийг хянуулах уу"),null,"danger","Үгүй"):this.state.drawed?this.controls.modal.showModal(this.remove,!0,"Тийм","Шинээр үүссэн цэгийг устгах уу",null,"danger","Үгүй"):this.addNotif("danger","Хоосон байна идэвхжүүлнэ үү","times")}},{key:"requestRemove",value:function(t){var e=this,n=this.state.tid,o=this.state.fid,r=this.state.pid,a=this.state.selectedFeature_ID;Jt.createDel(n,r,o,a,t).then((function(t){var n=t.success,o=t.info;n?(e.props.refreshCount(),e.addNotif("success",o,"check"),e.setState({featureID_list:[],selectedFeature_ID:null,togle_islaod:!0})):(e.addNotif("danger",o,"warning"),e.setState({featureID_list:[],selectedFeature_ID:null,togle_islaod:!0}))}))}},{key:"remove",value:function(t){var e=this.vector,n=this.state,o=(n.tid,n.fid,n.pid,n.selectedFeature_ID),r=e.getSource().getFeatures();o?this.setState({togle_islaod:!1}):null!=r&&r.length>0&&(r.map((function(t){t.getProperties().id==o&&e.getSource().removeFeature(t)})),this.addNotif("success","Шинээр үүссэн мэдээллийг устгав.","check"),this.setState({featureID_list:[],drawed:null}))}},{key:"CancelButton",value:function(){this.hideMetaList(),this.drawE.setActive(!1),this.modifyE.setActive(!0),this.state.cancel_button_active?(this.setState({cancel_button_active:!1}),this.setInActiveButtonStyle(),this.modifyE.setActive(!1)):(this.setInActiveButtonStyle("cancel"),this.setState({cancel_button_active:!0,modify_button_active:!1}))}},{key:"cancelModal",value:function(){var t=this;this.state.selectedFeature_ID?this.controls.modal.showModal((function(){return t.setState({togle_islaod:!1})}),!0,"Тийм","".concat(this.state.selectedFeature_ID," дугаартай мэдээллийг цуцлах уу"),null,"danger","Үгүй"):this.state.drawed?this.controls.modal.showModal((function(){return t.setState({togle_islaod:!1})}),!0,"Тийм","Шинээр үүссэн цэгийг цуцлах уу",null,"danger","Үгүй"):this.addNotif("danger","Хоосон байна идэвхжүүлнэ үү","times")}},{key:"requestCancel",value:function(t,e,n){var o=this,r=this.state,a=r.tid,i=r.fid,c=r.pid,l=r.selectedFeature_ID,s=r.geom_for_revoke,u=this.writeFeat(s),f=JSON.parse(u).geometry,p=new Object;p.form_values=n,Jt.cancel(c,i,a,l,f,p,e,t).then((function(t){var e=t.success,n=t.info;e?(o.addNotif("success",n,"check"),o.setState({featureID_list:[],selectedFeature_ID:null,togle_islaod:!0}),o.props.refreshCount()):o.addNotif("danger",n,"times")}))}},{key:"resetDrawed",value:function(){this.removeDrawedFeature(),this.setState({is_loading:!1,geojson:{},togle_islaod:!0})}},{key:"SaveBtn",value:function(t){var e=this;this.hideMetaList();var n=this.state,o=n.modifyend_selected_feature_ID,r=n.modifyend_selected_feature_check,a=n.update_geom_from_list,i=n.build_name;o?r||a?(this.controls.modal.showModal((function(){return e.updateGeom(t)}),!0,"Тийм","".concat(o||i," дугаартай мэдээллийг хянуулах уу"),null,"warning","Үгүй"),this.setState({modifyend_selected_feature_check:!1,update_geom_from_list:!1})):this.addNotif("warning","Өөрчлөлт алга байна.","exclamation"):this.state.drawed?this.controls.modal.showModal(this.createGeom,!0,"Тийм","Мэдээллийг шинээр үүсгэх үү.",null,"warning","Үгүй",this.resetDrawed):this.addNotif("warning","Шинэ мэдээлэл алга байна.","exclamation")}},{key:"updateGeom",value:function(t){var e=this,n=this.state,o=n.tid,r=n.fid,a=n.pid;if(n.is_not_mongolia)this.addNotif("warning","Монгол улсын газарт байгаа эсэхийг шалгана уу","exclamation");else{var i=this.state.selectedFeature_ID,c=this.state,l=c.changedFeature,s=c.changedJson;this.feature="",this.feature=s||l;var u=JSON.parse(this.feature).geometry;this.setState({is_loading:!0}),Jt.createUpd(o,a,r,t,u,i).then((function(t){var n=t.success,o=t.info;n?(e.addNotif("success",o,"check"),e.props.refreshCount(),e.setState({is_loading:!1})):(e.addNotif("danger",o,"times"),e.setState({is_loading:!1}))}))}}},{key:"createGeom",value:function(){if(this.state.is_not_mongolia)this.addNotif("warning","Монгол улсын газарт байгаа эсэхийг шалгана уу","exclamation");else{this.state.fid;var t=JSON.parse(this.state.drawed).geometry;this.setState({is_loading:!1,geojson:t,togle_islaod:!1})}this.is_save=!0}},{key:"ModifyButton",value:function(){this.state.modify_button_active?(this.setState({modify_button_active:!1}),this.setInActiveButtonStyle()):(this.setInActiveButtonStyle("modify"),this.DrawButton(),this.setState({modify_button_active:!0,remove_button_active:!1,cancel_button_active:!1})),this.setState({draw_is_active:!1}),this.drawE.setActive(!1),this.modifyE.setActive(!0),this.hideMetaList()}},{key:"LineButton",value:function(){this.setInActiveButtonStyle("line"),this.setState({modify_button_active:!1,remove_button_active:!1,cancel_button_active:!1}),this.setState({type:"LineString"}),this.drawE.getActive(),this.drawE.setActive(!0),this.modifyE.setActive(!1),this.hideMetaList()}},{key:"PointButton",value:function(){this.setInActiveButtonStyle("point"),this.setState({modify_button_active:!1,remove_button_active:!1,cancel_button_active:!1}),this.setState({type:"Point"}),this.drawE.getActive(),this.drawE.setActive(!0),this.modifyE.setActive(!1),this.hideMetaList()}},{key:"PolygonButton",value:function(){this.setInActiveButtonStyle("polygon"),this.setState({modify_button_active:!1,remove_button_active:!1,cancel_button_active:!1}),this.setState({type:"Polygon"}),this.drawE.getActive(),this.drawE.setActive(!0),this.modifyE.setActive(!1),this.hideMetaList()}},{key:"MetaButton",value:function(){this.drawE.getActive(),this.drawE.setActive(!1),this.modifyE.setActive(!1),this.select.setActive(!0),this.state.isMeta?(this.hideMetaList(),this.setInActiveButtonStyle()):(this.setInActiveButtonStyle("meta"),this.setState({isMeta:!0,draw_is_active:!1,remove_button_active:!1,cancel_button_active:!1,togle_islaod:!0}))}},{key:"showUploadBtn",value:function(){this.setInActiveButtonStyle("upload"),this.setState({draw_is_active:!1,remove_button_active:!1,cancel_button_active:!1}),this.controls.upload.showUpload(!0,this.state.fid,this.closeUploadBtn,this.props.refreshCount,this.addNotif,this.props.match.params.tid,this.props.match.params.pid)}},{key:"showQgisBtn",value:function(){this.setInActiveButtonStyle("qgis"),this.controls.qgis.showUpload(!0,this.closeQgisBtn,this.addNotif,this.state.wfs_url,this.state.wms_url)}},{key:"showApiBtn",value:function(){this.setInActiveButtonStyle("api");var t=this.state.api_links,e=t.create,n=t.remove,o=t.update,r=t.select,a=t.token_auth;this.controls.api.showApi(!0,this.closeApiBtn,this.addNotif,e,n,o,r,a)}},{key:"closeQgisBtn",value:function(){this.controls.qgis.showUpload(!1)}},{key:"closeApiBtn",value:function(){this.controls.api.showApi(!1)}},{key:"closeUploadBtn",value:function(){this.controls.upload.showUpload(!1),this.setState({showUpload:!1})}},{key:"SideBarBtn",value:function(){var t=this;this.setInActiveButtonStyle("side"),Jt.getLayers(this.state.emp_perm_prefix).then((function(e){t.setState({layer_choices:e}),t.WmsTile(e)}))}},{key:"WmsTile",value:function(t){var e=this,n=this.map,o={name:"Таны харах эрхтэй давхаргууд",layers:t.slice(1,t.length).map((function(t){return dr(dr({},t),{},{tile:new v.a({source:new M.a({url:e.state.emp_perm_prefix,params:{LAYERS:t.code,FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",exceptions:"application/vnd.ogc.se_inimage"},serverType:"geoserver",transition:0})})})}))};this.setState({wms_map_list:o}),o.layers.map((function(t,e){n.addLayer(t.tile),t.tile.setVisible(!1),t.legend=t.tile.getSource().getLegendUrl()})),this.setState((function(t){return{is_sidebar_open:!t.is_sidebar_open}})),this.state.is_sidebar_open?this.controls.sidebar.showSideBar(o,!0):this.controls.sidebar.showSideBar(o,!1)}},{key:"getTurningPoints",value:function(t,e){var n=[],o="";t&&(o=t.getGeometry());for(var r=0;r<e.length;r++)if(o.containsXY(e[r][0],e[r][1])){var a={coordinate:e[r],turning:r+1};n.push(a)}return n}},{key:"addMarker",value:function(t){var e=t.coordinate,n=t.turning.toString(),o=[e[0],e[1]],r=this.vector_layer.getSource(),a=new B.a(o),i=new u.a({geometry:a,id:"TurningPoint"}),c=new d.c({image:new y.a({radius:5,fill:new h.a({color:"#2F9A00"})}),text:new b.a({text:n,font:"30px Calibri,sans-serif",stroke:new m.a({color:"white",width:3}),offsetY:-18})});i.setStyle(c),r.addFeature(i),this.setState({pointFeature:i})}},{key:"sendToShowList",value:function(t){var e=this,n=null,o=null;n=t.geometry?t.geometry.getCoordinates()[0]:[t.geom],this.list=[],this.transformToLatLong(n).map((function(n,o){var r={geom:n,turning:t.turning?t.turning[o]:null};e.list.push(r)})),o=t.id?t.id:this.state.build_name;var r={data:this.list,id:o,last:t.last,type:t.type};this.controls.coordList.showList(!0,r,this.flyTo,(function(){return e.listToModal()}),this.updateFromList)}},{key:"DrawButton",value:function(){var t=this,e=new O.a({condition:R.j});this.map.addInteraction(e),e.setActive(!0),e.on("boxstart",(function(){return t.BoxStart()})),e.on("boxend",(function(){return t.BoxEnd(e)})),this.dragBox=e}},{key:"removeTurning",value:function(){var t=this.state.pointFeature;if(null!==t){var e=this.vector_layer.getSource(),n=e.getFeatures();null!=n&&n.length>0&&n.map((function(n){n.getProperties().id==t.get("id")&&e.removeFeature(n)})),this.setState({pointFeature:null})}}},{key:"BoxStart",value:function(){this.removeTurning(),this.select.getFeatures().clear()}},{key:"BoxEnd",value:function(t){var e=this,n=this.state.selected_feature;if(n){var o=this.select.getFeatures();t.getGeometry().getExtent(),this.sendCoordinateList=[],this.turningPoint=[];var r=n.getGeometry().getType();this.feat_type=r;var a=[];r.includes("MultiPolygon")?this.getTypeFunction(n.getGeometry()).map((function(t,e){a=t})):a=n,(r.includes("MultiPolygon")?a.getCoordinates():r.includes("MultiPoint")?[a.getGeometry().getCoordinates()]:"Point"==r?[[a.getGeometry().getCoordinates()]]:a.getGeometry().getCoordinates()).map((function(a,i){var c=a.length;e.lastElement=c;var l=e.getTurningPoints(t,a);o.push(n),e.setState({build_name:n.get("inspire_id"),coord_list_geom:a}),l.map((function(t,n){e.sendCoordinateList.push(t.coordinate),e.turningPoint.push(t.turning),(r.includes("Line")||!r.includes("Point")&&r.includes("Polygon")&&c!==t.turning)&&e.addMarker(t)}))}));var i={geom:this.sendCoordinateList,turning:this.turningPoint,last:this.lastElement,type:this.feat_type};this.sendToShowList(i)}else this.addNotif("warning","Сонгосон геомоо идэвхжүүлэх ёстой","exclamation")}},{key:"listToModal",value:function(){var t=this;this.controls.modal.showModal((function(){return t.hideShowList()}),!0,"Тийм","Буцахдаа итгэлтэй байна уу",null,"danger","Үгүй")}},{key:"hideShowList",value:function(){this.controls.coordList.showList(!1),this.select.setActive(!1),this.removeTurning()}},{key:"transformToLatLong",value:function(t){var e=this;return t[0].map((function(t,n){return Object(P.p)(t,e.state.featureProjection,e.state.dataProjection)}))}},{key:"transformToMapCoordinate",value:function(t){var e=this;return t.map((function(t,n){return Object(P.p)(t,e.state.dataProjection,e.state.featureProjection)}))}},{key:"flyTo",value:function(t){var e=this.map.getView(),n=Object(P.d)(t);e.animate({center:n,duration:2e3,zoom:25})}},{key:"updateFromList",value:function(t){var e=this,n=t.id,o=t.data.map((function(t){var n=t.geom,o=t.turning;return{conv_geom:Object(P.p)(n,e.state.dataProjection,e.state.featureProjection),turning:o}})),r=this.state.selected_feature,a=r.get("inspire_id");if(a==n){var i=r.getGeometry().getType(),c=r.getGeometry().getCoordinates();i.includes("MultiPolygon")?c.map((function(t,e){t.map((function(t,n){o.map((function(t){var o=t.conv_geom,r=t.turning;c[e][n][r-1]=o}))}))})):"Point"==i?o.map((function(t){var e=t.conv_geom;(function(t){throw new TypeError('"'+t+'" is read-only')})("geom_coordinate"),c=e})):"MultiPoint"==i?o.map((function(t){var e=t.conv_geom,n=t.turning;c[n-1]=e})):c.map((function(t,e){o.map((function(t){var n=t.conv_geom,o=t.turning;c[e][o-1]=n}))}));var l=new A[i](c),s=new u.a({geometry:l,id:a}),f=this.writeFeat(s);this.setState({changedJson:f,is_not_mongolia:!1,update_geom_from_list:!0,null_form_isload:!1}),this.FormButton(),this.hideShowList()}}},{key:"writeFeat",value:function(t){var e=this.state.format.writeFeatureObject(t,{dataProjection:this.state.dataProjection,featureProjection:this.state.featureProjection});return JSON.stringify(e)}},{key:"callModalWithMeta",value:function(t,e){var n=null;n=e||this.hideMetaList,this.controls.modal.showModal(n,!0,"Тийм",t,null,"danger","Үгүй")}},{key:"hideMetaList",value:function(){this.featureNames=[],this.featuresForCollection=[],this.state.isMeta&&this.controls.metaList.showMetaList(!1),this.setState({isMeta:!1}),this.state.modify_button_active||this.select.setActive(!1)}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:this.state.togle_islaod?"toggled":"",id:"wrapper-map"},r.a.createElement("div",{id:"sidebar-wrapper-map",className:"overflow-auto"},r.a.createElement("div",{className:"card-body"},r.a.createElement(tr,{tid:this.props.match.params.tid,pid:this.props.match.params.pid,fid:this.props.match.params.fid,geojson:this.state.geojson,gid:this.state.selectedFeature_ID,togle_islaod:this.state.togle_islaod,null_form_isload:this.state.null_form_isload,addNotif:this.addNotif,SaveBtn:this.SaveBtn,requestRefreshCount:this.props.refreshCount,modifyend_selected_feature_check:this.state.modifyend_selected_feature_check,requestRemove:this.requestRemove,requestCancel:this.requestCancel,remove_button_active:this.state.remove_button_active,cancel_button_active:this.state.cancel_button_active,update_geom_from_list:this.state.update_geom_from_list,is_delete_request:this.state.is_delete_request}))),r.a.createElement("div",{className:"content-wrapper-map"},r.a.createElement("div",{id:"map",className:this.state.is_loading?"opac":""}),r.a.createElement("div",{id:"popup",className:"ol-popup"},r.a.createElement("a",{href:"#",id:"popup-closer",className:"ol-popup-closer"}),r.a.createElement("div",{id:"popup-content"},r.a.createElement("span",null,this.state.xChange||""),r.a.createElement("span",null,this.state.yChange||""))))),this.state.is_loading?r.a.createElement("span",{className:"text-center d-block text-sp",style:{position:"fixed",top:"50%",left:"50%"}}," ",r.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"})," ",r.a.createElement("br",null)," Түр хүлээнэ үү... "):null)}}])&&gr(e.prototype,n),o&&gr(e,o),i}(o.Component);function kr(t){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jr(){return(jr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function Cr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Pr(t,e){return(Pr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ar(t);if(e){var r=Ar(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Rr(this,n)}}function Rr(t,e){return!e||"object"!==kr(e)&&"function"!=typeof e?Br(t):e}function Br(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ar(t){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pr(t,e)}(l,t);var e,n,o,c=Nr(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=c.call(this,t)).too=0,e.state={show:!1,org_geom:e.props.org_geom},e.addNotif=e.addNotif.bind(Br(e)),e}return e=l,(n=[{key:"addNotif",value:function(t,e,n){var o=this;this.too++,this.setState({show:!0,style:t,msg:e,icon:n});var r=setInterval((function(){o.too--,o.setState({show:!0}),clearInterval(r)}),2e3)}},{key:"componentDidMount",value:function(){var t=this.props.match.params,e=t.tid,n=t.pid,o=t.fid;this.props.history.push("/gov/org/map/".concat(e,"/").concat(n,"/").concat(o,"/map/"))}},{key:"componentDidUpdate",value:function(t){if(t.match.params.fid!==this.props.match.params.fid){var e=this.props.match.params,n=e.tid,o=e.pid,r=e.fid;this.props.history.push("/gov/org/map/".concat(n,"/").concat(o,"/").concat(r,"/map/"))}t.org_geom!==this.props.org_geom&&this.setState({org_geom:this.props.org_geom})}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"card"},r.a.createElement(i.a,{show:this.state.show,too:this.too,style:this.state.style,msg:this.state.msg,icon:this.state.icon}),r.a.createElement(a.c,null,r.a.createElement(a.a,{path:"/gov/org/map/:tid/:pid/:fid/map/",render:function(e){return r.a.createElement(xr,jr({},e,{addNotif:t.addNotif,refreshCount:t.props.refreshCount,employee:t.props.employee,base_layer_list:t.props.base_layer_list,allowed_geom:t.state.org_geom}))}})))}}])&&Cr(e.prototype,n),o&&Cr(e,o),l}(o.Component)}}]);
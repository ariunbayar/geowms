(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{903:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return wt}));var n=a(0),r=a.n(n),o=a(15),l=a(104),i=a.n(l),s=a(30),c=a(21),u=a(49);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){h(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var f={tsegPersonal:function(e){var t=m(m({},Object(u.b)()),{},{body:e});return fetch("".concat(d,"/"),t).then(u.c)},tsegPersonalList:function(e,t,a){var n=m(m({},Object(u.b)()),{},{body:JSON.stringify({page:e,perpage:t,query:a})});return fetch("".concat(d,"/list/"),n).then(u.c)},tsegPersonalRemove:function(e,t){var a=m(m({},Object(u.b)()),{},{body:JSON.stringify({id:e,t_type:t})});return fetch("".concat(d,"/remove/"),a).then(u.c)},updateTseg:function(e,t){var a=m(m({},Object(u.b)()),{},{body:JSON.stringify({id:e,geo_id:t})});return fetch("".concat(d,"/update/"),a).then(u.c)},searchTseg:function(e){var t=m(m({},Object(u.b)()),{},{body:JSON.stringify({query:e})});return fetch("".concat(d,"/search/"),t).then(u.c)},tsegPersonalSuccess:function(e,t,a,n){var r=m(m({},Object(u.b)()),{},{body:JSON.stringify({point_type:e,objectid:t,point_class:a,t_type:n})});return fetch("".concat(d,"/batalgaajuulah/"),r).then(u.c)},findSum:function(e,t){var a=m(m({},Object(u.b)()),{},{body:JSON.stringify({x:t,y:e})});return fetch("".concat(d,"/findSum/"),a).then(u.c)},searchTsegName:function(e,t){var a=m(m({},Object(u.b)()),{},{body:JSON.stringify({name:e,query:t})});return fetch("".concat(d,"/searchName/"),a).then(u.c)},getFieldValue:function(){var e=m({},Object(u.a)());return fetch("".concat(d,"/get-field-values/"),e).then(u.c)},successPoint:function(e){var t=m({},Object(u.a)());return fetch("".concat(d,"/success-point/").concat(e,"/"),t).then(u.c)},rejectPoint:function(e){var t=m({},Object(u.a)());return fetch("".concat(d,"/remove-point/").concat(e,"/"),t).then(u.c)},getInspireList:function(e,t,a,n){var r=m(m({},Object(u.b)()),{},{body:JSON.stringify({page:e,perpage:t,query:a,sort_name:n})});return fetch("".concat(d,"/get-inspire-list/"),r).then(u.c)},getTseg:function(e,t){var a=m(m({},Object(u.b)()),{},{body:JSON.stringify({id:e,geo_id:t})});return fetch("".concat(d,"/get-tseg/"),a).then(u.c)},getEmpRole:function(){var e=m({},Object(u.a)());return fetch("".concat(d,"/tseg-roles/"),e).then(u.c)}},d="/gov/api/tseg-personal";var g=a(35),_=Object(g.c)().shape({suljeenii_torol:Object(g.d)().required("Хоосон байна!"),ondor:Object(g.d)().required("Хоосон байна!"),date:Object(g.d)().required("Хоосон байна!"),hotolson:Object(g.d)().max(100,"100-с илүүгүй урттай оруулна уу!").required("Хоосон байна!"),alban_tushaal:Object(g.d)().max(200,"200-с илүүгүй урттай оруулна уу!").required("Хоосон байна!"),alban_baiguullga:Object(g.d)().max(200,"200-с илүүгүй урттай оруулна уу!").required("Хоосон байна!")}),b=a(952),y=a(71);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){j(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function j(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function x(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=B(e);if(t){var r=B(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return P(this,a)}}function P(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(u,e);var t,a,o,l=N(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).datalist=[],t.error_msg=[],t.x=[],t.state={id:"",values:{suljeenii_torol:"",sudalga_or_shine:"",date:"",hotolson:"",alban_tushaal:"",alban_baiguullga:"",center_typ:"",ondor:"",ondor_torol:"",pid:""},only_see:e.only_see,no_buttons:e.no_buttons,tesgiin_ner:"",toviin_dugaar:"",hors_shinj_baidal:"",BA:"",BB:"",BC:"",LA:"",LB:"",LC:"",zone:"",cc:"",latlongx:"",latlongy:"",trapetsiin_dugaar:"",sum_name:"",barishil_tuhai:"",real_sum:"",aimag_name:"",sum_ners:"",point_class:"",file_path1:null,file_path11:null,file_path1_error:!1,file_path2:null,file_path22:null,file_path2_error:!1,tseg_oiroos_img_url:"",tseg_holoos_img_url:"",tseg_holoos_img_url_zurag:"",tseg_oiroos_img_url_zurag:"",bairshil_tseg_oiroos_img_url:"",bairshil_tseg_holoos_img_url:"",bairshil_tseg_holoos_img_url_zurag:"",bairshil_tseg_oiroos_img_url_zurag:"",name_error:!1,id_error:!1,checkError:[],error_msg:"",error:{error:""},hors_error:!1,names:[],points_ids:[],hors_shinj_baidal_list:[],checkNull:[],bairshil_error:!1,modal_status:"closed",geo_id:"",point_role_list:e.point_role_list},t.onDrop=t.onDrop.bind(C(t)),t.onChangeHandler=t.onChangeHandler.bind(C(t)),t.tsegUpdate=t.tsegUpdate.bind(C(t)),t.handleSubmit=t.handleSubmit.bind(C(t)),t.handleXY=t.handleXY.bind(C(t)),t.handleOnchange=t.handleOnchange.bind(C(t)),t.handleBoxLeave=t.handleBoxLeave.bind(C(t)),t.handleBoxOver=t.handleBoxOver.bind(C(t)),t.handleInput=t.handleInput.bind(C(t)),t.handleCoordinatCheck=t.handleCoordinatCheck.bind(C(t)),t.handleSearchWithName=t.handleSearchWithName.bind(C(t)),t.checkError=t.checkError.bind(C(t)),t.handleModalOpen=t.handleModalOpen.bind(C(t)),t.getFieldValues=t.getFieldValues.bind(C(t)),t.successPoint=t.successPoint.bind(C(t)),t.rejectPoint=t.rejectPoint.bind(C(t)),t.loadTseg=t.loadTseg.bind(C(t)),t.modalChange=t.modalChange.bind(C(t)),t}return t=u,(a=[{key:"handleBoxOver",value:function(e){this.setState({showBox:!0})}},{key:"handleBoxLeave",value:function(e){this.setState({showBox:!1})}},{key:"getFieldValues",value:function(){var e=this;f.getFieldValue().then((function(t){var a=t.point_classes,n=t.point_types;e.setState({point_classes:a,point_types:n})}))}},{key:"componentDidMount",value:function(){this.getFieldValues();var e=this.props.data.match.params.id,t=this.props.data.match.params.geo_id;this.props.data.match.params.t_type,(e||t)&&this.tsegUpdate(e,t)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.point_role_list;e.point_role_list!==a&&this.setState({point_role_list:a})}},{key:"optionVal",value:function(e){var t=this;this.datalist=[],e.map((function(e,a){t.datalist.push(r.a.createElement("option",{key:a,value:e.tseg}))}))}},{key:"handleSearchWithName",value:function(e,t){var a=this;this.setState(j({},e,t.target.value)),0==t.target.value.length?(this.error_msg=[],this.error_msg.push(r.a.createElement("div",{className:"text-danger"},"Хоосон байна.")),this.error_msg.length>0&&this.setState({checkError:this.state.error})):this.error_msg=[],t.target.value.length>=1&&"hors_shinj_baidal"==e&&f.searchTsegName(t.target.name,t.target.value).then((function(e){var t=e.hors_shinj_baidal_list,n=e.point_ids,r=e.names;r?(a.optionVal(r),a.setState({names:r,name_error:!0,checkError:error})):0==r?a.setState({name_error:!1,checkError:[]}):n?(a.optionVal(n),a.setState({id_error:!0,checkError:error})):0==n?a.setState({id_error:!1,checkError:[]}):t?(a.optionVal(t),a.setState({hors_shinj_baidal_list:t,hors_error:!1,checkError:[]})):a.setState({hors_error:!0,checkError:""})}))}},{key:"checkError",value:function(){var e=this.state.error;""==this.state.tesgiin_ner&&(alert("Цэгийн нэрийг оруулна уу  !!! "),this.setState({checkError:e})),""==this.state.toviin_dugaar&&(alert("Төвийн дугаарыг оруулна уу !!!"),this.setState({checkError:e})),""==this.state.hors_shinj_baidal&&(alert(" Хөрсний шинж байдлыг тодорхойлно уу !!!"),this.setState({checkError:e})),this.state.barishil_tuhai.length<50&&(alert("Цэгийн байршлын тухай мэдээлэл нь багадаа 50 тэмдэгт байна !!!"),this.setState({checkError:e})),""!=this.state.LA&&""!=this.state.LB&&""!=this.state.LC&&""!=this.state.BA&&""!=this.state.BB&&""!=this.state.BC||(alert("Солбицлын мэдээлэл дутуу байна !!!"),this.setState({checkError:e}))}},{key:"handleInput",value:function(e){"barishil_tuhai"==e.target.name&&e.target.value.length>50&&this.setState({checkError:[]}),this.setState(j({},e.target.name,e.target.value))}},{key:"handleOnchange",value:function(e){e.target.name&&this.setState({checkError:[]}),this.setState(j({},e.target.name,parseFloat(e.target.value)))}},{key:"handleCoordinatCheck",value:function(){var e=this,t=this.state,a=t.BA,n=t.BB,r=t.BC,o=t.LA,l=t.LB,i=t.LC;if(a>40&&n>0&&r>0&&o>40&&l>0&&i>0){var s=l/60+o,c=i/3600+l/60+o-s+s,u=n/60+a,p=r/3600+n/60+a-u+u;f.findSum(c,p).then((function(t){var a=t.info;t.success?e.setState({latlongy:c,latlongx:p,aimag_name:a[0].aimag,trapetsiin_dugaar:a[0].vseg,sum_name:a[0].sum,cc:a[0].cc,zone:a[0].zone}):(e.setState({error_msg:a}),setTimeout((function(){e.setState({error_msg:""})}),2e3))}))}}},{key:"handleXY",value:function(e,t,a){var n=this;if(a)if(this.setState({latlongy:e[0],latlongx:e[1],aimag_name:t[0].aimag,trapetsiin_dugaar:t[0].vseg,sum_name:t[0].sum,cc:t[0].cc,zone:t[0].zone,BA:t[0].BA,BB:t[0].BB,BC:t[0].BC,LA:t[0].LA,LB:t[0].LB,LC:t[0].LC}),"Улаанбаатар"==t[0].aimag){var r=t[0].aimag+" хотын";this.setState({barishil_tuhai:r})}else{var o=t[0].aimag+" аймгийн "+t[0].sum+" сум";this.setState({barishil_tuhai:o})}else this.setState({error_msg:t,latlongx:"",aimag_name:"",trapetsiin_dugaar:"",sum_name:"",cc:"",zone:"",BA:"",BB:"",BC:"",LA:"",LB:"",LC:""}),setTimeout((function(){n.setState({error_msg:""})}),2e3)}},{key:"onDrop",value:function(e,t){var a=this,n=S(e,1)[0];if(n){var r=new FileReader;r.onload=function(e){a.setState(j({},t,btoa(e.target.result)))},r.readAsBinaryString(n)}}},{key:"onChangeHandler",value:function(e,t){var a,n,r=e.target.files[0];this.setState((j(a={},t+"_error",!1),j(a,t,r),a)),12===r.name.length&&/^[a-z A-Z 0-9]+[a-z A-Z 0-9]+[a-z A-Z 0-9]+[a-z A-Z 0-9]+[0-9]+[0-9]+[0-9]+[a-z A-Z 0-9]+[.]+[0-9]+[0-9]+[a-z A-Z 0-9]+$/.test(r.name)?this.setState((j(n={},t+"_error",!1),j(n,t,r),n)):this.setState(j({},t+"_error",!0))}},{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setSubmitting;n("checking"),r(!0);var o=new FormData;this.setState({values:e});var l=this.state.LB/60+this.state.LA,i=this.state.LC/3600+this.state.LB/60+this.state.LA-l+l,s=this.state.BB/60+this.state.BA,c=this.state.BC/3600+this.state.BB/60+this.state.BA-s+s,u=this.state.trapetsiin_dugaar.split(",")[0];o.append("file1",this.state.file_path1),o.append("file2",this.state.file_path2),o.append("tesgiin_ner",this.state.tesgiin_ner),o.append("idx",this.state.id),o.append("trapetsiin_dugaar",u),o.append("toviin_dugaar",this.state.toviin_dugaar),o.append("center_typ",this.state.values.center_typ),o.append("ondor_torol",this.state.values.ondor_torol),o.append("ondor",parseFloat(this.state.values.ondor)),o.append("pid",this.state.values.pid),o.append("suljeenii_torol",this.state.values.suljeenii_torol),o.append("aimag_name",this.state.aimag_name),o.append("sum_name",this.state.sum_name),o.append("latlongx",i),o.append("latlongy",c),o.append("tseg_oiroos_img_url",this.state.tseg_oiroos_img_url),o.append("tseg_holoos_img_url",this.state.tseg_holoos_img_url),o.append("barishil_tuhai",this.state.barishil_tuhai),o.append("point_class",this.state.point_class),o.append("bairshil_tseg_oiroos_img_url",this.state.bairshil_tseg_oiroos_img_url),o.append("bairshil_tseg_holoos_img_url",this.state.bairshil_tseg_holoos_img_url),o.append("sudalga_or_shine",this.state.values.sudalga_or_shine),o.append("hors_shinj_baidal",this.state.hors_shinj_baidal),o.append("date",this.state.values.date),o.append("BA",this.state.BA),o.append("LA",this.state.LA),o.append("zone",this.state.zone),o.append("cc",this.state.cc),o.append("hotolson",this.state.values.hotolson),o.append("alban_tushaal",this.state.values.alban_tushaal),o.append("alban_baiguullga",this.state.values.alban_baiguullga),o.append("geo_id",this.state.geo_id),this.props.data.match.params.id;var p=this.props.data.match.params.t_type;o.append("t_type",p),f.tsegPersonal(o).then((function(e){var t=e.success,o=e.name,l=e.ids;t?(n("saved"),r(!1),a.modalChange(null,"","Амжилттай хадгаллаа","fa fa-check-circle","success",!1,null,(function(){return a.props.data.history.push("/gov/forms/tseg-info/tsegpersonal/tseg-personal/")}))):r(!1),o?(alert("Энэхүү цэг мэдээллийн санд байна."),a.setState({name_error:!0})):a.setState({name_error:!1}),l?(alert("Энэхүү төвийн дугаар мэдээллийн санд байна."),a.setState({id_error:!0})):a.setState({id_error:!1})}))}},{key:"tsegUpdate",value:function(e,t){var a,n=this;t&&(a="/gov/forms/tseg-info/tsegpersonal/inspire-tseg/"),e&&(a="/gov/forms/tseg-info/tsegpersonal/tseg-personal/"),f.updateTseg(e,t).then((function(r){var o=r.success,l=r.tseg_display,i=r.msg;o?l.map((function(a,r){var o=a.date;if(t){var l=o.split("-"),i=parseInt(l[2])+1;if(i<=10)var s="0"+"".concat(i);else s="".concat(i);var c=l[1];o=l[0]+"-"+c+"-"+s}n.setState({values:w(w({},n.state.values),{},{pid:a.pid,center_typ:a.center_typ,ondor:a.ondor,ondor_torol:a.ondor_torol,suljeenii_torol:a.suljeenii_torol,sudalga_or_shine:a.sudalga_or_shine,date:o,hotolson:a.hotolson,alban_tushaal:a.alban_tushaal,alban_baiguullga:a.alban_baiguullga}),hors_shinj_baidal:a.hors_shinj_baidal,toviin_dugaar:a.point_id,tesgiin_ner:a.point_name,LA:a.LA,LB:a.LB,LC:a.LC,BA:a.BA,BB:a.BB,BC:a.BC,zone:a.zone,cc:a.cc,latlongx:a.latlongx,latlongy:a.latlongy,sum_name:a.sum,aimag_name:a.aimag,point_class:a.point_class,trapetsiin_dugaar:a.sheet1,barishil_tuhai:a.barishil_tuhai,tseg_oiroos_img_url_zurag:a.tseg_oiroos_img_url,tseg_holoos_img_url_zurag:a.tseg_holoos_img_url,bairshil_tseg_oiroos_img_url_zurag:a.bairshil_tseg_oiroos_img_url,bairshil_tseg_holoos_img_url_zurag:a.bairshil_tseg_holoos_img_url,file_path11:a.file_path1,file_path22:a.file_path2,geo_id:a.geo_id,id:e})})):n.modalChange(null,"",i,"fa fa-check-circle","warning",!1,null,(function(){return n.props.data.history.push(a)}))})).catch((function(e){n.modalChange(null,"","Алдаа гарсан байна","fa fa-times-circle","danger",!1,null,(function(){return n.props.data.history.push(a)}))}))}},{key:"getItem",value:function(){var e=this,t=this.props.data.match.params.id,a=this.props.data.match.params.t_type;t&&f.updateTseg(t,a).then((function(t){var a=t.tseg_display;if(a){var n=a[0].latlongx,r=a[0].latlongy;e.x=[],e.x.push(n,r)}}))}},{key:"modalChange",value:function(e,t,a,n,r,o,l,i){this.setState({modalAction:e,text:t,title:a,modal_icon:n,icon_color:r,has_button:o,actionNameDelete:l,modalClose:i}),this.handleModalOpen()}},{key:"handleModalOpen",value:function(){var e=this;this.setState({modal_status:"open"},(function(){e.setState({modal_status:"initial"})}))}},{key:"successPoint",value:function(){var e=this,t=this.props.data.match.params.id;f.successPoint(t).then((function(t){var a=t.success,n=t.msg;a?e.modalChange(null,"",n,"fa fa-check-circle","success",!1,null,(function(){return e.props.data.history.push("/gov/forms/tseg-info/tsegpersonal/tseg-personal/")})):e.modalChange(null,"",n,"fa fa-times-circle","danger",!1,null,null)})).catch((function(){e.modalChange(null,"",msg,"fa fa-times-circle","danger",!1,null,null)}))}},{key:"rejectPoint",value:function(){var e=this,t=this.props.data.match.params.id;f.rejectPoint(t).then((function(t){var a=t.success,n=t.msg;a?e.modalChange(null,"",n,"fa fa-check-circle","success",!1,null,(function(){return e.props.data.history.push("/gov/forms/tseg-info/tsegpersonal/tseg-personal/")})):e.modalChange(null,"",n,"fa fa-times-circle","danger",!1,null,null)})).catch((function(){e.modalChange(null,"",msg,"fa fa-times-circle","danger",!1,null,null)}))}},{key:"loadTseg",value:function(e){var t=this.props.data.match.params.id,a=this.props.data.match.params.geo_id;(a||t)&&f.getTseg(t,a).then((function(t){var a=t.success,n=t.coord;a&&e(n)}))}},{key:"render",value:function(){var e,t,a,o=this,l=this.state,u=l.point_classes,p=l.point_types,m=(l.ondor_types,l.only_see),h=l.no_buttons,f=l.latlongx,d=l.latlongy,g=l.point_role_list,v=this.state.error_msg;return null!==(e=this.props.data.match.params)&&void 0!==e&&e.geo_id?(t="/gov/forms/tseg-info/tsegpersonal/inspire-tseg/",a="Засах"):(t="/gov/forms/tseg-info/tsegpersonal/tseg-personal/",a="Нэмэх"),r.a.createElement(c.e,{enableReinitialize:!0,initialValues:this.state.values,validationSchema:_,onSubmit:this.handleSubmit},(function(e){var l,_,E=e.errors,w=(e.status,e.touched,e.isSubmitting),S=(e.setFieldValue,e.handleBlur,e.values),O=(e.isValid,e.dirty,Object.keys(E).length>0);return r.a.createElement(c.d,null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"col-md-8 "},r.a.createElement("div",{className:"row ml-3"},r.a.createElement("div",{className:"float-left"},r.a.createElement(b.a,(j(l={handleXY:o.handleXY,coordinatCheck:!1,xy:f},"xy",d),j(l,"only_see",m),j(l,"loadTseg",o.loadTseg),l))),r.a.createElement("div",{className:"col-md-12 mb-4 mt-4 pl-0"},r.a.createElement(s.c,{to:t,className:"btn gp-outline-primary "},r.a.createElement("i",{className:"fa fa-angle-double-left"})," Буцах")),r.a.createElement("div",{className:"float-lg-right mr-5 ml-5 mt-4 position-absolute alert alert-danger"+(""==v?" d-none":" d-block"),role:"alert"},v||null),r.a.createElement("h4",null,"Цэгийн хувийн хэрэг"),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"1"),r.a.createElement("th",null,"Цэгийн нэр"),r.a.createElement("td",{scope:"rowgroup"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"tesgiin_ner",type:"text",id:"tesgiin_ner",list:"tsegList",autoComplete:"off",className:"form-control "+(o.state.name_error||o.error_msg.length>0?" is-invalid":""),onChange:function(e){return o.handleSearchWithName("tesgiin_ner",e)},value:o.state.tesgiin_ner,disabled:m?"disabled":""}),o.state.name_error?r.a.createElement("div",{className:"invalid-feedback"},"Цэгийн нэр давхцаж байна !!!"):(o.state.tesgiin_ner,""))),r.a.createElement("th",{scope:"row"},"2"),r.a.createElement("th",null,"Цэгийн дугаар"),r.a.createElement("td",{scope:"rowgroup"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"toviin_dugaar",type:"number",onKeyDown:function(e){return(69===e.keyCode||190===e.keyCode)&&e.preventDefault()},id:"toviin_dugaar",list:"tsegList",autoComplete:"off",className:"form-control "+(o.state.id_error||o.error_msg.length>0?"is-invalid":""),onChange:function(e){return o.handleSearchWithName("toviin_dugaar",e)},value:o.state.toviin_dugaar,disabled:m?"disabled":""}),o.state.id_error?r.a.createElement("div",{className:"invalid-feedback"},"Төвийн дугаар давхцаж байна !!!"):(o.state.toviin_dugaar,"")))),r.a.createElement("tr",null,r.a.createElement("th",{rowSpan:"2",scope:"row"},"3"),r.a.createElement("th",{rowSpan:"2"},"Трапецийн дугаар",r.a.createElement("br",null)," (1:100000)"),r.a.createElement("td",{rowSpan:"2"},r.a.createElement("input",j({className:"form-control "+(E.trapetsiin_dugaar?"is-invalid":""),name:"trapetsiin_dugaar",id:"id_trapetsiin_dugaar",disabled:!0,type:"text",value:o.state.trapetsiin_dugaar},"value",""==o.state.trapetsiin_dugaar?"":"".concat(o.state.trapetsiin_dugaar)+"- "+"".concat(o.state.zone)+" -"+"".concat(o.state.cc)))),r.a.createElement("th",{scope:"row",rowSpan:"2"},"4"),r.a.createElement("th",null,"Сүлжээний төрөл"),r.a.createElement("td",null,r.a.createElement(n.Fragment,null,r.a.createElement(c.b,{name:"suljeenii_torol",as:"select",disabled:m?"disabled":"",className:"custom-select "+(E.suljeenii_torol?"is-invalid":"")},r.a.createElement("option",{value:""},"..."),p&&p.map((function(e,t){return r.a.createElement("option",{key:t,value:e.code_list_id},e.code_list_name)}))),r.a.createElement(c.a,{name:"suljeenii_torol",component:"div",className:"invalid-feedback"})))),r.a.createElement("tr",null,r.a.createElement("th",null,"Зэрэг"),r.a.createElement("td",null,r.a.createElement(n.Fragment,null,r.a.createElement(c.b,{name:"center_typ",as:"select",disabled:m?"disabled":"",className:"custom-select "+(E.center_typ?"is-invalid":"")},r.a.createElement("option",{value:""},"..."),u&&u.map((function(e,t){return S.suljeenii_torol==e.top_code_list_id&&r.a.createElement("option",{key:t,value:e.code_list_id},e.code_list_name)}))),r.a.createElement(c.a,{name:"center_typ",component:"div",className:"invalid-feedback"})))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"5"),r.a.createElement("th",null,"Аймаг"),r.a.createElement("td",{colSpan:"1",scope:"rowgroup"},r.a.createElement("input",{className:"form-control ",name:"aimag_name",id:"aimag_name",disabled:!0,type:"text",value:o.state.aimag_name})),r.a.createElement("th",null,"Сум"),r.a.createElement("td",{colSpan:"2",scope:"rowgroup"},r.a.createElement("input",{className:"form-control ",name:"sum_name",id:"sum_name",type:"text",disabled:!0,value:o.state.sum_name||""}))),r.a.createElement("tr",null,r.a.createElement("th",j({rowSpan:"4",scope:"rowgroup"},"scope","row"),"6"),r.a.createElement("th",{rowSpan:"4",scope:"rowgroup",className:"text-justify"},"WGS84 солбицлын",r.a.createElement("br",null)," тогтолтоонд, ",r.a.createElement("br",null)," ITRF 2008 эринд ",r.a.createElement("br",null),"тодорхойлсон",r.a.createElement("br",null),r.a.createElement("button",{type:"button",className:"btn gp-outline-primary",onClick:o.handleCoordinatCheck,disabled:m?"disabled":""},"Шалгах"))),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2",style:{textAlign:"center"}},"Өргөрөг(B)"),r.a.createElement("th",{colSpan:"2",scope:"rowgroup",style:{textAlign:"center"}},"Уртраг(L)")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2",className:"pl-3"},r.a.createElement("input",{className:"form-control row float-left mx-0 my-2",name:"BA",id:"BA",placeholder:"D",type:"number",onChange:function(e){return o.handleOnchange(e)},value:o.state.BA||"",disabled:m?"disabled":""}),r.a.createElement("input",{className:"form-control row float-left mx-0 my-2",placeholder:"M",name:"BB",id:"BB",type:"number",onChange:function(e){return o.handleOnchange(e)},value:o.state.BB||"",disabled:m?"disabled":""}),r.a.createElement("input",{className:"form-control row float-left mx-0 my-2",placeholder:"S",name:"BC",id:"BC",type:"number",onChange:function(e){return o.handleOnchange(e)},value:o.state.BC||"",disabled:m?"disabled":""})),r.a.createElement("td",{colSpan:"2",scope:"rowgroup",className:""},r.a.createElement("input",{className:"form-control row float-left mx-0 my-2",placeholder:"D",name:"LA",id:"LA",type:"number",onChange:function(e){return o.handleOnchange(e)},value:o.state.LA,disabled:m?"disabled":""}),r.a.createElement("input",{className:"form-control row float-left mx-0 my-2",placeholder:"M",name:"LB",id:"LB",type:"number",onChange:function(e){return o.handleOnchange(e)},value:o.state.LB||"",disabled:m?"disabled":""}),r.a.createElement("input",{className:"form-control row float-left mx-0 my-2",placeholder:"S",name:"LC",id:"LC",type:"number",onChange:function(e){return o.handleOnchange(e)},value:o.state.LC||"",disabled:m?"disabled":""}))),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"4",scope:"rowgroup"},"Өндөр тоо",r.a.createElement(c.b,{className:"form-control "+(E.ondor?"is-invalid":""),name:"ondor",id:"id_ondor",type:"number",onKeyDown:function(e){return(69===e.keyCode||190===e.keyCode)&&e.preventDefault()},disabled:m?"disabled":""}),r.a.createElement(c.a,{name:"ondor",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"7",scope:"rowgroup",style:{textAlign:"center"}},"7. Цэгийн фото зураг",!m&&r.a.createElement("div",{type:"button",onMouseOver:function(e){return o.handleBoxOver(e)},onMouseLeave:function(e){return o.handleBoxLeave(e)},style:{backgroundColor:"white"},className:"float-right"},r.a.createElement("i",{className:"fa fa-exclamation-circle float-right"},r.a.createElement("div",{className:"alert alert-dark rounded position-absolute d-none"+"".concat(o.state.showBox?" d-block":""),role:"alert"},r.a.createElement("h6",{className:"alert-heading"},"Санамж!"),r.a.createElement("p",null,'".jpeg" болон ".png" байх ёстой')))))),r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"center"},colSpan:"3",scope:"rowgroup"},"ойроос"),r.a.createElement("th",{style:{textAlign:"center"},colSpan:"3",scope:"rowgroup"},"холоос")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},r.a.createElement("div",{className:"form-group"},!m&&r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(e){return o.onDrop(e,"tseg_oiroos_img_url")},imgExtension:[".jpeg",".png"],maxFileSize:225e4,singleImage:!0,label:""}),o.state.tseg_oiroos_img_url_zurag?r.a.createElement("center",null,r.a.createElement("img",{src:o.state.tseg_oiroos_img_url_zurag,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",null,"Зураг байхгүй байна.")))),r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},!m&&r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(e){return o.onDrop(e,"tseg_holoos_img_url")},imgExtension:[".jpg",".png"],maxFileSize:225e4,singleImage:!0,label:""}),o.state.tseg_holoos_img_url_zurag?r.a.createElement("center",null,r.a.createElement("img",{src:o.state.tseg_holoos_img_url_zurag,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",null,"Зураг байхгүй байна.")))),r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"center"},colSpan:"2",scope:"rowgroup"},"8. Байршлын тухай: "),r.a.createElement("th",{style:{textAlign:"center"},colSpan:"4",scope:"rowgroup"},o.state.barishil_tuhai.length<50?r.a.createElement("small",{className:"text-danger float-left"},"Цэгийн байршлын тухай мэдээлэл нь багадаа 50 тэмдэгт байна "):"",r.a.createElement("input",{className:"form-control"+(o.state.barishil_tuhai.length<50?" is-invalid":""),name:"barishil_tuhai",id:"id_barishil_tuhai",type:"textarea",onChange:function(e){return o.handleInput(e)},value:o.state.barishil_tuhai,disabled:m?"disabled":""}))),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"3",scope:"rowgroup"},"9. Байршлын тойм зураг"),r.a.createElement("th",{colSpan:"3",scope:"rowgroup"},"10. Төв цэгийн хэлбэр")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},!m&&r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(e){return o.onDrop(e,"bairshil_tseg_oiroos_img_url")},imgExtension:[".jpg",".png"],maxFileSize:225e4,singleImage:!0,label:""}),o.state.bairshil_tseg_oiroos_img_url_zurag?r.a.createElement("center",null,r.a.createElement("img",{src:o.state.bairshil_tseg_oiroos_img_url_zurag,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",null,"Зураг байхгүй байна."))),r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},!m&&r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(e){return o.onDrop(e,"bairshil_tseg_holoos_img_url")},imgExtension:[".jpg",".png"],maxFileSize:225e4,singleImage:!0,label:""}),o.state.bairshil_tseg_holoos_img_url_zurag?r.a.createElement("center",null,r.a.createElement("img",{src:o.state.bairshil_tseg_holoos_img_url_zurag,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",null,"Зураг байхгүй байна.")))),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"11."),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},"Хөрсний шинж байдал:"),r.a.createElement("td",{colSpan:"4",scope:"rowgroup"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"hors_shinj_baidal",type:"text",id:"hors_shinj_baidal",list:"tsegList",autoComplete:"off",className:"form-control "+(o.state.hors_error||o.error_msg.length>0?"is-invalid":""),onChange:function(e){return o.handleSearchWithName("hors_shinj_baidal",e)},value:o.state.hors_shinj_baidal,disabled:m?"disabled":""}),o.state.hors_error?r.a.createElement("div",{className:"invalid-feedback"},"Бүртгэлгүй хөрсний мэдээлэл байна"):""))),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"12."),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},"Цэг тэмдэгт суулгасан огноо:"),r.a.createElement("td",{colSpan:"3",scope:"input-group date"},r.a.createElement(c.b,{className:"form-control "+(E.date?"is-invalid":""),name:"date",id:"id_date",type:"date",disabled:m?"disabled":""}),r.a.createElement(c.a,{name:"date",component:"div",className:"invalid-feedback"}))),"-1"==S.suljeenii_torol?r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"13."),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},"Файл 1:"),r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},""===o.state.file_path11?null:r.a.createElement("a",{href:"/media/".concat(o.state.file_path11)},o.state.file_path11),r.a.createElement("input",{type:"file",className:"form-control "+(o.state.file_path1_error>0?"is-invalid":""),disabled:"3"!=S.suljeenii_torol,onChange:function(e){return o.onChangeHandler(e,"file_path1")}}),o.state.file_path1_error>0?r.a.createElement("ul",{className:"text-danger"},r.a.createElement("li",null,"XXXXDDDS.YYo"),r.a.createElement("li",null,"XXXX – Хэмжсэн цэгийн нэр"),r.a.createElement("li",null,"DDD-Жилийн өдөр (GPS-ийн өдөр, 001-365)"),r.a.createElement("li",null,"S-хэмжсэн хугацааны урт (0-9, а-Z)"),r.a.createElement("li",null,"YY-хэмжилт хийсэн оны сүүлийн 2 орон (2018 үед 18 )Жишээ нь: gunt2170.18o")):null)):null,"-1"==S.suljeenii_torol?r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"14."),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},"Файл 2:"),r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},""===o.state.file_path22?null:r.a.createElement("a",{href:"/media/".concat(o.state.file_path22)},o.state.file_path22),r.a.createElement("input",(j(_={type:"file",className:"form-control"},"className","form-control "+(o.state.file_path2_error>0?"is-invalid":"")),j(_,"disabled","3"!=S.suljeenii_torol),j(_,"onChange",(function(e){return o.onChangeHandler(e,"file_path2")})),_)),o.state.file_path2_error>0?r.a.createElement("ul",{className:"text-danger"},r.a.createElement("li",null,"XXXXDDDS.YYo"),r.a.createElement("li",null,"XXXX – Хэмжсэн цэгийн нэр"),r.a.createElement("li",null,"DDD-Жилийн өдөр (GPS-ийн өдөр, 001-365)"),r.a.createElement("li",null,"S-хэмжсэн хугацааны урт (0-9, а-Z)"),r.a.createElement("li",null,"YY-хэмжилт хийсэн оны сүүлийн 2 орон (2018 үед 18 )Жишээ нь: gunt2170.18o")):null)):null,r.a.createElement("tr",null,"-1"==S.suljeenii_torol?r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"15."):r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"13."),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},"Албан байгууллага:"),r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},r.a.createElement(c.b,{className:"form-control "+(E.alban_baiguullga?"is-invalid":""),name:"alban_baiguullga",id:"id_alban_baiguullga",type:"text",disabled:m?"disabled":""}),r.a.createElement(c.a,{name:"alban_baiguullga",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,"-1"==S.suljeenii_torol?r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"16."):r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"14."),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},"Албан тушаал:"),r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},r.a.createElement(c.b,{className:"form-control "+(E.alban_tushaal?"is-invalid":""),name:"alban_tushaal",id:"id_alban_tushaal",type:"text",disabled:m?"disabled":""}),r.a.createElement(c.a,{name:"alban_tushaal",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,"-1"==S.suljeenii_torol?r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"17."):r.a.createElement("th",{colSpan:"1",scope:"rowgroup"},"15."),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},"Хувийн хэрэг хөтөлсөн:"),r.a.createElement("td",{colSpan:"3",scope:"rowgroup"},r.a.createElement(c.b,{className:"form-control "+(E.hotolson?"is-invalid":""),name:"hotolson",id:"id_hotolson",type:"text",disabled:m?"disabled":""}),r.a.createElement(c.a,{name:"hotolson",component:"div",className:"invalid-feedback"}))))),r.a.createElement("div",{className:"span3 my-3"},r.a.createElement("div",null,h?null:m?r.a.createElement("div",{className:"float-right"},g&&g.PERM_APPROVE&&r.a.createElement("button",{type:"button",className:"btn gp-btn-outline-primary waves-effect waves-light",onClick:function(){return o.modalChange(o.successPoint,"Та ".concat(o.state.tesgiin_ner," цэгийг баталгаажуулахдаа итгэлтэй байна уу ?"),"Баталгаажуулах","fa fa-exclamation-circle","warning",!0,"Баталгаажуулах",null)}},"Баталгаажуулах"),g&&g.PERM_REVOKE&&r.a.createElement("button",{type:"button",className:"btn gp-btn-outline-primary waves-effect waves-light ml-1",onClick:function(){return o.modalChange(o.rejectPoint,"Та ".concat(o.state.tesgiin_ner," цэгийг татгалзахдаа итгэлтэй байна уу ?"),"Татгалзах","fa fa-exclamation-circle","warning",!0,"Татгалзах",null)}},"Татгалзах")):r.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:w||O||Object.keys(o.state.checkError).length>0,onClick:o.checkError},w&&r.a.createElement("i",{className:"fa fa-spinner fa-spin"}),w&&r.a.createElement("a",{className:"text-light"},"Шалгаж байна."),!w&&a)),r.a.createElement("datalist",{id:"tsegList"},o.datalist))))),r.a.createElement(y.a,{modal_status:o.state.modal_status,modalAction:o.state.modalAction,text:o.state.text,title:o.state.title,modal_icon:o.state.modal_icon,icon_color:o.state.icon_color,has_button:o.state.has_button,actionNameDelete:o.state.actionNameDelete,modalClose:o.state.modalClose})))}))}}])&&x(t.prototype,a),o&&x(t,o),u}(n.Component),R=a(937);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=F(e);if(t){var r=F(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return M(this,a)}}function M(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(l,e);var t,a,n,o=D(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={refresh:!1,"жагсаалтын_холбоос":"/gov/api/tseg-personal/list/",custom_query:{},"талбарууд":[{field:"point_name",title:"Цэгийн нэр"},{field:"point_id",title:"Цэгийн дугаар"},{field:"point_class",title:"Цэгийн анги"},{field:"point_type",title:"Цэгийн төрөл"},{field:"point_location",title:"Байршил"},{field:"state",title:"Төлөв",has_action:!0},{field:"kind",title:"Өөрчлөлт",has_action:!0}],"нэмэлт_талбарууд":[{title:"Шийдвэрлэх",icon:"fa fa-check-square-o text-warning",action:function(e){return t.goSuccess(e)}}],"хувьсах_талбарууд":[{field:"state",action:function(e){return"ШИНЭ"==(t=e)?a="text-primary":"ТАТГАЛЗСАН"==t?a="text-danger":"ЗӨВШӨӨРСӨН"==t&&(a="text-success"),a;var t,a},action_type:!0},{field:"kind",action:function(e){return"ҮҮССЭН"==(t=e)?a="text-success":"ЗАССАН"==t?a="text-primary":"УСТГАСАН"==t&&(a="text-danger"),a;var t,a},action_type:!0}],point_role_list:e.point_role_list},t.goSuccess=t.goSuccess.bind(I(t)),t}return t=l,(a=[{key:"goSuccess",value:function(e){"ШИНЭ"==e.state?this.props.history.push("/gov/forms/tseg-info/tsegpersonal/tseg-personal/".concat(e.id,"/шийдвэрлэх/")):this.props.history.push("/gov/forms/tseg-info/tsegpersonal/tseg-personal/".concat(e.id,"/харах/"))}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.point_role_list;e.point_role_list!=a&&this.setState({point_role_list:a})}},{key:"render",value:function(){var e=this.state,t=e.refresh,a=e.талбарууд,n=e.жагсаалтын_холбоос,o=e.хувьсах_талбарууд,l=e.custom_query,i=e.нэмэлт_талбарууд,s=e.point_role_list,c=[];return s.PERM_UPDATE&&(c=i),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(R.a,{refresh:t,color:"bg-dark","талбарууд":a,"жагсаалтын_холбоос":n,per_page:20,"уншиж_байх_үед_зурвас":"Хүсэлтүүд уншиж байна","хувьсах_талбарууд":o,custom_query:l,"нэмэлт_талбарууд":c,"нэмэх_товч":s.PERM_CREATE?"/gov/forms/tseg-info/tsegpersonal/tseg-personal/add/":""})))}}])&&T(t.prototype,a),n&&T(t,n),l}(n.Component);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function U(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Y(e);if(t){var r=Y(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return G(this,a)}}function G(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(i,e);var t,a,n,l=J(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=l.call(this,e)).state={point_role_list:e.point_role_list},t}return t=i,(a=[{key:"componentDidUpdate",value:function(e,t){var a=this.props.point_role_list;e.point_role_list!=a&&this.setState({point_role_list:a})}},{key:"render",value:function(){var e=this.state.point_role_list;return r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-personal/",component:function(t){return r.a.createElement(q,X({},t,{point_role_list:e}))}}),r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-personal/add/",component:function(e){return r.a.createElement(z,{data:e})}}),r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-personal/:id/засах/",component:function(e){return r.a.createElement(z,{data:e})}}),r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-personal/:id/шийдвэрлэх/",component:function(t){return r.a.createElement(z,{data:t,only_see:!0,point_role_list:e})}}),r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-personal/:id/харах/",component:function(e){return r.a.createElement(z,{data:e,only_see:!0,no_buttons:!0})}}))}}])&&U(t.prototype,a),n&&U(t,n),i}(n.Component);function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach((function(t){K(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function K(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var $={tsegustsanEdit:function(e){var t=H(H({},Object(u.b)()),{},{body:JSON.stringify({id:e})});return fetch("".concat("/gov/api/tseg-ustsan","/edit/"),t).then(u.c)},searchTseg:function(e){var t=H(H({},Object(u.b)()),{},{body:JSON.stringify({query:e})});return fetch("".concat("/gov/api/tseg-personal","/search/"),t).then(u.c)},tsegUstsan:function(e){var t=H(H({},Object(u.b)()),{},{body:e});return fetch("".concat("/gov/api/tseg-ustsan","/"),t).then(u.c)},tseg_success:function(e){var t=H(H({},Object(u.b)()),{},{body:JSON.stringify({id:e})});return fetch("".concat("/gov/api/tseg-ustsan","/success/"),t).then(u.c)},tseg_remove:function(e){var t=H(H({},Object(u.b)()),{},{body:JSON.stringify({id:e})});return fetch("".concat("/gov/api/tseg-ustsan","/remove/"),t).then(u.c)},paginatedList:function(e,t,a){var n=H(H({},Object(u.b)()),{},{body:JSON.stringify({page:e,perpage:t,query:a})});return fetch("".concat("/gov/api/tseg-ustsan","/list/"),n).then(u.c)}};g.c().shape({evdersen_baidal:g.d().required("Ойролцоо цэгийн байрлал хоосон байна!"),nohtsol_baidal:g.d().min(2,"Хэт богионо байна!").max(50,"Хэт урт байна!").required("Нөхцөл хоосон байна!"),sergeeh_sanal:g.d().required("Санал хоосон байна!")});var ee=g.c().shape({email:g.d().email("Имайл хаяг таарахгүй байна!").required("Имайл хаяг хоосон байна!"),baiguulaga:g.d().min(2,"Хэт богионо байна!").max(50,"Хэт урт байна!").required("Байгууллагын нэр хоосон байна."),alban_tushaal:g.d().min(2,"Хэт богионо байна!").max(50,"Хэт урт байна!").required("Албан тушаал хоосон байна!"),utas:g.b().integer("Буруу байна").positive("Буруу байна!").typeError("Заавал тоо байх ёстой"),oiroltsoo_bairlal:g.d().min(2,"Хэт богионо байна!").max(50,"Хэт урт байна!"),evdersen_baidal:g.d().required("Ойролцоо цэгийн байрлал хоосон байна!"),nohtsol_baidal:g.d().min(2,"Хэт богионо байна!").max(50,"Хэт урт байна!").required("Нөхцөл хоосон байна!"),sergeeh_sanal:g.d().required("Санал хоосон байна!")});function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function re(e,t,a,n,r,o,l){try{var i=e[o](l),s=i.value}catch(e){return void a(e)}i.done?t(s):Promise.resolve(s).then(n,r)}function oe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function le(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=pe(e);if(t){var r=pe(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return ce(this,a)}}function ce(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?ue(e):t}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(p,e);var t,a,n,o,l,u=se(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=u.call(this,e))._isMounted=!1,t.datalist=[],t.error_msg=[],t.bairlal_msg=[],t.state={id:-1,values:{email:"",baiguulaga:"",alban_tushaal:"",utas:"",evdersen_baidal:"",nohtsol_baidal:"",sergeeh_sanal:""},tsegiin_dugaar:"",oiroltsoo_bairlal:"",zurag_hol:"",zurag_oir:"",zurag_baruun:"",zurag_zuun:"",zurag_hoid:"",zurag_omno:"",zurag_hol_prev:"",zurag_oir_prev:"",zurag_baruun_prev:"",zurag_zuun_prev:"",zurag_hoid_prev:"",zurag_omno_prev:"",hemjilt_hiih_bolomj:!1,email_error_messege:!1,tseg_dugaar_error:!1,list:[],items:[],parse:[],checkError:[],showBox:!0,error:{error:""},bairlal_error:!1,ners:"",showMore:!1,showTsegAlert:!0,modal_status:"closed"},t.handleInput=t.handleInput.bind(ue(t)),t.handleInputEmail=t.handleInputEmail.bind(ue(t)),t.onDrop=t.onDrop.bind(ue(t)),t.handleCheck=t.handleCheck.bind(ue(t)),t.handleCheckGroup=t.handleCheckGroup.bind(ue(t)),t.handleGetAll=t.handleGetAll.bind(ue(t)),t.handleSearchWithTseg=t.handleSearchWithTseg.bind(ue(t)),t.optionVal=t.optionVal.bind(ue(t)),t.handleSubmit=t.handleSubmit.bind(ue(t)),t.checkAldaa=t.checkAldaa.bind(ue(t)),t.handleBoxLeave=t.handleBoxLeave.bind(ue(t)),t.handleBoxOver=t.handleBoxOver.bind(ue(t)),t.showMore=t.showMore.bind(ue(t)),t.handleModalOpen=t.handleModalOpen.bind(ue(t)),t}return t=p,(a=[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=this.props.data.match.params.id;t&&this._isMounted&&this.setState({id:t}),this._isMounted&&this.handleGetAll(t),setTimeout((function(){e._isMounted&&e.setState({showBox:!1,showTsegAlert:!1})}),2e3)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"showMore",value:function(){this.setState({showMore:!this.state.showMore})}},{key:"handleSearchWithTseg",value:function(e,t){this.setState(oe({},e,t.target.value)),0==t.target.value.length?(this.error_msg=[],this.error_msg.push(r.a.createElement("div",{className:"invalid-feedback"},"Хоосон байна.")),this.error_msg.length>0&&this.setState({checkError:this.state.error})):this.error_msg=[],t.target.value.length}},{key:"optionVal",value:function(e){var t=this;this.datalist=[],e.map((function(e,a){t.datalist.push(r.a.createElement("option",{key:a,value:e.tseg}))}))}},{key:"checkAldaa",value:function(){var e=this.state.tseg_dugaar_error;1==e?this.setState({tseg_dugaar_error:!0,checkError:e}):this.setState({tseg_dugaar_error:!1,checkError:[]})}},{key:"handleGetAll",value:(o=regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(this._isMounted&&this.setState({id:t}),$.tsegustsanEdit(t).then((function(e){var t=e.form_data;t&&t.map((function(e){$.searchTseg(e.tseg_id).then((function(e){var t=e.success,n=e.names;t&&a.setState({ners:n})})),a._isMounted&&a.setState({values:{email:e.email,baiguulaga:e.name,alban_tushaal:e.alban_tushaal,utas:e.utas,evdersen_baidal:e.evdersen_baidal,nohtsol_baidal:e.nohtsol_baidal,sergeeh_sanal:e.sergeeh_sanal},oiroltsoo_bairlal:e.oiroltsoo_bairlal,tsegiin_dugaar:e.tseg_id,hemjilt_hiih_bolomj:e.gps_hemjilt,zurag_hol_prev:e.img_holoos,zurag_oir_prev:e.img_oiroos,zurag_baruun_prev:e.img_baruun,zurag_zuun_prev:e.img_zuun,zurag_hoid_prev:e.img_hoino,zurag_omno_prev:e.img_omno,zurag_hol:e.img_holoos,zurag_oir:e.img_oiroos,zurag_baruun:e.img_baruun,zurag_zuun:e.img_zuun,zurag_hoid:e.img_hoino,zurag_omno:e.img_omno,edit:!0,checkError:[]})}))})));case 1:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,t=arguments;return new Promise((function(a,n){var r=o.apply(e,t);function l(e){re(r,a,n,l,i,"next",e)}function i(e){re(r,a,n,l,i,"throw",e)}l(void 0)}))},function(e){return l.apply(this,arguments)})},{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setSubmitting;n("checking"),r(!0);var o=new FormData;this.setState({values:e}),o.append("id",this.state.id),o.append("email",e.email),o.append("baiguulaga",e.baiguulaga),o.append("alban_tushaal",e.alban_tushaal),o.append("utas",e.utas),o.append("tsegiin_dugaar",this.state.tsegiin_dugaar),o.append("oiroltsoo_bairlal",this.state.oiroltsoo_bairlal),o.append("evdersen_baidal",e.evdersen_baidal),o.append("nohtsol_baidal",e.nohtsol_baidal),o.append("hemjilt_hiih_bolomj",this.state.hemjilt_hiih_bolomj),o.append("sergeeh_sanal",e.sergeeh_sanal),o.append("zurag_hol",this.state.zurag_hol),o.append("zurag_oir",this.state.zurag_oir),o.append("zurag_baruun",this.state.zurag_baruun),o.append("zurag_zuun",this.state.zurag_zuun),o.append("zurag_hoid",this.state.zurag_hoid),o.append("zurag_omno",this.state.zurag_omno),$.tsegUstsan(o).then((function(e){e.success&&(n("saved"),r(!1),a.handleModalOpen())}))}},{key:"handleInput",value:function(e,t){this.setState(oe({},e,t.target.value)),0==t.target.value.length?this.setState({bairlal_error:!0}):this.setState({bairlal_error:!1})}},{key:"handleInputEmail",value:function(e,t){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.target.value)?this.setState(oe({emailErrorMessege:!1},e,t.target.value)):this.setState({email_error_messege:!0,checkError:this.state.error})}},{key:"handleCheck",value:function(e,t){t.target.checked?this.setState(oe({},e,!0)):this.setState(oe({},e,!1))}},{key:"onDrop",value:function(e,t){var a=this,n=ae(e,1)[0];if(n){var r=new FileReader;r.onload=function(e){a.setState(oe({},t,btoa(e.target.result)))},r.readAsBinaryString(n)}}},{key:"handleCheckGroup",value:function(e,t,a){this.setState(oe({},e,a))}},{key:"handleBoxOver",value:function(e,t){"evdersen_baidal"==e&&this.setState({showTsegAlert:!0}),"zurag"==e&&this.setState({showBox:!0})}},{key:"handleBoxLeave",value:function(e,t){"evdersen_baidal"==e&&this.setState({showTsegAlert:!1}),"zurag"==e&&this.setState({showBox:!1})}},{key:"handleModalOpen",value:function(){var e=this;this.setState({modal_status:"open"},(function(){e.setState({modal_status:"initial"})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.id,n=t.zurag_hol_prev,o=t.zurag_oir_prev,l=t.zurag_baruun_prev,u=t.zurag_zuun_prev,p=t.zurag_hoid_prev,m=t.zurag_omno_prev,h=t.tseg_dugaar_error,f=t.oiroltsoo_bairlal,d=t.bairlal_error,g=t.showMore;return r.a.createElement(c.e,{initialValues:this.state.values,enableReinitialize:!0,validationSchema:ee,onSubmit:this.handleSubmit},(function(t){var _=t.errors,b=(t.status,t.touched),v=t.isSubmitting;t.setFieldValue,t.handleBlur,t.values,t.isValid,t.dirty,1==v&&(""==e.state.tseg_dugaar_error&&(e.error_msg=[],e.error_msg.push(r.a.createElement("div",null))),""==e.state.oiroltsoo_bairlal&&(e.bairlal_msg=[],e.bairlal_msg.push(r.a.createElement("div",null)))),""!=e.state.oiroltsoo_bairlal&&(e.bairlal_msg=[]);var E=e.state.checkError,w=Object.keys(_).length>0;return Object.keys(E).length,r.a.createElement(c.d,null,r.a.createElement("div",{className:"container p-3 card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row ml-3"},r.a.createElement("div",{className:"col-md-12 mb-4 mt-4"},r.a.createElement(s.c,{to:"/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/",className:"btn gp-outline-primary "},r.a.createElement("i",{className:"fa fa-angle-double-left"})," Буцах")),r.a.createElement("h4",null,"Таны мэдээлэл"),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"1."),r.a.createElement("th",{style:{width:"15%"}},"Имэйл хаяг"),r.a.createElement("td",null,r.a.createElement(c.b,{name:"email",type:"text",id:"id_email",className:"form-control"+(_.email&&b.email?" is-invalid":"")}),r.a.createElement(c.a,{name:"email",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"2."),r.a.createElement("th",{style:{width:"15%"}},"Албан байгууллага"),r.a.createElement("td",null,r.a.createElement(c.b,{name:"baiguulaga",type:"text",id:"id_baiguulaga",className:"form-control"+(_.baiguulaga&&b.baiguulaga?" is-invalid":"")}),r.a.createElement(c.a,{name:"baiguulaga",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"2."),r.a.createElement("th",{style:{width:"15%"}},"Албан тушаал"),r.a.createElement("td",null,r.a.createElement(c.b,{name:"alban_tushaal",type:"text",id:"id_alban_tushaal",className:"form-control"+(_.alban_tushaal&&b.alban_tushaal?" is-invalid":"")}),r.a.createElement(c.a,{name:"alban_tushaal",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"2."),r.a.createElement("th",{style:{width:"15%"}},"Утасны дугаар"),r.a.createElement("td",null,r.a.createElement(c.b,{name:"utas",type:"text",id:"id_utas",className:"form-control"+(_.alban_tushaal&&b.alban_tushaal?" is-invalid":"")}),r.a.createElement(c.a,{name:"utas",component:"div",className:"invalid-feedback"}))))),r.a.createElement("h4",null,"Устсан цэгт тэмдэгтийн мэдээлэл"),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"1."),r.a.createElement("th",{style:{width:"15%"}},"Цэгийн дугаар:"),r.a.createElement("td",{colSpan:"4",scope:"rowgroup"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"tsegiin_dugaar",type:"text",id:"tsegiin_dugaar",autoComplete:"off",list:"tsegList",className:"form-control"+(h||e.error_msg.length>0?" is-invalid":""),onChange:function(t){return e.handleSearchWithTseg("tsegiin_dugaar",t)},value:e.state.tsegiin_dugaar}),r.a.createElement("div",{type:"button",onMouseOver:function(t){return e.handleBoxOver("evdersen_baidal",t)},onMouseLeave:function(t){return e.handleBoxLeave("evdersen_baidal",t)},className:"d-flex justify-content-center"},r.a.createElement("span",{className:"mb-1 input-group-addon fa-stack fa-lg"},r.a.createElement("i",{className:"fa fa-square fa-stack-2x",style:{color:"".concat(e.state.showTsegAlert?"#1969c3":"#034ea2")},"aria-hidden":"true"}),r.a.createElement("i",{className:"fa fa-exclamation fa-stack-1x fa-inverse",style:{color:"white"}}),r.a.createElement("i",{className:"fa"},r.a.createElement("div",{className:"alert alert-dark rounded position-absolute d-none"+"".concat(e.state.showTsegAlert?" d-block":""),role:"alert"},r.a.createElement("p",{className:"alert-heading h6"},"Санамж!"),r.a.createElement("p",{className:"small"},"Бүртгэлтэй Цэгийн дугаарыг хийх ёстойг анхаарна уу"))))),h?r.a.createElement("div",{className:"invalid-feedback"},'Уучлаарай ийм нэртэй "Цэгийн дугаар алга" Дахин шалгана уу.'):null,e.error_msg))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"2."),r.a.createElement("th",{style:{width:"15%"}},"Ойролцоо байрлал:"),r.a.createElement("td",{colSpan:"4",scope:"rowgroup"},r.a.createElement("input",{name:"oiroltsoo_bairlal",type:"text",id:"oiroltsoo_bairlal",className:"form-control"+(d||e.bairlal_msg.length>0?" is-invalid":""),onChange:function(t){return e.handleInput("oiroltsoo_bairlal",t)},value:f}),d?r.a.createElement("div",{className:"invalid-feedback"},"Хоосон байна."):null,e.bairlal_msg)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"3."),r.a.createElement("th",{style:{width:"15%"}},"Эвдэрсэн байдал:"),r.a.createElement("td",{colSpan:"4",scope:"rowgroup"},r.a.createElement(c.b,{as:"select",name:"evdersen_baidal",type:"text",id:"id_evdersen_baidal",className:"form-control"+(_.evdersen_baidal&&b.evdersen_baidal?" is-invalid":"")},r.a.createElement("option",{value:""},"--- Сонгоно уу ---"),r.a.createElement("option",{value:"Эвдэрсэн"},"Эвдэрсэн"),r.a.createElement("option",{value:"Төв гэмтсэн"},"Төв гэмтсэн"),r.a.createElement("option",{value:"Хазайсан"},"Хазайсан"),r.a.createElement("option",{value:"Дарагдсан"},"Дарагдсан"),r.a.createElement("option",{value:"Бусад"},"Бусад")),r.a.createElement(c.a,{name:"oiroltsoo_bairlal",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"4."),r.a.createElement("th",{style:{width:"15%"}},"Нөхцөл/шалтгаан:"),r.a.createElement("td",{colSpan:"4",scope:"rowgroup"},r.a.createElement(c.b,{className:"form-control "+(_.nohtsol_baidal&&b.nohtsol_baidal?" is-invalid":""),component:"textarea",name:"nohtsol_baidal",id:"id_nohtsol_baidal",type:"textarea"}),r.a.createElement(c.a,{name:"nohtsol_baidal",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"5."),r.a.createElement("th",{className:"text-center",colSpan:"4",scope:"rowgroup",style:{width:"15%"}},"Орчны фото зураг:",r.a.createElement("div",{type:"button",onMouseOver:function(t){return e.handleBoxOver("zurag",t)},onMouseLeave:function(t){return e.handleBoxLeave("zurag",t)},className:"float-right"},r.a.createElement("i",{className:"fa fa-exclamation-circle float-right"},r.a.createElement("div",{className:"alert alert-dark rounded position-absolute d-none"+"".concat(e.state.showBox?" d-block":""),style:{zIndex:"1"},role:"alert"},r.a.createElement("h6",{className:"alert-heading"},"Санамж!"),r.a.createElement("p",null,' Зургийн хэмжээ "1MB" байна. ".jpeg" болон ".png" байх ёстой')))))),r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center",colSpan:"2",scope:"rowgroup"},"холоос"),r.a.createElement("th",{className:"text-center",colSpan:"2",scope:"rowgroup"},"ойроос")),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2",scope:"rowgroup",style:{width:"50%"}},r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"zurag_hol")},imgExtension:[".jepg",".png"],maxFileSize:1529173,singleImage:!0,label:"",fileSizeError:'Хэт их байна "1MB" зураг',fileTypeError:"энэ зураг буруу байна. Зөвхөн .jpeg, .png өргөтгөлтэй зураг"}),a>=0?n?r.a.createElement("center",null,r.a.createElement("img",{src:n,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",{className:"text-primary"},"Зураг байхгүй байна.")):null),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"zurag_oir")},imgExtension:[".jpg",".png"],maxFileSize:1529173,singleImage:!0,label:"",fileSizeError:'Хэт их байна "1MB" зураг',fileTypeError:"энэ зураг буруу байна. Зөвхөн .jpeg, .png өргөтгөлтэй зураг"}),a>=0?o?r.a.createElement("center",null,r.a.createElement("img",{src:o,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",{className:"text-primary"},"Зураг байхгүй байна.")):null)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"}),r.a.createElement("td",{colSpan:"4",scope:"rowgroup"},r.a.createElement("button",{type:"button",className:"btn gp-btn-primary btn-block",onClick:function(t){return e.showMore(t)}},g?r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-caret-up","aria-hidden":"true"})," ",r.a.createElement("b",null,"Хаах")):r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-caret-down","aria-hidden":"true"})," ",r.a.createElement("b",null,"Илүү олон"))))),r.a.createElement("tr",{className:g?"d-show":"d-none"},r.a.createElement("th",{className:"text-center",colSpan:"2",scope:"rowgroup"},"Баруун"),r.a.createElement("th",{className:"text-center",colSpan:"2",scope:"rowgroup"},"Зүүн")),r.a.createElement("tr",{className:g?"d-show":"d-none"},r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"zurag_baruun")},imgExtension:[".jpg",".png"],maxFileSize:1529173,singleImage:!0,label:"",fileSizeError:'Хэт их байна "1MB" зураг',fileTypeError:"энэ зураг буруу байна. Зөвхөн .jpeg, .png өргөтгөлтэй зураг"}),a>=0?l?r.a.createElement("center",null,r.a.createElement("img",{src:l,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",{className:"text-primary"},"Зураг байхгүй байна.")):null),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"zurag_zuun")},imgExtension:[".jpg",".png"],maxFileSize:5529173,singleImage:!0,label:"",fileSizeError:'Хэт их байна "1MB" зураг',fileTypeError:"энэ зураг буруу байна. Зөвхөн .jpeg, .png өргөтгөлтэй зураг"}),a>=0?u?r.a.createElement("center",null,r.a.createElement("img",{src:u,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",{className:"text-primary"},"Зураг байхгүй байна.")):null)),r.a.createElement("tr",{className:g?"d-show":"d-none"},r.a.createElement("th",{className:"text-center",colSpan:"2",scope:"rowgroup"},"Хойно"),r.a.createElement("th",{className:"text-center",colSpan:"2",scope:"rowgroup"},"Өмнө")),r.a.createElement("tr",{className:g?"d-show":"d-none"},r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"zurag_hoid")},imgExtension:[".jpg",".png"],maxFileSize:5529173,singleImage:!0,label:"",fileSizeError:'Хэт их байна "1MB" зураг',fileTypeError:"энэ зураг буруу байна. Зөвхөн .jpeg, .png өргөтгөлтэй зураг"}),a>=0?p?r.a.createElement("center",null,r.a.createElement("img",{src:p,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",{className:"text-primary"},"Зураг байхгүй байна.")):null),r.a.createElement("th",{colSpan:"2",scope:"rowgroup"},r.a.createElement(i.a,{withPreview:!0,withIcon:!1,buttonText:"Зураг оруулах",onChange:function(t){return e.onDrop(t,"zurag_omno")},imgExtension:[".jpg",".png"],maxFileSize:1529173,singleImage:!0,label:"",fileSizeError:'Хэт их байна "1MB" зураг',fileTypeError:"энэ зураг буруу байна. Зөвхөн .jpeg, .png өргөтгөлтэй зураг"}),a>=0?m?r.a.createElement("center",null,r.a.createElement("img",{src:m,width:"150px",height:"100px"})):r.a.createElement("center",null,r.a.createElement("label",{className:"text-primary"},"Зураг байхгүй байна.")):null)),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"6."),r.a.createElement("th",{style:{width:"15%"}},"Сэргээх талаар таны санал:"),r.a.createElement("td",{colSpan:"4",scope:"rowgroup"},r.a.createElement(c.b,{className:"form-control "+(_.sergeeh_sanal&&b.sergeeh_sanal?" is-invalid":""),as:"select",name:"sergeeh_sanal",id:"id_sergeeh_sanal",type:"textarea"},r.a.createElement("option",{value:""},"--- Сонгоно уу ---"),r.a.createElement("option",{value:"Шаардлагагүй"},"Шаардлагагүй"),r.a.createElement("option",{value:"Сэргээх"},"Сэргээх"),r.a.createElement("option",{value:"Шилжүүлэх"},"Шилжүүлэх"),r.a.createElement("option",{value:"Шинээр байгуулах"},"Шинээр байгуулах")),r.a.createElement(c.a,{name:"sergeeh_sanal",component:"div",className:"invalid-feedback"}))),r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"},scope:"row"},"7."),r.a.createElement("th",{style:{width:"15%"}},"GPS-ийн хэмжилт хийх боломжтой эсэх:"),r.a.createElement("td",{colSpan:"2",scope:"rowgroup"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("input",{type:"checkbox",id:"hemjilt_hiih_bolomj1",checked:!!e.state.hemjilt_hiih_bolomj,onChange:function(t){return e.handleCheckGroup("hemjilt_hiih_bolomj",t,!0)},value:e.state.hemjilt_hiih_bolomj}),r.a.createElement("label",{htmlFor:"hemjilt_hiih_bolomj1"},"Тийм"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"checkbox",id:"hemjilt_hiih_bolomj2",checked:!e.state.hemjilt_hiih_bolomj,onChange:function(t){return e.handleCheckGroup("hemjilt_hiih_bolomj",t,!1)},value:e.state.hemjilt_hiih_bolomj}),r.a.createElement("label",{htmlFor:"hemjilt_hiih_bolomj2"},"Үгүй")))))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:v||w},v&&r.a.createElement("i",{className:"fa fa-spinner fa-spin"}),v&&r.a.createElement("a",{className:"text-light"},"Шалгаж байна."),!v&&"Нэмэх")),r.a.createElement("datalist",{id:"tsegList"},e.datalist))),r.a.createElement(y.a,{modal_status:e.state.modal_status,modal_icon:"fa fa-check-circle",icon_color:"success",title:"Амжилттай нэмлээ",text:"",has_button:!1,modalAction:null,modalClose:function(){return e.props.data.history.push("/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/")}})))}))}}])&&le(t.prototype,a),n&&le(t,n),p}(n.Component);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ye(e);if(t){var r=ye(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return _e(this,a)}}function _e(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?be(e):t}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(l,e);var t,a,n,o=ge(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={modal_status:"closed",point_role_list:e.point_role_list},t.modalChange=t.modalChange.bind(be(t)),t.handleModalOpen=t.handleModalOpen.bind(be(t)),t}return t=l,(a=[{key:"handleModalOpen",value:function(){var e=this;this.setState({modal_status:"open"},(function(){e.setState({modal_status:"initial"})}))}},{key:"modalChange",value:function(e,t,a,n,r,o,l,i){this.setState({modal_icon:e,icon_color:t,title:a,text:n,has_button:r,modalAction:o,actionNameDelete:l,actionNameBack:i}),this.handleModalOpen()}},{key:"render",value:function(){var e=this,t=this.props.idx,a=this.props.values,n=a.id,o=a.email,l=a.name,i=a.alban_tushaal,c=(a.utas,a.tseg_id),u=a.is_removed,p=this.state.point_role_list;return r.a.createElement("tr",null,r.a.createElement("td",{scope:"col"},t+1),r.a.createElement("td",{scope:"col"},o),r.a.createElement("td",null,l),r.a.createElement("td",null,i),r.a.createElement("td",null,c),r.a.createElement("td",null,p&&p.PERM_UPDATE&&!u&&r.a.createElement(s.c,{to:"/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/".concat(n,"/засах")},r.a.createElement("i",{className:"fa fa-pencil-square-o text-success","aria-hidden":"true"}))),r.a.createElement("td",null,p&&p.PERM_REVOKE&&r.a.createElement("button",{href:"#",className:"btn ".concat(u?"btn-success":" gp-btn-primary"),disabled:u?"disabled":"","aria-hidden":"true",onClick:function(){return e.modalChange("fa fa-exclamation-circle","warning","Баталгаажуулах",'Та "'.concat(l,'" цэгийг баталгаажуулахдаа итгэлтэй байна уу?'),!0,e.props.handleTsegSuccess,"Тийм","Үгүй")}},u?"Баталгаажсан":"Баталгаажуулах")),r.a.createElement("td",null,p&&p.PERM_REMOVE&&!u&&r.a.createElement("i",{className:"fa fa-trash-o text-danger",role:"button","aria-hidden":"true",onClick:function(){return e.modalChange("fa fa-exclamation-circle","warning","Тохиргоог устгах",'Та "'.concat(l,'" нэртэй цэгийг устгахдаа итгэлтэй байна уу?'),!0,e.props.handleRemove,null,"Тийм","Үгүй")}})),r.a.createElement(y.a,{modal_status:this.state.modal_status,modal_icon:this.state.modal_icon,icon_color:this.state.icon_color,title:this.state.title,has_button:this.state.has_button,text:this.state.text,modalAction:this.state.modalAction,actionNameDelete:this.state.actionNameDelete,actionNameBack:this.state.actionNameBack}))}}])&&fe(t.prototype,a),n&&fe(t,n),l}(n.Component),Ee=a(960),we=a(110);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function je(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Ce(e);if(t){var r=Ce(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Ne(this,a)}}function Ne(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?Pe(e):t}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(l,e);var t,a,n,o=ke(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={currentPage:1,TsegPerPage:20,searchQuery:"",list:[],list_length:null,modal_status:"closed",modal_icon:"",icon_color:"",title:"",is_loading:!1,point_role_list:e.point_role_list},t.paginate=t.paginate.bind(Pe(t)),t.handleTsegSuccess=t.handleTsegSuccess.bind(Pe(t)),t.handleRemove=t.handleRemove.bind(Pe(t)),t.modalChange=t.modalChange.bind(Pe(t)),t.handleModalOpen=t.handleModalOpen.bind(Pe(t)),t}return t=l,(a=[{key:"componentDidUpdate",value:function(e,t){e.point_role_list!=this.props.point_role_list&&this.setState({point_role_list:point_role_list})}},{key:"paginate",value:function(e,t){var a=this,n=this.state.TsegPerPage;return this.setState({currentPage:e}),$.paginatedList(e,n,t).then((function(e){return a.setState({list:e.items,list_length:e.items.length}),e}))}},{key:"handleSearch",value:function(e,t){t.target.value.length,this.setState(Oe({},e,t.target.value)),this.paginate(1,t.target.value)}},{key:"handleTsegSuccess",value:function(e){var t=this;this.setLoading(!0),$.tseg_success(e).then((function(e){var a=e.success,n=e.msg;a?t.modalChange("fa fa-check-circle","success",n):t.modalChange("fa fa-times-circle","danger",n),t.paginate(1,""),t.setLoading(!1)}))}},{key:"handleRemove",value:function(e){var t=this;this.setLoading(!0),$.tseg_remove(e).then((function(e){var a=e.success,n=e.info;a?t.modalChange("fa fa-check-circle","success",n):t.modalChange("fa fa-times-circle","danger",n),t.paginate(1,""),t.setLoading(!1)}))}},{key:"handleModalOpen",value:function(){var e=this;this.setState({modal_status:"open"},(function(){e.setState({modal_status:"initial"})}))}},{key:"modalChange",value:function(e,t,a){this.setState({modal_icon:e,icon_color:t,title:a}),this.handleModalOpen()}},{key:"setLoading",value:function(e){this.setState({is_loading:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.point_role_list,n=t.is_loading;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(s.c,{className:"btn gp-btn-primary float-right my-2",to:"/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/add/"},"Нэмэх"),r.a.createElement("input",{type:"text",className:"form-control col-md-4 float-left",id:"searchQuery",placeholder:"Хайх",onChange:function(t){return e.handleSearch("searchQuery",t)},value:this.state.searchQuery}),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(we.a,{is_loading:n}),r.a.createElement("table",{className:"table table-fluid my-4"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"}," № "),r.a.createElement("th",{scope:"col"}," Email "),r.a.createElement("th",{scope:"col"},"Байгууллага"),r.a.createElement("th",{scope:"col"},"Албан тушаал"),r.a.createElement("th",{scope:"col"},"Цэгийн дугаар"),r.a.createElement("th",null,"Засах"),r.a.createElement("th",null,"Баталгаажуулах"),r.a.createElement("th",null,"Устгах"))),r.a.createElement("tbody",null,0==this.state.list_length?r.a.createElement("tr",null,r.a.createElement("td",null,'"Бүртгэл байхгүй байна"')):this.state.list.map((function(t,n){return r.a.createElement(ve,{key:n,idx:n,values:t,handleTsegSuccess:function(){return e.handleTsegSuccess(t.id)},handleRemove:function(){return e.handleRemove(t.id)},setLoading:e.setLoading,point_role_list:a})}))))),r.a.createElement(Ee.a,{paginate:this.paginate,searchQuery:this.state.searchQuery}),r.a.createElement(y.a,{modal_status:this.state.modal_status,modal_icon:this.state.modal_icon,icon_color:this.state.icon_color,title:this.state.title,text:"",has_button:!1,modalAction:null}))))}}])&&je(t.prototype,a),n&&je(t,n),l}(n.Component);function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ae(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Me(e);if(t){var r=Me(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return De(this,a)}}function De(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(i,e);var t,a,n,l=Le(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=l.call(this,e)).state={point_role_list:e.point_role_list},t}return t=i,(a=[{key:"componentDidUpdate",value:function(e,t){e.point_role_list!=this.props.point_role_list&&this.setState({point_role_list:point_role_list})}},{key:"render",value:function(){var e=this.state.point_role_list;return r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/",component:function(t){return r.a.createElement(Be,Re({},t,{point_role_list:e}))}}),r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/add/",component:function(e){return r.a.createElement(me,{data:e})}}),r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/:id/засах",component:function(e){return r.a.createElement(me,{data:e})}}))}}])&&Ae(t.prototype,a),n&&Ae(t,n),i}(n.Component),Fe=a(956),qe=a(941);function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qe(e,t,a){return t&&Ue(e.prototype,t),a&&Ue(e,a),e}function Je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=He(e);if(t){var r=He(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return We(this,a)}}function We(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?Ze(e):t}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ke=function(e){Je(a,e);var t=Ye(a);function a(e){var n;return Xe(this,a),(n=t.call(this,e)).state={items:[],length:null,current_page:1,per_page:20,query:"",query_min:!1,search_load:!1,point_types:[],point_classes:[],point_role_list:e.point_role_list,is_loading:!0},n.paginate=n.paginate.bind(Ze(n)),n.getFields=n.getFields.bind(Ze(n)),n}return Qe(a,[{key:"componentDidMount",value:function(){this.getFields()}},{key:"getFields",value:function(){var e=this;f.getFieldValue().then((function(t){var a=t.point_types,n=t.point_classes;e.setState({point_types:a,point_classes:n})}))}},{key:"paginate",value:function(e,t,a){var n=this,r=this.state.per_page;return this.setState({current_page:e,is_loading:!0}),f.getInspireList(e,r,t,a).then((function(e){return n.setState({items:e.items,length:e.items.length,is_loading:!1}),e}))}},{key:"setLoading",value:function(e){this.setState({is_loading:e})}},{key:"render",value:function(){var e=this.state,t=e.items,a=e.legnth,n=e.point_types,o=e.point_classes,l=e.point_role_list,i=e.is_loading;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(we.a,{is_loading:i,text:"Уншиж байна"}),r.a.createElement("div",{className:"row ml-1"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"row pt-4 table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"bg-primary text-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"№"),r.a.createElement("th",null,"Цэгийн нэр"),r.a.createElement("th",null,"Цэгийн дугаар"),r.a.createElement("th",null,"Ангилал"),r.a.createElement("th",null,"Төрөл"),r.a.createElement("th",null,"Засах"))),r.a.createElement("tbody",null,0===a?r.a.createElement("tr",null,r.a.createElement("th",null,"Бүртгэл байхгүй байна")):t.map((function(e,t){return r.a.createElement($e,{key:t,idx:t+1,values:e,point_types:n,point_classes:o,point_role_list:l})}))))))),r.a.createElement("div",{className:"pl-4 pt-4"},r.a.createElement(Fe.a,{sort_name:this.state.sort_name,paginate:this.paginate,searchQuery:this.state.query}))))}}]),a}(n.Component),$e=function(e){Je(a,e);var t=Ye(a);function a(e){var n;return Xe(this,a),(n=t.call(this,e)).state={point_role_list:e.point_role_list},n}return Qe(a,[{key:"render",value:function(){var e,t,a=this.props.values,n=a.point_name,o=a.point_id,l=a.suljeenii_torol,i=a.center_typ,c=a.geo_id,u=this.props,p=u.idx,m=u.point_types,h=u.point_classes,f=u.point_role_list;return l&&m.map((function(t,a){t.code_list_id==l&&(e=t.code_list_name)})),i&&h.map((function(e,a){e.code_list_id==i&&(t=e.code_list_name)})),r.a.createElement("tr",null,r.a.createElement("th",null,p),r.a.createElement("td",null,r.a.createElement(s.c,{to:"/gov/forms/tseg-info/tsegpersonal/inspire-tseg/".concat(c,"/detail/")},n)),r.a.createElement("td",null,o),r.a.createElement("td",null,e),r.a.createElement("td",null,t),r.a.createElement("td",null,f&&f.PERM_UPDATE&&r.a.createElement("a",{href:"/gov/forms/tseg-info/tsegpersonal/inspire-tseg/".concat(c,"/засах/")},r.a.createElement(qe.a,{icon:"fa fa-pencil-square-o",color:"text-success",hover_color:"white"}))))}}]),a}(n.Component);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ot(e);if(t){var r=ot(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return rt(this,a)}}function rt(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(i,e);var t,a,n,l=nt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=l.call(this,e)).state={point_role_list:e.point_role_list},t}return t=i,(a=[{key:"componentDidUpdate",value:function(e,t){e.point_role_list!=this.props.point_role_list&&this.setState({point_role_list:point_role_list})}},{key:"render",value:function(){var e=this.state.point_role_list;return r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/gov/forms/tseg-info/tsegpersonal/inspire-tseg/",component:function(t){return r.a.createElement(Ke,{data:t,point_role_list:e})}}),r.a.createElement(o.a,{path:"/gov/forms/tseg-info/tsegpersonal/inspire-tseg/:geo_id/засах/",component:function(e){return r.a.createElement(z,{data:e})}}),r.a.createElement(o.a,{path:"/gov/forms/tseg-info/tsegpersonal/inspire-tseg/:geo_id/detail/",component:function(e){return r.a.createElement(z,{data:e,only_see:!0,no_buttons:!0})}}))}}])&&tt(t.prototype,a),n&&tt(t,n),i}(n.Component);function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ct(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ft(e);if(t){var r=ft(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return mt(this,a)}}function mt(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?ht(e):t}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(i,e);var t,a,n,l=pt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=l.call(this,e)).state={point_role_list:{}},t.getEmpRole=t.getEmpRole.bind(ht(t)),t}return t=i,(a=[{key:"componentDidMount",value:function(){this.getEmpRole()}},{key:"getEmpRole",value:function(){var e=this;f.getEmpRole().then((function(t){var a=t.point_role_list;e.setState({point_role_list:a})}))}},{key:"render",value:function(){var e=this.state.point_role_list;return r.a.createElement("div",null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/gov/forms/tseg-info/tsegpersonal/tseg-personal/",component:function(t){return r.a.createElement(W,st({},t,{point_role_list:e}))}}),r.a.createElement(o.a,{path:"/gov/forms/tseg-info/tsegpersonal/tseg-ustsan/",component:function(t){return r.a.createElement(Ie,st({},t,{point_role_list:e}))}}),r.a.createElement(o.a,{path:"/gov/forms/tseg-info/tsegpersonal/inspire-tseg/",component:function(t){return r.a.createElement(lt,st({},t,{point_role_list:e}))}}),r.a.createElement(o.a,{exact:!0,path:"/gov/forms/"})))}}])&&ct(t.prototype,a),n&&ct(t,n),i}(n.Component);function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Et(e);if(t){var r=Et(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return vt(this,a)}}function vt(e,t){return!t||"object"!==gt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(i,e);var t,a,n,l=yt(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),l.call(this,e)}return t=i,(a=[{key:"render",value:function(){return r.a.createElement("div",{className:""},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/gov/forms/tseg-info/",component:dt})))}}])&&_t(t.prototype,a),n&&_t(t,n),i}(n.Component)},956:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a(2);var n=a(0),r=a.n(n);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p(e);if(t){var r=p(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return c(this,a)}}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,a,n,o=s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={items:[],page:1,total_page:1,is_loading:!1,searchQuery:t.props.searchQuery,sort_name:t.props.sort_name},t.loadPage=t.loadPage.bind(u(t)),t.nextPage=t.nextPage.bind(u(t)),t.prevPage=t.prevPage.bind(u(t)),t.addPage=t.addPage.bind(u(t)),t}return t=c,(a=[{key:"componentDidMount",value:function(){this.loadPage(this.state.page,this.state.searchQuery,this.state.sort_name)}},{key:"componentDidUpdate",value:function(e){if(e.searchQuery!==this.props.searchQuery){var t=this.props.searchQuery;this.setState({searchQuery:t}),this.loadPage(1,t)}if(e.sort_name!==this.props.sort_name){var a=this.props.sort_name,n=this.props.searchQuery;this.setState({sort_name:a}),this.loadPage(1,n,a)}if(e.load!==this.props.load){var r=this.props.d;this.loadPage(1,r)}if(this.props.org_level&&e.org_level!==this.props.org_level){var o=this.props.searchQuery;this.loadPage(1,o)}}},{key:"nextPage",value:function(){this.loadPage(this.state.page+1,this.state.searchQuery,this.state.sort_name)}},{key:"prevPage",value:function(){this.loadPage(this.state.page-1,this.state.searchQuery,this.state.sort_name)}},{key:"loadPage",value:function(e,t,a){var n=this;if(!this.state.is_loading)if(e=Math.max(e,1),e=Math.min(e,this.state.total_page),this.setState({is_loading:!0}),this.props.org_level){var r=this.props.org_level;this.props.paginate(e,t,r,a).then((function(e){var t=e.page,a=e.total_page;n.setState({page:t,total_page:a,is_loading:!1})}))}else this.props.paginate(e,t,a).then((function(e){var t=e.page,a=e.total_page;n.setState({page:t,total_page:a,is_loading:!1})}))}},{key:"addPage",value:function(e){var t=e.target.value;this.setState({page:t}),this.loadPage(t,"")}},{key:"render",value:function(){for(var e=this,t=this.state,a=t.page,n=t.total_page,o=[],l=a;l<=n;l++)o.push(r.a.createElement("li",{className:"page-item",key:l},r.a.createElement("a",{className:"page-link"},l)));return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"float-left"},r.a.createElement("strong",{className:"gp-text-primary"},"Хуудас ",a,"-",n)),r.a.createElement("div",{className:"float-right btn-group group-round"},r.a.createElement("button",{type:" button",value:"1",className:"btn gp-btn-primary waves-effect waves-light btn-sm"+(this.state.is_loading?" disabled":""),onClick:function(t){return e.addPage(t)}},"<<")," ",a>1&&r.a.createElement("button",{type:" button",className:"btn gp-btn-primary waves-effect waves-light btn-sm"+(this.state.is_loading?" disabled":""),onClick:this.prevPage},"<"),r.a.createElement("button",{type:" button",value:a,className:"btn gp-btn-primary waves-effect waves-light btn-sm"+(this.state.is_loading?" disabled":"")},a)," ",a<n&&r.a.createElement("button",{type:"button",className:"btn gp-btn-primary waves-effect waves-light btn-sm"+(this.state.is_loading?" disabled":""),onClick:this.nextPage},">"),r.a.createElement("button",{type:" button",value:n,className:"btn gp-btn-primary waves-effect waves-light btn-sm"+(this.state.is_loading?" disabled":""),onClick:function(t){return e.addPage(t)}},">>")," "))))}}])&&l(t.prototype,a),n&&l(t,n),c}(n.Component)}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1006:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(35),a=Object(r.c)().shape({org_name:Object(r.d)().max(150,"150-с илүүгүй урттай утга оруулна уу!").required("Хоосон байна утга оруулна уу."),org_level:Object(r.d)().max(100,"100-с илүүгүй урттай утга оруулна уу!").required("Хоосон байна утга оруулна уу."),org_role:Object(r.d)().max(100,"100-с илүүгүй урттай утга оруулна уу!")})},1007:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),a=n.n(r),o=n(13),i=n.n(o),c=n(57);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){m(n,e);var t=p(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).input_data={},r.state={input_value:""},r}return f(n,[{key:"componentDidUpdate",value:function(e,t){e.value!==this.props.value&&this.setState({input_value:this.props.value})}},{key:"handleOnChange",value:function(e){var t=this.props,n=t.idx,r=(t.ix,t.field,t.length,t.origin_name);this.setState({input_value:e}),this.props.getValues(e,n,r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.idx,r=(t.ix,t.field),o=t.length,i=t.choices,c=t.value,l=t.disabled,s=t.type,u=t.is_detail,f=this.state.input_value;return a.a.createElement("div",{className:"form-group animated slideInLeft"},a.a.createElement("dt",null,r),u?a.a.createElement("dd",null,c):"date"==s&&null==i?a.a.createElement("input",{type:s,maxLength:o,className:"form-control",disabled:l,value:f,onChange:function(t){return e.handleOnChange(t.target.value)}}):o>1900&&null==i?a.a.createElement("textarea",{className:"form-control",rows:"3",onChange:function(t){return e.handleOnChange(t.target.value)},maxLength:o,disabled:l,placeholder:c,value:f}):o<1900&&null==i?a.a.createElement("input",{type:"text",maxLength:o,className:"form-control",disabled:l,value:f,onChange:function(t){return e.handleOnChange(t.target.value)},placeholder:r+" оруулна уу"}):null!==i?a.a.createElement("select",{className:"form-control",disabled:l,onChange:function(t){return e.handleOnChange(t.target.value)},value:f},a.a.createElement("option",{key:n,value:""},"--- Сонгоно уу ---"),i.map((function(e,t){return a.a.createElement("option",{key:t,value:e[0]},e[1])}))):null)}}]),n}(r.Component),g=function(e){m(n,e);var t=p(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).state={values:{}},r.getValues=r.getValues.bind(y(r)),r}return f(n,[{key:"getValues",value:function(e,t,n){var r=this.state.values;r[n]=e,this.setState({values:r})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.fields,r=t.is_detail,o=t.title,i=t.button_name,c=this.state.values;return a.a.createElement("div",null,a.a.createElement("div",{className:"row text-center"},a.a.createElement("div",{className:"col-md-10"},a.a.createElement("h6",null,o)),a.a.createElement("div",{className:"col-md-2"},a.a.createElement("button",{type:"button",className:"close"},a.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.props.handleClose()}},"×")))),a.a.createElement("div",{className:"overflow-auto",style:{maxHeight:"calc( 50vh - 70px - 15px)"}},n.map((function(t,n){return a.a.createElement(v,{key:n,is_detail:r,field:t.name,length:t.length,disabled:t.disabled,idx:n,origin_name:t.origin_name,getValues:e.getValues,value:t.value,choices:t.choices,type:t.type})}))),r?a.a.createElement("div",{className:"pb-2"}):a.a.createElement("div",{className:"pb-2"},a.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return e.props.saveErguulPlace(c)}},i)))}}]),n}(r.Component),_=function(e){m(n,e);var t=p(n);function n(e){var r;s(this,n);var a=e||{};(r=t.call(this,{element:document.createElement("div"),target:a.target})).is_component_initialized=!1;return r.element.className="col-md-3 card",r.element.style.display="none",r.element.style.height="auto",r.renderComponent=r.renderComponent.bind(y(r)),r.toggleControl=r.toggleControl.bind(y(r)),r}return f(n,[{key:"toggleControl",value:function(e){this.element.style.display=e?"block":"none"}},{key:"renderComponent",value:function(e){var t=this;e.handleClose=function(){t.toggleControl(!1)},this.is_component_initialized||(i.a.render(a.a.createElement(g,e),this.element),this.is_component_initialized=!0),i.a.hydrate(a.a.createElement(g,e),this.element)}},{key:"showForm",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.toggleControl(e),this.renderComponent({fields:t,title:n,is_detail:o,saveErguulPlace:r,button_name:a})}}]),n}(c.a)},1023:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(0),a=n.n(r),o=n(976),i=n(76),c=n(22),l=n(1006),s=n(119),u=n(579);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(_,t);var n,f,b,g=y(_);function _(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),(t=g.call(this,e)).state={modal_status:"closed",roles:[],secondOrders:[],secondOrder_value:-1,thirthOrders:[],thirthOrder_value:-1,fourthOrders:[],fourthOrder_value:-1,geo_id:null,firstOrder_geom:"",disabled:!0,is_loading:!0,form_values:{org_level:1,org_name:"",org_role:"-1"}},t.handleSubmit=t.handleSubmit.bind(v(t)),t.handleGetAll=t.handleGetAll.bind(v(t)),t.handleModalOpen=t.handleModalOpen.bind(v(t)),t.modalChange=t.modalChange.bind(v(t)),t.handleRefresh=t.handleRefresh.bind(v(t)),t.formOptions=t.formOptions.bind(v(t)),t.handle2ndOrderChange=t.handle2ndOrderChange.bind(v(t)),t.handle3rdOrderChange=t.handle3rdOrderChange.bind(v(t)),t.handle4thOrderChange=t.handle4thOrderChange.bind(v(t)),t}return n=_,(f=[{key:"componentDidMount",value:function(){var e=this.props.match.params.level,t=this.props.match.params.id;this.handleGetAll(e,t)}},{key:"handleGetAll",value:function(e,t){var n=this;t?o.a.orgAll(e,t).then((function(t){var r=t.orgs;r&&(r.map((function(t){return n.setState({form_values:{org_level:e,org_name:t.name,org_role:t.org_role},geo_id:t.geo_id})})),n.formOptions())})):this.formOptions()}},{key:"formOptions",value:function(){var e=this;o.a.formOptions().then((function(t){var n=t.success,r=t.secondOrders,a=t.roles,o=t.firstOrder_geom;if(n){e.setState({secondOrders:r,roles:a,firstOrder_geom:o,is_loading:!1});var i=e.state.geo_id;if(i)for(var c="",l=0;l<i.length;l++)c+=i[l],1===l&&r.map((function(t){t.geo_id===c&&e.handle2ndOrderChange(t.geo_id)})),3===l&&e.state.thirthOrders.map((function(t){t.geo_id===c&&e.handle3rdOrderChange(t.geo_id)})),5===l&&e.state.fourthOrders.map((function(t){t.geo_id===c&&e.handle4thOrderChange(t.geo_id)}));else e.setState({geo_id:o});e.setState({disabled:!1})}}))}},{key:"handle2ndOrderChange",value:function(e){var t=this,n=this.state,r=n.firstOrder_geom,a=n.secondOrders;"-1"!==e?a.map((function(n){n.geo_id===e&&t.setState({thirthOrders:n.children,geo_id:n.geo_id})})):this.setState({thirthOrders:[],thirthOrder_value:"-1",geo_id:r}),this.setState({secondOrder_value:e,thirthOrder_value:"-1",fourthOrders:[],fourthOrder_value:"-1"})}},{key:"handle3rdOrderChange",value:function(e){var t=this,n=this.state.thirthOrders;"-1"===e?(this.setState({fourthOrders:[],fourthOrder_value:"-1"}),this.handle2ndOrderChange(this.state.secondOrder_value)):n.map((function(n){n.geo_id===e&&t.setState({fourthOrders:n.children,geo_id:n.geo_id})})),this.setState({thirthOrder_value:e,fourthOrder_value:"-1"})}},{key:"handle4thOrderChange",value:function(e){var t=this;"-1"!==e?this.state.fourthOrders.map((function(n){n.geo_id===e&&t.setState({geo_id:n.geo_id})})):this.handle3rdOrderChange(this.state.thirthOrder_value),this.setState({fourthOrder_value:e})}},{key:"handleSubmit",value:function(e,t){var n=this,r=t.setStatus,a=t.setSubmitting,i=t.setErrors,c=this.props.match.params.level,l=this.props.match.params.id,s=this.state.geo_id,u={org_name:e.org_name,id:l,org_level:e.org_level,role_id:e.org_role,geo_id:s};o.a.org_add(c,u).then((function(e){var t=e.success,o=e.errors;t?(n.modalChange("fa fa-check-circle",null,"success","Амжилттай хадгаллаа","",!1,"","",null,n.handleRefresh),r("saved"),a(!1)):(i(o),a(!1))}))}},{key:"handleModalOpen",value:function(){var e=this;this.setState({modal_status:"open"},(function(){e.setState({modal_status:"initial"})}))}},{key:"modalChange",value:function(e,t,n,r,a,o,i,c,l,s){var u=this;this.setState({modal_icon:e,modal_bg:t,icon_color:n,title:r,text:a,has_button:o,actionNameBack:i,actionNameDelete:c,modalAction:l,modalClose:s},(function(){return u.handleModalOpen()}))}},{key:"handleRefresh",value:function(){var t=this,n=this.props.match.params.level;e.handleCount(),setTimeout((function(){t.props.history.push("/back/байгууллага/түвшин/".concat(n,"/"))}),150)}},{key:"render",value:function(){var e=this,t=this.state,n=t.form_values,o=t.roles,f=(t.disabled,this.props.match.params.id),p=this.props.match.params.level;return a.a.createElement("div",null,a.a.createElement(c.e,{enableReinitialize:!0,initialValues:n,validationSchema:l.a,onSubmit:this.handleSubmit},(function(t){var n=t.errors,i=t.isSubmitting;return Object.keys(n).length,a.a.createElement("div",null,a.a.createElement(c.d,{className:"col-4"},a.a.createElement(s.a,{is_loading:e.state.is_loading}),a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col"},a.a.createElement("div",{className:"position-relative has-icon-right"},a.a.createElement("label",{htmlFor:"org_name"},"Байгууллагын нэр"),a.a.createElement("div",{className:"row"},a.a.createElement(c.b,{className:"form-control "+(n.org_name?"is-invalid":""),name:"org_name",id:"id_org_name",type:"text",placeholder:"Байгууллагын нэр"}),a.a.createElement(c.a,{name:"org_name",component:"div",className:"invalid-feedback"}))))),f&&a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col"},a.a.createElement("label",{htmlFor:"org_level"},"Түвшин"),a.a.createElement("div",{className:"row"},a.a.createElement(r.Fragment,null,a.a.createElement(c.b,d({name:"org_level",as:"select",className:"form-control"},"className","form-control "+(n.org_level?"is-invalid":"")),a.a.createElement("option",null,"1"),a.a.createElement("option",null,"2"),a.a.createElement("option",null,"3"),a.a.createElement("option",null,"4")),a.a.createElement(c.a,{name:"org_level",component:"div",className:"invalid-feedback"}))))),a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col"},a.a.createElement("label",{htmlFor:"org_role"},"Байгууллагын эрх"),a.a.createElement("div",{className:"row"},a.a.createElement(r.Fragment,null,a.a.createElement(c.b,d({name:"org_role",as:"select",className:"form-control"},"className","form-control "+(n.org_role?"is-invalid":"")),a.a.createElement("option",{value:"-1"},"...."),o.map((function(e,t){return a.a.createElement("option",{key:t,value:e.id},e.name)}))),a.a.createElement(c.a,{name:"org_role",component:"div",className:"invalid-feedback"}))))),a.a.createElement("h5",{className:"mb-3"},"Байгууллагын хамрах хүрээ"),a.a.createElement("table",{className:"table col"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{className:"pt-3"},"Аймаг/ Хот"),a.a.createElement("td",null,a.a.createElement("div",{className:"row"},a.a.createElement("select",{className:"form-control",value:e.state.secondOrder_value,onChange:function(t){return e.handle2ndOrderChange(t.target.value)}},a.a.createElement("option",{value:"-1"},"--- Улсын хэмжээнд ---"),e.state.secondOrders.map((function(e,t){return a.a.createElement("option",{key:t,value:e.geo_id},e.name)})))))),a.a.createElement("tr",null,a.a.createElement("th",{className:"pt-3"},"Сум/ Дүүрэг"),a.a.createElement("td",null,a.a.createElement("div",{className:"row"},a.a.createElement("select",{className:"form-control",value:e.state.thirthOrder_value,onChange:function(t){return e.handle3rdOrderChange(t.target.value)}},a.a.createElement("option",{value:"-1"},"--- Сум/Дүүрэг сонгоно уу ---"),e.state.thirthOrders.map((function(e,t){return a.a.createElement("option",{key:t,value:e.geo_id},e.name)})))))),a.a.createElement("tr",null,a.a.createElement("th",{className:"pt-3"},"Баг/ Хороо"),a.a.createElement("td",null,a.a.createElement("div",{className:"row"},a.a.createElement("select",{className:"form-control",value:e.state.fourthOrder_value,onChange:function(t){return e.handle4thOrderChange(t.target.value)}},a.a.createElement("option",{value:"-1"},"--- Баг/Хороо сонгоно уу ---"),e.state.fourthOrders.map((function(e,t){return a.a.createElement("option",{key:t,value:e.geo_id},e.name)})))))))),a.a.createElement("div",{className:"form-group"},a.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:i},i&&a.a.createElement("i",{className:"fa fa-spinner fa-spin"}),i&&a.a.createElement("a",{className:"text-light"},"Шалгаж байна."),!i&&"Хадгалах"))))})),a.a.createElement(i.a,{modal_status:this.state.modal_status,modal_icon:this.state.modal_icon,modal_bg:this.state.modal_bg,icon_color:this.state.icon_color,title:this.state.title,text:this.state.text,has_button:this.state.has_button,actionNameBack:this.state.actionNameBack,actionNameDelete:this.state.actionNameDelete,modalAction:this.state.modalAction,modalClose:this.state.modalClose}),a.a.createElement(u.a,m({},this.props,{name:"Буцах",navlink_url:"/back/байгууллага/түвшин/".concat(p,"/")})))}}])&&p(n.prototype,f),b&&p(n,b),_}(r.Component)}).call(this,n(48))},1024:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(0),a=n.n(r),o=n(12),i=n(30),c=n(119),l=n(976),s=n(1025),u=n(1028),f=n(1126),m=n(1043),d=n(1123),p=n(1125),h=n(928);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(l,e);var t,n,r,i=k(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).state={level:t.props.match.params.level,id:t.props.match.params.id,prefix:"/back/байгууллага/түвшин",org_name:"",sistem_count:0,employee_count:null,is_superuser:!0,allow_geom:null,is_loading:!0},t.getGeom=t.getGeom.bind(w(t)),t}return t=l,(n=[{key:"getGeom",value:function(e){this.setState({allow_geom:e,is_loading:!1})}},{key:"render",value:function(){var e=this.state,t=e.is_superuser,n=e.prefix,r=e.allow_geom,i=e.is_loading;return a.a.createElement("div",null,a.a.createElement(c.a,{is_loading:i}),a.a.createElement("div",{className:"tab-content"},a.a.createElement(N,g({},this.props,this.state,{setGeom:this.getGeom})),r?a.a.createElement("div",null,a.a.createElement(o.d,null,a.a.createElement(o.b,{path:"".concat(n,"/:level/:id/detail/"),render:function(e){return a.a.createElement(s.a,g({},e,{allow_geom:r}))}}),a.a.createElement(o.b,{path:"".concat(n,"/:level/:id/эрх/"),component:m.a}),a.a.createElement(o.b,{path:"".concat(n,"/:level/:id/хэрэглэгч/"),component:f.a}),a.a.createElement(o.b,{path:"".concat(n,"/:level/:id/систем/"),component:u.a}),a.a.createElement(o.b,{path:"".concat(n,"/:level/:id/addresses/"),component:d.a}),a.a.createElement(o.b,{path:"".concat(n,"/:level/:id/graph/"),component:p.a}),a.a.createElement(o.b,{path:"".concat(n,"/:level/:id/position/"),render:function(e){return a.a.createElement(h.default,g({},e,{is_superuser:t}))}}))):null))}}])&&_(t.prototype,n),r&&_(t,r),l}(r.Component);function N(t){var n=t.match.params.level,o=t.match.params.id,c="".concat(t.prefix,"/").concat(n,"/").concat(o),s=b(Object(r.useState)(0),2),u=s[0],f=s[1],m=b(Object(r.useState)(""),2),d=m[0],p=m[1],h=b(Object(r.useState)(0),2),y=h[0],v=h[1],g=b(Object(r.useState)(0),2),_=g[0],E=g[1],k=[{link:"".concat(c,"/detail/"),icon:"fa fa-th-large",text:""},{link:"".concat(c,"/эрх/"),icon:"fa fa-lock",text:"Эрх"},{link:"".concat(c,"/хэрэглэгч/"),icon:"icon-user",text:"Албан хаагчид",count:u},{link:"".concat(c,"/систем/"),icon:"icon-envelope-open",text:"Систем",count:y},{link:"".concat(c,"/addresses/"),icon:"fa fa-map-marker",text:"Ажилчдын хаяг"},{link:"".concat(c,"/graph/"),icon:"fa fa-bar-chart",text:"График мэдээлэл"},{link:"".concat(c,"/position/"),icon:"fa fa-shopping-bag",text:"Албан тушаал",count:_}];Object(r.useEffect)((function(){Promise.all([O(),w(n)]),e.refreshOrgCount=w,e.refreshSystemCount=O}),[]);var O=function(){l.a.sistemCount(o).then((function(e){var t=e.count;v(t)}))},w=function(e){l.a.orgAll(e,o).then((function(e){var n=e.orgs,r=e.count,a=e.pos_count;n&&(n.map((function(e){p(e.name),t.setGeom(e.allowed_geom)})),f(r),E(a))}))};return a.a.createElement("div",{className:"mb-3"},a.a.createElement("ul",{className:"nav nav-tabs nav-tabs-dark-gray"},k.map((function(e,t){return a.a.createElement("li",{className:"nav-item gp-text-primary",key:t},a.a.createElement(i.c,{to:e.link,className:"nav-link",activeClassName:"active","data-toggle":"tab"},a.a.createElement("i",{className:e.icon}),a.a.createElement("span",{className:"hidden-xs"}," ",e.text),(null==e?void 0:e.count)>=0?a.a.createElement("small",{className:"badge float-right badge-dark-primary ml-2"},e.count):null))}))),a.a.createElement("a",{className:"geo-back-btn",id:"geo-back-btn",onClick:t.history.goBack},a.a.createElement("small",{className:"fa fa-chevron-circle-left"}," ",d)))}}).call(this,n(48))},1025:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(0),a=n.n(r),o=n(119),i=n(1026),c=n(1027),l=n(976);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(h,t);var n,r,s,d=m(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=d.call(this,e)).state={is_open:!1,is_loading:!1,allowed_geom:e.allow_geom},t.handleFormOpen=t.handleFormOpen.bind(p(t)),t.handleUserDelete=t.handleUserDelete.bind(p(t)),t.modalClose=t.modalClose.bind(p(t)),t.modalClose=t.modalClose.bind(p(t)),t.handleHistoryPush=t.handleHistoryPush.bind(p(t)),t.getGeom=t.getGeom.bind(p(t)),t}return n=h,(r=[{key:"getGeom",value:function(e){var t=this,n=this.props.match.params.level;e&&(n=e);var r=this.props.match.params.id;l.a.orgAll(n,r).then((function(e){e.orgs.map((function(e){t.setState({allowed_geom:e.allowed_geom})}))}))}},{key:"setModal",value:function(t,n,r,a,o,i,c){var l={modal_status:"open",modal_icon:a,modal_bg:"",icon_color:r,title:t,text:n,has_button:o,actionNameBack:"Буцах",actionNameDelete:"",modalAction:i,modalClose:c};e.MODAL(l)}},{key:"handleFormOpen",value:function(){this.setState({is_open:!this.state.is_open})}},{key:"handleUserDelete",value:function(){var e=this,t=this.props.match.params.level,n=this.props.match.params.id;l.a.org_remove(t,n).then((function(t){var n=t.success;e.setState({is_loading:!0}),n?e.setModal("Амжилттай устгалаа","","success","fa fa-check-circle",!1,null,e.modalClose):e.setModal("Амжилтгүй боллоо","","danger","fa fa-check-circle",!1,null,e.modalClose)}))}},{key:"handleModalDeleteOpen",value:function(){this.setModal("Байгууллага устгах","Та байгууллагыг устгахдаа итгэлтэй байна уу?","warning","fa fa-exclamation-circle",!0,this.handleUserDelete)}},{key:"modalClose",value:function(){var e=this.props.match.params.level;this.props.history.push("/back/байгууллага/түвшин/".concat(e,"/"))}},{key:"handleHistoryPush",value:function(t){var n=this.props.match.params.id;this.props.history.push("/back/байгууллага/түвшин/".concat(t,"/").concat(n,"/detail/")),e.refreshOrgCount(t)}},{key:"render",value:function(){var e=this,t=this.state.allowed_geom,n=this.state,r=n.is_open,l=n.is_loading,s=this.props.match.params.level,u=this.props.match.params.id;return a.a.createElement("div",{className:"container-fluid"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-6"},r?a.a.createElement("button",{className:"btn gp-outline-primary",onClick:this.handleFormOpen},a.a.createElement("i",{className:"fa fa-angle-double-left"})," Буцах"):a.a.createElement("div",null,a.a.createElement("button",{className:"btn btn-primary waves-effect waves-light m-1",onClick:this.handleFormOpen},a.a.createElement("i",{className:"fa fa-pencil-square-o"})," Засах")," ",a.a.createElement("button",{className:"btn btn-danger waves-effect waves-light m-1",onClick:function(){return e.handleModalDeleteOpen()}},a.a.createElement("i",{className:"fa fa fa-trash-o"})," Устгах")),a.a.createElement("br",null),a.a.createElement("br",null),r?a.a.createElement(i.a,{level:s,id:u,FormClose:this.handleFormOpen,getGeom:this.getGeom,PushHistory:this.handleHistoryPush}):null),a.a.createElement("div",{className:"col-6"},t&&a.a.createElement(c.a,{geom:t}))),a.a.createElement(o.a,{is_loading:l}))}}])&&u(n.prototype,r),s&&u(n,s),h}(r.Component)}).call(this,n(48))},1026:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(0),a=n.n(r),o=n(22),i=n(119),c=n(1006),l=n(976);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(b,t);var n,s,p,y=d(b);function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(t=y.call(this,e)).state={roles:[],secondOrders:[],secondOrder_value:-1,thirthOrders:[],thirthOrder_value:-1,fourthOrders:[],fourthOrder_value:-1,geo_id:null,firstOrder_geom:"",disabled:!0,is_loading:!0,form_values:{org_level:1,org_name:"",org_role:"-1"}},t.handleSubmit=t.handleSubmit.bind(h(t)),t.handleGetAll=t.handleGetAll.bind(h(t)),t.modalClose=t.modalClose.bind(h(t)),t.formOptions=t.formOptions.bind(h(t)),t.handle2ndOrderChange=t.handle2ndOrderChange.bind(h(t)),t.handle3rdOrderChange=t.handle3rdOrderChange.bind(h(t)),t.handle4thOrderChange=t.handle4thOrderChange.bind(h(t)),t}return n=b,(s=[{key:"setModal",value:function(t,n,r,a,o,i,c){var l={modal_status:"open",modal_icon:a,modal_bg:"",icon_color:r,title:t,text:n,has_button:o,actionNameBack:"Буцах",actionNameDelete:"",modalAction:i,modalClose:c};e.MODAL(l)}},{key:"componentDidMount",value:function(){var e=this.props.level,t=this.props.id;this.handleGetAll(e,t)}},{key:"handleGetAll",value:function(e,t){var n=this;t?l.a.orgAll(e,t).then((function(t){var r=t.orgs;r&&(r.map((function(t){return n.setState({form_values:{org_level:e,org_name:t.name,org_role:t.org_role},geo_id:t.geo_id,old_geo_id:t.geo_id})})),n.formOptions())})):this.formOptions()}},{key:"formOptions",value:function(){var e=this;l.a.formOptions().then((function(t){var n=t.success,r=t.secondOrders,a=t.roles,o=t.firstOrder_geom;if(n){e.setState({secondOrders:r,roles:a,firstOrder_geom:o,is_loading:!1});var i=e.state.geo_id;if(i)for(var c="",l=0;l<i.length;l++)c+=i[l],1===l&&r.map((function(t){t.geo_id===c&&e.handle2ndOrderChange(t.geo_id)})),3===l&&e.state.thirthOrders.map((function(t){t.geo_id===c&&e.handle3rdOrderChange(t.geo_id)})),5===l&&e.state.fourthOrders.map((function(t){t.geo_id===c&&e.handle4thOrderChange(t.geo_id)}));else e.setState({geo_id:o})}}))}},{key:"handle2ndOrderChange",value:function(e){var t=this,n=this.state,r=n.firstOrder_geom,a=n.secondOrders;"-1"!==e?a.map((function(n){n.geo_id===e&&t.setState({thirthOrders:n.children,geo_id:n.geo_id})})):this.setState({thirthOrders:[],thirthOrder_value:"-1",geo_id:r}),this.setState({secondOrder_value:e,thirthOrder_value:"-1",fourthOrders:[],fourthOrder_value:"-1"})}},{key:"handle3rdOrderChange",value:function(e){var t=this,n=this.state.thirthOrders;"-1"===e?(this.setState({fourthOrders:[],fourthOrder_value:"-1"}),this.handle2ndOrderChange(this.state.secondOrder_value)):n.map((function(n){n.geo_id===e&&t.setState({fourthOrders:n.children,geo_id:n.geo_id})})),this.setState({thirthOrder_value:e,fourthOrder_value:"-1"})}},{key:"handle4thOrderChange",value:function(e){var t=this;"-1"!==e?this.state.fourthOrders.map((function(n){n.geo_id===e&&t.setState({geo_id:n.geo_id})})):this.handle3rdOrderChange(this.state.thirthOrder_value),this.setState({fourthOrder_value:e})}},{key:"handleSubmit",value:function(t,n){var r=this,a=n.setStatus,o=n.setSubmitting,i=n.setErrors,c=this.props.level,s=this.props.id,u=this.state,f=u.geo_id,m=u.old_geo_id,d={org_name:t.org_name,id:s,org_level:t.org_level,role_id:t.org_role,geo_id:f};this.setState({is_loading:!0}),l.a.org_add(c,d).then((function(n){var c=n.success,l=n.errors;c?(r.setModal("Амжилттай хадгаллаа","","success","fa fa-check-circle",!1,null,r.modalClose),e.handleCount(),r.setState({form_values:{org_level:t.org_level,org_name:t.org_name,org_role:t.org_role},is_loading:!1}),m!==f&&r.props.getGeom(t.org_level),a("saved"),o(!1),r.new_level=t.org_level):(i(l),r.setState({is_loading:!1}),o(!1))}))}},{key:"modalClose",value:function(){this.props.FormClose(),this.props.PushHistory(this.new_level)}},{key:"render",value:function(){var e=this,t=this.state,n=t.form_values,l=t.roles,s=this.props.id;return a.a.createElement("div",null,a.a.createElement(i.a,{is_loading:this.state.is_loading}),a.a.createElement(o.e,{enableReinitialize:!0,initialValues:n,validationSchema:c.a,onSubmit:this.handleSubmit},(function(t){var n=t.errors,i=t.isSubmitting;return a.a.createElement("div",null,a.a.createElement(o.d,{className:"col-12"},a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col"},a.a.createElement("div",{className:"position-relative has-icon-right"},a.a.createElement("label",{htmlFor:"org_name"},"Байгууллагын нэр"),a.a.createElement("div",{className:"row"},a.a.createElement(o.b,{className:"form-control "+(n.org_name?"is-invalid":""),name:"org_name",id:"id_org_name",type:"text",placeholder:"Байгууллагын нэр"}),a.a.createElement(o.a,{name:"org_name",component:"div",className:"invalid-feedback"}))))),s&&a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col"},a.a.createElement("label",{htmlFor:"org_level"},"Түвшин"),a.a.createElement("div",{className:"row"},a.a.createElement(r.Fragment,null,a.a.createElement(o.b,u({name:"org_level",as:"select",className:"form-control"},"className","form-control "+(n.org_level?"is-invalid":"")),a.a.createElement("option",null,"1"),a.a.createElement("option",null,"2"),a.a.createElement("option",null,"3"),a.a.createElement("option",null,"4")),a.a.createElement(o.a,{name:"org_level",component:"div",className:"invalid-feedback"}))))),a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col"},a.a.createElement("label",{htmlFor:"org_role"},"Байгууллагын эрх"),a.a.createElement("div",{className:"row"},a.a.createElement(r.Fragment,null,a.a.createElement(o.b,u({name:"org_role",as:"select",className:"form-control"},"className","form-control "+(n.org_role?"is-invalid":"")),a.a.createElement("option",{value:"-1"},"...."),l.map((function(e,t){return a.a.createElement("option",{key:t,value:e.id},e.name)}))),a.a.createElement(o.a,{name:"org_role",component:"div",className:"invalid-feedback"}))))),a.a.createElement("h5",{className:"mb-3"},"Байгууллагын хамрах хүрээ"),a.a.createElement("table",{className:"table col"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",{className:"pt-3"},"Аймаг/ Хот"),a.a.createElement("td",null,a.a.createElement("div",{className:"row"},a.a.createElement("select",{className:"form-control",value:e.state.secondOrder_value,onChange:function(t){return e.handle2ndOrderChange(t.target.value)}},a.a.createElement("option",{value:"-1"},"--- Улсын хэмжээнд ---"),e.state.secondOrders.map((function(e,t){return a.a.createElement("option",{key:t,value:e.geo_id},e.name)})))))),a.a.createElement("tr",null,a.a.createElement("th",{className:"pt-3"},"Сум/ Дүүрэг"),a.a.createElement("td",null,a.a.createElement("div",{className:"row"},a.a.createElement("select",{className:"form-control",value:e.state.thirthOrder_value,onChange:function(t){return e.handle3rdOrderChange(t.target.value)}},a.a.createElement("option",{value:"-1"},"--- Сум/Дүүрэг сонгоно уу ---"),e.state.thirthOrders.map((function(e,t){return a.a.createElement("option",{key:t,value:e.geo_id},e.name)})))))),a.a.createElement("tr",null,a.a.createElement("th",{className:"pt-3"},"Баг/ Хороо"),a.a.createElement("td",null,a.a.createElement("div",{className:"row"},a.a.createElement("select",{className:"form-control",value:e.state.fourthOrder_value,onChange:function(t){return e.handle4thOrderChange(t.target.value)}},a.a.createElement("option",{value:"-1"},"--- Баг/Хороо сонгоно уу ---"),e.state.fourthOrders.map((function(e,t){return a.a.createElement("option",{key:t,value:e.geo_id},e.name)})))))))),a.a.createElement("div",{className:"form-group"},a.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",style:{float:"right"},disabled:i},"Хадгалах"))))})))}}])&&f(n.prototype,s),p&&f(n,p),b}(r.Component)}).call(this,n(48))},1027:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(0),a=n.n(r),o=(n(245),n(580)),i=n(67),c=n(197),l=n(972),s=n(304),u=n(303),f=n(130),m=n(198),d=n(224),p=n(196);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(g,e);var t,n,r,h=v(g);function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=h.call(this,e)).state={dataProjection:"EPSG:4326",featureProjection:"EPSG:3857",geom:e.geom},t.loadMapData=t.loadMapData.bind(_(t)),t.loadMap=t.loadMap.bind(_(t)),t.removeFeatureFromSource=t.removeFeatureFromSource.bind(_(t)),t}return t=g,(n=[{key:"componentDidMount",value:function(){this.loadMap(),this.loadMapData()}},{key:"componentDidUpdate",value:function(e,t){e.geom!=this.props.geom&&this.loadMapData()}},{key:"loadMap",value:function(){var e=new p.a({source:new c.a({}),style:new f.c({stroke:new m.a({color:"rgba(100, 255, 0, 1)",width:2}),fill:new d.a({color:"rgba(100, 255, 0, 0.3)"})})});this.vector_layer=e;var t=new o.a({layers:[new i.a({source:new l.a}),e],target:"map",view:new s.a({center:[11461613.630815497,5878656.0228370065],zoom:5.041301562246971})});this.map=t}},{key:"removeFeatureFromSource",value:function(e){var t=this.vector_layer.getSource(),n=t.getFeatures();if(null!=n&&n.length>0)for(var r=0;r<n.length;r++)if(n[r].getProperties().id==e){t.removeFeature(n[r]);break}}},{key:"loadMapData",value:function(){var e=this.state,t=e.dataProjection,n=e.featureProjection,r=this.props.geom,a="aimag_sum";this.removeFeatureFromSource(a);var o=(new u.a).readFeatures(r,{dataProjection:t,featureProjection:n});o[0].setProperties({id:a}),this.vector_layer.getSource().addFeature(o[0]),this.map.getView().fit(o[0].getGeometry(),{padding:[25,25,25,25]})}},{key:"render",value:function(){return a.a.createElement("div",{className:"🌍"},a.a.createElement("h5",null,"Хамрах хүрээ:"),a.a.createElement("br",null),a.a.createElement("div",{id:"map",style:{height:"calc( 50vh - 85px - 15px)"}}))}}])&&y(t.prototype,n),r&&y(t,r),g}(r.Component)},1028:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),a=n.n(r),o=n(12),i=n(1029),c=n(1030),l=n(1031);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(d,e);var t,n,r,s=m(d);function d(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),s.call(this,e)}return t=d,(n=[{key:"render",value:function(){return a.a.createElement(o.d,null,a.a.createElement(o.b,{exact:!0,path:"/back/байгууллага/түвшин/:level/:id/систем/",component:i.a}),a.a.createElement(o.b,{exact:!0,path:"/back/байгууллага/түвшин/:level/:id/систем/:system_id/дэлгэрэнгүй/",component:c.a}),a.a.createElement(o.b,{exact:!0,path:"/back/байгууллага/түвшин/:level/:id/систем/үүсгэх/",component:l.a}),a.a.createElement(o.b,{exact:!0,path:"/back/байгууллага/түвшин/:level/:id/систем/:system_id/засах/",component:l.a}))}}])&&u(t.prototype,n),r&&u(t,r),d}(r.Component)},1029:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r),o=n(975),i=n(993);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(d,t);var n,r,c,f=u(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=f.call(this,e)).state={org_level:t.props.match.params.level,org_id:t.props.match.params.id,refresh:!1,"нэмэх_товч":"/back/байгууллага/түвшин/".concat(e.match.params.level,"/").concat(e.match.params.id,"/систем/үүсгэх/"),"жагсаалтын_холбоос":"/back/api/систем/govorgList/".concat(e.match.params.id,"/"),custom_query:{},"талбарууд":[{field:"name",title:"Системийн нэрүүд",has_action:!0},{field:"token",title:"Токен"},{field:"created_at",title:"Үүсгэсэн огноо"}],"хувьсах_талбарууд":[{field:"name",action:function(e){return t.goLink(e)}},{field:"token",text:""},{field:"created_at",text:""}],"нэмэлт_талбарууд":[{title:"Засах",text:"",icon:"fa fa-pencil-square-o text-success",action:function(e){return t.goDetail(e)}},{title:"Устгах",text:"",icon:"fa fa-trash-o text-danger",action:function(e){return t.handleModalOpen(e)}}],values:{},modal_status:"closed"},t.goLink=t.goLink.bind(m(t)),t.goDetail=t.goDetail.bind(m(t)),t.handleRemove=t.handleRemove.bind(m(t)),t}return n=d,(r=[{key:"setModal",value:function(t,n,r,a,o,i){var c={modal_status:"open",modal_icon:t,modal_bg:"",icon_color:n,title:r,text:a,has_button:o,actionNameBack:"Буцах",actionNameDelete:"",modalAction:i,modalClose:this.modalClose};e.MODAL(c)}},{key:"goLink",value:function(e){var t=this.state,n=t.org_level,r=t.org_id;this.props.history.push("/back/байгууллага/түвшин/".concat(n,"/").concat(r,"/систем/").concat(e.id,"/дэлгэрэнгүй/"))}},{key:"goDetail",value:function(e){var t=this.state,n=t.org_level,r=t.org_id;this.props.history.push("/back/байгууллага/түвшин/".concat(n,"/").concat(r,"/систем/").concat(e.id,"/засах/"))}},{key:"handleModalOpen",value:function(e){var t=this;e&&this.setModal("fa fa-exclamation-circle","warning","Систем устгах",'Та "'.concat(e.name,'" нэртэй тохиргоог устгахдаа итгэлтэй байна уу?'),!0,(function(){return t.handleRemove(e)}))}},{key:"handleRemove",value:function(t){var n=this;i.a.remove(t.id).then((function(t){t.success&&(e.refreshSystemCount(),n.setModal("fa fa-check-circle","success","Амжилттай устгалаа","",!1),n.setState({refresh:!n.state.refresh}))}))}},{key:"render",value:function(){var e=this.state,t=e.refresh,n=e.талбарууд,r=e.жагсаалтын_холбоос,i=e.хувьсах_талбарууд,c=e.custom_query,l=e.нэмэх_товч,s=e.нэмэлт_талбарууд;return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-body"},a.a.createElement("div",{className:"col-md-12"},a.a.createElement(o.a,{refresh:t,color:"bg-dark","талбарууд":n,"жагсаалтын_холбоос":r,per_page:20,"уншиж_байх_үед_зурвас":"Хүсэлтүүд уншиж байна","хувьсах_талбарууд":i,"нэмэх_товч":l,custom_query:c,"нэмэлт_талбарууд":s}))))}}])&&l(n.prototype,r),c&&l(n,c),d}(r.Component)}).call(this,n(48))},1030:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(0),a=n.n(r),o=n(119),i=n(246),c=n(993);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(p,t);var n,r,l,m=f(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=m.call(this,e)).state={govorg:{id:"",name:"",token:"",website:""},govorg_wms_list:[],public_url:"",private_url:"",is_state:!1,is_loading:!0,modal_status:"closed"},t.copyToClipboard=t.copyToClipboard.bind(d(t)),t.loadDetail=t.loadDetail.bind(d(t)),t.handleTokenRefresh=t.handleTokenRefresh.bind(d(t)),t.handleModalActionOpen=t.handleModalActionOpen.bind(d(t)),t}return n=p,(r=[{key:"componentDidMount",value:function(){this.loadDetail()}},{key:"loadDetail",value:function(e){var t=this;this.setState({is_loading:!0}),c.a.detail(this.props.match.params.system_id).then((function(n){var r=n.govorg,a=n.public_url,o=n.private_url;t.setState({govorg:r.detail,govorg_wms_list:r.wms_list,public_url:a,private_url:o,is_loading:!1}),e&&e()}))}},{key:"handleTokenRefresh",value:function(){var t=this,n=this.props.match.params.system_id;c.a.tokenRefresh(n).then((function(n){n.success?t.loadDetail((function(){e.NOTIF("success","Токенийг амжилттай шинэчиллээ","check")})):e.NOTIF("danger","Алдаа гарлаа!","times")}))}},{key:"copyToClipboard",value:function(e){i.b(e)}},{key:"handleModalActionOpen",value:function(){var t=this,n={modal_status:"open",modal_icon:"fa fa-exclamation-triangle",modal_bg:"",icon_color:"warning",title:"Токен шинэчлэх",text:"Токенийг шинэчилсэнээр уг URL-ээр одоо ашиглаж байгаа газрууд ажиллахгүй болохыг анхаарна уу!",has_button:!0,actionNameBack:"Буцах",actionNameDelete:"Шинэчлэх",modalAction:function(){return t.handleTokenRefresh()},modalClose:null};e.MODAL(n)}},{key:"render",value:function(){var e=this,t=this.state.govorg,n=(t.id,t.name),r=t.token,i=t.website,c=(this.props.match.params.level,this.props.match.params.id,this.state.is_state);return a.a.createElement("div",{className:"my-4"},a.a.createElement("div",{className:"row"},a.a.createElement(o.a,{is_loading:this.state.is_loading}),a.a.createElement("div",{className:"col-md-12"},a.a.createElement("h5",null,n),a.a.createElement("form",{className:"form-inline"},a.a.createElement("div",{className:"input-group mb-3"},a.a.createElement("div",{className:"input-group-prepend"},a.a.createElement("span",{className:"input-group-text"},"Токен")),a.a.createElement("input",{type:"text",className:"form-control",disabled:!0,value:r}),a.a.createElement("div",{className:"input-group-append"},a.a.createElement("button",{className:"btn btn-outline-primary",type:"button",onClick:this.handleModalActionOpen},a.a.createElement("i",{className:"fa fa-refresh","aria-hidden":"true"})," Шинэчлэх")))),i&&a.a.createElement("p",null,a.a.createElement("strong",null,"Вебсайт"),": ",i," ")),a.a.createElement("div",{className:"col-md-12"},a.a.createElement("div",{className:"col-md-9 pr-0 pl-0"},a.a.createElement("ul",{className:"nav nav-tabs nav-tabs-dark-gray col-12"},a.a.createElement("li",{className:"nav-item gp-text-primary"},a.a.createElement("a",{onClick:function(){return e.setState({is_state:!1})},className:"nav-link active","data-toggle":"tab",href:"#tabe-4"},a.a.createElement("i",{className:"icon-home"})," ",a.a.createElement("span",{className:"hidden-xs"},"Интернэт сүлжээ"))),a.a.createElement("li",{className:"nav-item gp-text-primary"},a.a.createElement("a",{onClick:function(){return e.setState({is_state:!0})},className:"nav-link","data-toggle":"tab",href:"#tabe-4"},a.a.createElement("i",{className:"icon-home"})," ",a.a.createElement("span",{className:"hidden-xs"},"Төрийн сүлжээ"))))),a.a.createElement("div",{className:"col-md-9 border-top-0 border border-secondary"},a.a.createElement("div",{className:"col-md-12 mb-3 pt-3"},c?a.a.createElement("div",{className:"input-group pt-2"},a.a.createElement("input",{type:"text",className:"form-control col-9",disabled:!0,value:this.state.private_url}),a.a.createElement("span",{className:"input-group-btn"},a.a.createElement("button",{className:"btn btn-outline-primary ml-1",type:"button",onClick:function(){return e.copyToClipboard(e.state.private_url)}},a.a.createElement("i",{className:"fa fa-clone","aria-hidden":"true"})," Хуулах"))):a.a.createElement("div",{className:"input-group pt-2"},a.a.createElement("input",{type:"text",className:"form-control col-9",disabled:!0,value:this.state.public_url}),a.a.createElement("span",{className:"input-group-btn"},a.a.createElement("button",{className:"btn btn-outline-primary ml-1",type:"button",onClick:function(){return e.copyToClipboard(e.state.public_url)}},a.a.createElement("i",{className:"fa fa-clone","aria-hidden":"true"})," Хуулах")))),this.state.govorg_wms_list.map((function(t){return a.a.createElement("div",{className:"col-md-12 mt-3 mb-3 ml-3",key:t.id},a.a.createElement("h5",null," ",t.name," "),a.a.createElement("ul",null,t.layers.map((function(t,n){return a.a.createElement("li",{key:n,id:"accordion1"},"GeoJSON: ",t.title," (",t.code,")",a.a.createElement("div",{className:"input-group mt-2"},a.a.createElement("input",{type:"text",className:"form-control col-7",disabled:!0,value:"".concat(c?t.json_private_url:t.json_public_url)}),a.a.createElement("span",{className:"input-group-btn"},a.a.createElement("button",{className:"btn btn-outline-primary ml-1",type:"button",onClick:function(){return e.copyToClipboard(c?t.json_private_url:t.json_public_url)}},a.a.createElement("i",{className:"fa fa-clone","aria-hidden":"true"})," Хуулах"))))}))))}))))))}}])&&s(n.prototype,r),l&&s(n,l),p}(r.Component)}).call(this,n(48))},1031:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r=n(0),a=n.n(r),o=n(22),i=n(1032),c=n(1033),l=n(993);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(m,t);var n,r,s,u=h(m);function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=u.call(this,e)).state={govorg:{name:"",website:""},wms_list:[],layers:[],title:"",prop_arrow:!1,accepted_props:[]},t.handleLayerToggle=t.handleLayerToggle.bind(b(t)),t.handleSubmit=t.handleSubmit.bind(b(t)),t.handlePropCheck=t.handlePropCheck.bind(b(t)),t.handleCheck=t.handleCheck.bind(b(t)),t.modalClose=t.modalClose.bind(b(t)),t}return n=m,(r=[{key:"componentDidMount",value:function(){var t=this,n=this.props.match.params,r=n.system_id,a=n.id;e.NOTIF("warning","Эрхтэй болон түүний давхарга нь үүссэн давхаргууд л харагдаж байгаа!","exclamation"),l.a.getWMSList(a).then((function(e){var n=e.wms_list;t.setState({wms_list:n})})),r&&l.a.detail(r).then((function(e){var n=e.govorg;t.setState({govorg:n.detail,layers:n.detail.layers,accepted_props:n.govorg_attributes})}))}},{key:"getIndexOfLayer",value:function(e,t){return t.findIndex((function(t){return t.layer_id==e}))}},{key:"handlePropCheck",value:function(e){var t=this.state.accepted_props,n=e.target.value,r=e.target.name,a=[],o=this.getIndexOfLayer(r,t);if(e.target.checked)o>-1?t[o].attributes.push(n):(a.push(n),t.push({layer_id:r,attributes:a}));else{var i=t[o].attributes.filter((function(e){return e!=n}));t[o].attributes=i}this.setState({accepted_props:t})}},{key:"handleCheck",value:function(e,t){var n=this.state.accepted_props,r=this.getIndexOfLayer(e,n),a=!1;return r>-1&&n[r].attributes.indexOf(t)>-1&&(a=!0),a}},{key:"handleLayerToggle",value:function(e){var t=this.state,n=t.layers,r=t.accepted_props,a=parseInt(e.target.value);e.target.checked?n.push(a):(n=n.filter((function(e){return e!=a})),r=r.filter((function(e){return e.layer_id!=a}))),this.setState({layers:n,accepted_props:r})}},{key:"setModal",value:function(t,n,r,a){var o={modal_status:"open",modal_icon:r,modal_bg:"",icon_color:"",title:t,text:n,has_button:a,actionNameBack:"Буцах",actionNameDelete:"",modalAction:"",modalClose:this.modalClose};e.MODAL(o)}},{key:"handleSubmit",value:function(t,n){var r=this,a=n.setStatus,o=n.setSubmitting,i=n.setErrors,c=this.props.match.params.id,s=f(f({},t),{},{layers:this.state.layers,org:c,accepted_props:this.state.accepted_props});a("checking"),o(!0),this.state.govorg.id?(s.id=this.state.govorg.id,l.a.update(s).then((function(e){var t=e.success,n=e.info,c=e.errors;t?(a("saved"),o(!1),r.setModal(n,"","fa fa-check-circle text-success",!1)):(i(c),o(!1))}))):l.a.create(s).then((function(t){var n=t.success,c=t.info,l=t.errors;n?(a("saved"),o(!1),e.refreshSystemCount(),r.setModal(c,"","fa fa-check-circle text-success",!1)):(i(l),o(!1))}))}},{key:"modalClose",value:function(){var e=this.props.match.params.level,t=this.props.match.params.id;this.props.history.push("/back/байгууллага/түвшин/".concat(e,"/").concat(t,"/систем/"))}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"my-4"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-4"},a.a.createElement(o.e,{enableReinitialize:!0,initialValues:this.state.govorg,validationSchema:i.a,onSubmit:this.handleSubmit},(function(e){var t=e.errors,n=(e.status,e.touched,e.isSubmitting);return e.setFieldValue,e.handleBlur,e.values,e.isValid,e.dirty,Object.keys(t).length,a.a.createElement(o.d,null,a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:"id_name"},"Системүүдийн нэр:"),a.a.createElement(o.b,{className:"form-control mb-2"+(t.name?" is-invalid":""),placeholder:"Системүүдийн нэр",name:"name",id:"id_name",type:"text"}),a.a.createElement(o.a,{name:"name",component:"div",className:"invalid-feedback"}),a.a.createElement("label",{htmlFor:"id_website"},"Домэйнээр хязгаарлах:"),a.a.createElement(o.b,{className:"form-control my-1"+(t.website?" is-invalid":""),placeholder:"Байршуулах вэбсайт",name:"website",id:"id_website",type:"text"}),a.a.createElement(o.a,{name:"website",component:"div",className:"invalid-feedback"}),a.a.createElement("small",{className:"text-muted"},"Жишээ нь: https://domain.mn")),a.a.createElement("div",null),a.a.createElement("div",{className:"span3"},a.a.createElement("div",null,a.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:n},n&&a.a.createElement("i",{className:"fa fa-spinner fa-spin"}),n&&" Шалгаж байна.",!n&&"Хадгалах"))))}))),a.a.createElement("div",{className:"col-md-8"},this.state.wms_list.map((function(t,n){return a.a.createElement("div",{className:"col-md-12",id:"accordion1",key:n},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-8 arrow-tree"},a.a.createElement("a",{className:"btn btn-link shadow-none collapsed","data-toggle":"collapse","data-target":"#collapse-".concat(n),"aria-expanded":"true","aria-controls":"collapse-1"},t.is_active?a.a.createElement("i",{className:"fa fa-check-circle",style:{color:"green"},"aria-hidden":"false"}):a.a.createElement("i",{className:"fa fa-times-circle",style:{color:"#FF4748"}}),a.a.createElement("strong",null,t.name)," ",t.public_url))),t.is_active&&t.layer_list.map((function(t,r){return a.a.createElement(c.a,{key:r,idx:r,layer:t,wms_index:n,layers:e.state.layers,handlePropCheck:e.handlePropCheck,handleCheck:e.handleCheck,handleLayerToggle:e.handleLayerToggle})})))})))))}}])&&d(n.prototype,r),s&&d(n,s),m}(r.Component)}).call(this,n(48))},1032:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(35),a=Object(r.c)().shape({name:Object(r.d)().max(250,"250-с илүүгүй урттай оруулна уу!").required("Хоосон байна утга оруулна уу."),website:Object(r.d)().matches(/^((http|https):\/\/)?([a-zA-Z0-9]+\.)?([a-zA-Z0-9][a-zA-Z0-9-]*)?((\:[a-zA-Z0-9]{2,6})|(\.[a-zA-Z0-9]{2,6}))$/,"Домайн нэрээ зөв оруулна уу.")})},1033:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var a=u(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,e);var t,n,r,o=l(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={prop_arrow:!1},t}return t=s,(n=[{key:"render",value:function(){var e=this,t=this.state.prop_arrow,n=this.props,r=n.wms_index,o=n.layer,i=n.layers,c=n.idx;return a.a.createElement("div",{key:c,id:"collapse-".concat(r),className:"ml-5 collapse col-md-8","data-parent":"#accordion1"},a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",value:o.id,onChange:this.props.handleLayerToggle,checked:i.indexOf(o.id)>-1})," ",o.title," (",o.code,")"),o.data_types.length>0&&i.indexOf(o.id)>-1&&a.a.createElement("div",{className:"d-block col-md-12 text-primary"},a.a.createElement("label",{className:"col-md-6 text-primary"},"Талбарууд"),a.a.createElement("i",{className:"col-md-4 fa-lg fa fa-angle-double-"+(t?"down":"left"),onClick:function(){return e.setState({prop_arrow:!t})}}),t&&o.data_types.map((function(t,n){return a.a.createElement("div",{key:n,className:"ml-4 pl-2"},a.a.createElement("b",null," ",t.data_type_display_name," (",t.properties.length,") "),t.properties.map((function(t,n){return a.a.createElement("div",{key:n},a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",value:t.prop_code,name:o.id,onChange:e.props.handlePropCheck,checked:e.props.handleCheck(o.id,t.prop_code)})," ",t.prop_name," (",t.prop_eng,")"))})))}))))}}])&&i(t.prototype,n),r&&i(t,r),s}(r.Component)},1034:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r=n(0),a=n.n(r),o=n(22),i=n(119),c=n(1035),l=(n(988),n(976));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(v,t);var n,s,u,y=h(v);function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(t=y.call(this,e)).state={form_values:{id:null,username:"",first_name:"",last_name:"",position:"",email:"",gender:"Эрэгтэй",register:"",is_admin:!1,is_super:!1,phone_number:"",state:1,pro_class:"",is_user:!0},aimag:[],sum:[],horoo:[],aimag_id:-1,sum_id:-1,horoo_id:-1,aimag_name:"",sum_name:"",horoo_name:"",aimag_geo_id:"",sum_geo_id:"",horoo_geo_id:"",feature:{},description:"",point_coordinate:[],point:{},street:"",apartment:"",door_number:"",address_state:!0,is_loading:!0,errors:"",firstOrder_geom:"",positions:[],states:[],pro_classes:[]},t.handleSubmit=t.handleSubmit.bind(b(t)),t.handleGetAll=t.handleGetAll.bind(b(t)),t.getFeildValues=t.getFeildValues.bind(b(t)),t.handleChange=t.handleChange.bind(b(t)),t.getPoint=t.getPoint.bind(b(t)),t.getGeomFromJson=t.getGeomFromJson.bind(b(t)),t.getGeom=t.getGeom.bind(b(t)),t.getSelectValue=t.getSelectValue.bind(b(t)),t}return n=v,(s=[{key:"componentDidMount",value:function(){var e=this.props.match.params.emp,t=this.props.match.params.id;this.getSelectValue(t),e?this.handleGetAll(e):this.getFeildValues()}},{key:"getSelectValue",value:function(e){var t=this;l.a.getSelectValue(e).then((function(e){var n=e.success,r=e.positions,a=e.states,o=e.pro_classes;n&&t.setState({positions:r,states:a,pro_classes:o})}))}},{key:"handleGetAll",value:function(e){var t=this;l.a.employeeDetail(e).then((function(n){var r=n.success,a=n.employee;r&&(e&&t.getFeildValues(a.level_1,a.level_2,a.level_3),t.setState({form_values:{id:a.id,username:a.username,first_name:a.first_name,last_name:a.last_name,email:a.email,gender:a.gender,register:a.register,position:a.position_id,is_admin:a.is_admin,is_super:a.is_super,phone_number:a.phone_number,state:a.state_id,pro_class:a.pro_class_id,is_user:a.is_user},point:a.point,street:a.street,apartment:a.apartment,door_number:a.door_number,address_state:a.address_state}))}))}},{key:"setModal",value:function(t,n,r,a,o,i,c){var l={modal_status:"open",modal_icon:a,modal_bg:"",icon_color:r,title:t,text:n,has_button:o,actionNameBack:"Буцах",actionNameDelete:"",modalAction:i,modalClose:c};e.MODAL(l)}},{key:"modalClose",value:function(e){var t=this.props.match.params.level,n=this.props.match.params.id;this.props.history.push("/back/байгууллага/түвшин/".concat(t,"/").concat(n,"/хэрэглэгч/").concat(e,"/дэлгэрэнгүй/"))}},{key:"handleSubmit",value:function(t,n){var r=this,a=(n.setStatus,n.setSubmitting),o=n.setErrors,i=this.props.match.params.level,c=this.props.match.params.id,s=this.props.match.params.emp,u=this.state,f=u.street,m=u.apartment,d=u.door_number,p=u.address_state,h={values:t,address:{street:f,apartment:m,door_number:d,level_1:u.aimag_name,level_2:u.sum_name,level_3:u.horoo_name,point:u.point_coordinate,address_state:p}};this.setState({is_loading:!0}),s?t.re_password!==t.password?(o({re_password:"Нууц үг адил биш байна."}),a(!1),this.setState({is_loading:!1})):l.a.employeeUpdate(s,i,h).then((function(e){var t=e.success,n=e.errors;t?r.setModal("Амжилттай","","success","fa fa-check-circle",!1,"",(function(){return r.modalClose(s)})):(o(n),r.setState({errors:n})),a(!1),r.setState({is_loading:!1})})).catch((function(e){r.setModal("Алдаа гарсан байна","","danger","fa fa-times-circle",!1,"",""),r.setState({is_loading:!1}),a(!1)})):l.a.employeeAdd(i,c,h).then((function(t){var n=t.success,c=t.errors,l=t.employee;n?(r.setModal("Амжилттай","","success","fa fa-check-circle",!1,"",(function(){return r.modalClose(l.id)})),e.refreshOrgCount(i)):(o(c),r.setState({errors:c})),r.setState({is_loading:!1}),a(!1),r.setState({is_loading:!1})})).catch((function(e){r.setModal("Алдаа гарсан байна","","danger","fa fa-times-circle",!1,"",""),r.setState({is_loading:!1}),a(!1),r.setState({is_loading:!1})}))}},{key:"getGeomFromJson",value:function(e,t){var n;return t.map((function(t,r){t.name==e&&(n=r)})),n}},{key:"getFeildValues",value:function(e,t,n){var r,a,o=this,i=Object();l.a.formOptions("second").then((function(c){var l=c.success,s=c.secondOrders,u=c.firstOrder_geom;l&&(e&&(i.aimag_id=o.getGeomFromJson(e,s),r=s[i.aimag_id].geo_id,i.aimag_geo_id=r,i.aimag_name=e,a=s[i.aimag_id].children,i.sum=a),t&&(i.sum_id=o.getGeomFromJson(t,a),r=a[i.sum_id].geo_id,i.sum_geo_id=r,a=a[i.sum_id].children,i.horoo=a,i.sum_name=t),n&&(i.horoo_id=o.getGeomFromJson(n,a),r=a[i.horoo_id].geo_id,i.horoo_geo_id=r,i.horoo_name=n),o.getGeom(r),o.setState(f(f({aimag:s},i),{},{is_loading:!1,firstOrder_geom:u})))}))}},{key:"getGeom",value:function(e){var t=this;l.a.getGeom(e).then((function(e){var n=e.data;n&&t.setState({feature:n})}))}},{key:"getPoint",value:function(e){var t=e;"string"==typeof e&&(t=e.split(","));var n=[t[1],t[0]];this.setState({point_coordinate:n})}},{key:"handleChange",value:function(e,t,n,r,a){var o,i=t+"_id",c=t+"_geo_id",l=t+"_name",s=e.target.value,u=Object();if("-1"!==s){var d=this.state[t][s];this.setState(m({},n,d.children)),n&&(u[n]=d.children),o=d.geo_id,r.map((function(e,t){var n=e+"_geo_id",r=e+"_name";u[e+"_id"]=-1,u[n]="",u[r]=""})),u[c]=o,u[l]=d.name,this.getGeom(o)}else{if(r.length>0&&r.map((function(e,t){var n=e+"_id",r=e+"_geo_id",a=e+"_name";u[e]=[],u[n]=-1,u[r]="",u[a]=""})),"mongol"!==a){var p=a+"_id",h=this.state[p];o=this.state[a][h].geo_id}else o=this.state.firstOrder_geom;u[c]=o,this.getGeom(o)}this.setState(f(m({},i,s),u))}},{key:"render",value:function(){var e=this,t=this.state,n=t.form_values,l=t.aimag,s=t.sum,u=t.horoo,f=t.aimag_id,m=t.sum_id,d=t.horoo_id,p=t.is_loading,h=t.feature,y=t.street,b=t.apartment,v=t.door_number,g=t.point,_=t.errors,E=t.address_state,k=(t.is_user,this.state),O=k.positions,w=k.states,j=k.pro_classes,S=this.props.match.params.level,N=this.props.match.params.id,x=this.props.match.params.emp;return"/back/байгууллага/түвшин/".concat(S,"/").concat(N,"/хэрэглэгч/"),"/back/байгууллага/түвшин/".concat(S,"/").concat(N,"/хэрэглэгч/").concat(x,"/дэлгэрэнгүй/"),a.a.createElement("div",{className:"ml-3"},a.a.createElement(i.a,{is_loading:p}),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-4"},a.a.createElement(o.e,{enableReinitialize:!0,initialValues:n,onSubmit:this.handleSubmit},(function(e){var t=e.errors,n=(e.values,e.isSubmitting);return a.a.createElement(o.d,null,a.a.createElement("div",null,a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-12"},a.a.createElement("div",{className:"position-relative has-icon-right"},a.a.createElement("label",{htmlFor:"id_name"},"Нэвтрэх нэр:"),a.a.createElement(o.b,{className:"form-control "+(t.username?"is-invalid":""),name:"username",id:"id_username",type:"text",placeholder:"Нэвтрэх нэр"}),a.a.createElement(o.a,{name:"username",component:"div",className:"invalid-feedback"})))),a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-6"},a.a.createElement("label",{htmlFor:"first_name"},"Овог:"),a.a.createElement(o.b,{className:"form-control "+(t.last_name?"is-invalid":""),name:"last_name",id:"id_last_name",type:"text",placeholder:"Овог"}),a.a.createElement(o.a,{name:"last_name",component:"div",className:"invalid-feedback"})),a.a.createElement("div",{className:"form-group col-6"},a.a.createElement("label",{htmlFor:"first_name"},"Нэр:"),a.a.createElement(o.b,{className:"form-control "+(t.first_name?"is-invalid":""),name:"first_name",id:"id_first_name",type:"text",placeholder:"Нэр"}),a.a.createElement(o.a,{name:"first_name",component:"div",className:"invalid-feedback"}))),a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-12"},a.a.createElement("label",{htmlFor:"position"},"Албан тушаал:"),a.a.createElement(o.b,{name:"position",as:"select",id:"position",style:{fontSize:"0.8rem"},className:"custom-select "+(t.position?"is-invalid":"")},a.a.createElement("option",{value:""},"--- Албан тушаал сонгоно уу ---"),O.map((function(e,t){return a.a.createElement("option",{key:t,value:e.id},e.name)}))),a.a.createElement(o.a,{name:"position",component:"span",className:"invalid-feedback"}))),a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-12"},a.a.createElement("label",{htmlFor:"email"},"E-Mail"),a.a.createElement(o.b,{className:"form-control "+(t.email?"is-invalid":""),name:"email",id:"id_email",type:"text",placeholder:"E-Mail"}),a.a.createElement(o.a,{name:"email",component:"div",className:"invalid-feedback"}))),a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-12"},a.a.createElement("label",{htmlFor:"gender"},"Хүйс:"),a.a.createElement(r.Fragment,null,a.a.createElement(o.b,{name:"gender",as:"select",className:"form-control "+(t.gender?"is-invalid":"")},a.a.createElement("option",null,"Эрэгтэй"),a.a.createElement("option",null,"Эмэгтэй")),a.a.createElement(o.a,{name:"gender",component:"div",className:"text-dange"})))),a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-6"},a.a.createElement("label",{htmlFor:"phone_number"},"Утасны дугаар:"),a.a.createElement(o.b,{className:"form-control "+(t.phone_number?"is-invalid":""),name:"phone_number",id:"id_phone_number",type:"text",placeholder:"Утасны дугаар"}),a.a.createElement(o.a,{name:"phone_number",component:"div",className:"invalid-feedback"})),a.a.createElement("div",{className:"form-group col-6"},a.a.createElement("label",{htmlFor:"register"},"Регистер:"),a.a.createElement(o.b,{className:"form-control "+(t.register?"is-invalid":""),name:"register",id:"id_register",type:"text",placeholder:"Регистер"}),a.a.createElement(o.a,{name:"register",component:"div",className:"invalid-feedback"}))),a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-12"},a.a.createElement("label",{htmlFor:"id_state"},"Төлөв:"),a.a.createElement(o.b,{name:"state",as:"select",id:"state",style:{fontSize:"0.8rem"},className:"custom-select "+(t.state?"is-invalid":"")},w.map((function(e,t){return a.a.createElement("option",{key:t,value:e[0]},e[1])}))),a.a.createElement(o.a,{name:"state",component:"div",className:"invalid-feedback"}))),a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-12"},a.a.createElement("label",{htmlFor:"id_pro_class"},"Мэргэжлийн ангийн бүрэлдэхүүн:"),a.a.createElement(o.b,{name:"pro_class",as:"select",id:"pro_class",style:{fontSize:"0.8rem"},className:"custom-select "+(t.pro_class?"is-invalid":"")},a.a.createElement("option",{value:""},"--- Мэргэжлийн ангийн бүрэлдэхүүн ---"),j.map((function(e,t){return a.a.createElement("option",{key:t,value:e[0]},e[1])}))),a.a.createElement(o.a,{name:"pro_class",component:"div",className:"invalid-feedback"}))),a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-12"},a.a.createElement("label",{htmlFor:"id_is_admin"},"Байгууллагын админ"),a.a.createElement(o.b,{className:"ml-2",name:"is_admin",id:"id_is_admin",type:"checkbox"}),a.a.createElement(o.a,{name:"is_admin",component:"div",className:"invalid-feedback"})),a.a.createElement("div",{className:"form-group col-12"},a.a.createElement("label",{htmlFor:"id_is_user"},"хэрэглэгч"),a.a.createElement(o.b,{className:"ml-2",name:"is_user",id:"id_is_user",type:"checkbox"}))),4==S&&a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-12"},a.a.createElement("label",{htmlFor:"id_is_super"},"Системийн админ"),a.a.createElement(o.b,{className:"ml-2",name:"is_super",id:"id_is_super",type:"checkbox"}),a.a.createElement(o.a,{name:"is_super",component:"div",className:"invalid-feedback"}))),a.a.createElement("div",{className:"form-group"},a.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:n},n&&a.a.createElement("i",{className:"fa fa-spinner fa-spin"}),n&&a.a.createElement("a",{className:"text-light"},"Шалгаж байна."),!n&&"Хадгалах"))))}))),a.a.createElement("div",{className:"col-md-8"},a.a.createElement("div",{className:"form-row p-1"},a.a.createElement("div",{className:"form-group col-4"},a.a.createElement("label",{htmlFor:"aimag"},"Аймаг/Хот:"),a.a.createElement("select",{id:"aimag",className:"custom-select "+(_.level_1?"is-invalid":""),"aria-label":"Default select example",onChange:function(t){return e.handleChange(t,"aimag","sum",["sum","horoo"],"mongol")},value:f},a.a.createElement("option",{value:"-1"},"--- Аймаг/Хот сонгох ---"),l.map((function(e,t){return a.a.createElement("option",{key:t,value:t},e.name)})))),a.a.createElement("div",{className:"form-group col-4"},a.a.createElement("label",{htmlFor:"sum"},"Сум/Дүүрэг:"),a.a.createElement("select",{id:"sum",className:"custom-select "+(_.level_2?"is-invalid":""),onChange:function(t){return e.handleChange(t,"sum","horoo",["horoo"],"aimag")},value:m},a.a.createElement("option",{value:"-1"},"--- Сум/Дүүрэг сонгох ---"),s.map((function(e,t){return a.a.createElement("option",{key:t,value:t},e.name)})))),a.a.createElement("div",{className:"form-group col-4"},a.a.createElement("label",{htmlFor:"horoo"},"Хороо/Баг:"),a.a.createElement("select",{id:"horoo",className:"custom-select "+(_.level_3?"is-invalid":""),onChange:function(t){return e.handleChange(t,"horoo",void 0,[],"sum")},value:d},a.a.createElement("option",{value:"-1"},"--- Баг/Хороо сонгох ---"),u.map((function(e,t){return a.a.createElement("option",{key:t,value:t},e.name)})))),a.a.createElement("div",{className:"form-group col-4"},a.a.createElement("label",{htmlFor:"street"},"Гудамж:"),a.a.createElement("div",{className:"input-group"},a.a.createElement("input",{id:"street",className:"form-control "+(_.street?"is-invalid":""),onChange:function(t){return e.setState({street:t.target.value})},value:y,placeholder:"Гудамжны нэрийг оруулах"}),a.a.createElement("div",{className:"input-group-append"},a.a.createElement("span",{className:"input-group-text"},"гудамж")))),a.a.createElement("div",{className:"form-group col-2"},a.a.createElement("label",{htmlFor:"apartment"},"Байр:"),a.a.createElement("div",{className:"input-group"},a.a.createElement("input",{id:"apartment",className:"form-control "+(_.apartment?"is-invalid":""),onChange:function(t){return e.setState({apartment:t.target.value})},value:b,placeholder:"Байрны дугаарыг оруулах"}),a.a.createElement("div",{className:"input-group-append"},a.a.createElement("span",{className:"input-group-text"},"байр")))),a.a.createElement("div",{className:"form-group col-2"},a.a.createElement("label",{htmlFor:"door_number"},"Хаалганы дугаар:"),a.a.createElement("div",{className:"input-group"},a.a.createElement("input",{id:"door_number",className:"form-control "+(_.door_number?"is-invalid":""),onChange:function(t){return e.setState({door_number:t.target.value})},value:v,placeholder:"Хаалганы дугаарыг оруулах"}),a.a.createElement("div",{className:"input-group-append"},a.a.createElement("span",{className:"input-group-text"},"тоот")))),a.a.createElement("div",{className:"form-group mt-4"},a.a.createElement("div",{className:"form-check"},a.a.createElement("label",{className:"form-check-label",htmlFor:"id_address_state"},"Байнгын оршин суугаа хаяг"),a.a.createElement("input",{onChange:function(t){return e.setState({address_state:t.target.checked})},className:"form-check-input col-4 "+(_.address_state?"is-invalid":""),type:"checkbox",id:"id_address_state",checked:E})))),a.a.createElement(c.a,{feature:h,sendPointCoordinate:this.getPoint,point:g,class:_.point?"border border-danger":""}))))}}])&&d(n.prototype,s),u&&d(n,u),v}(r.Component)}).call(this,n(48))},1035:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n(0),a=n.n(r),o=n(89),i=n(580),c=n(304),l=n(197),s=n(972),u=n(196),f=n(67),m=n(2),d=n(130),p=n(925),h=n(198),y=n(224),b=n(18),v=n(71),g=n(303);n(245);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(w,e);var t,n,r,_=O(w);function w(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),(t=_.call(this,e)).state={projection_data:"EPSG:4326",projection_display:"EPSG:3857",coordinate_clicked:[],features:[]},t.marker=t.initMarker(),t.loadMap=t.loadMap.bind(j(t)),t.handleMapClick=t.handleMapClick.bind(j(t)),t.setFeatures=t.setFeatures.bind(j(t)),t.removeFeatureFromSource=t.removeFeatureFromSource.bind(j(t)),t.setMarker=t.setMarker.bind(j(t)),t}return t=w,(n=[{key:"initMarker",value:function(){var e=new d.c({image:new p.a({anchor:[.5,86],anchorXUnits:"fraction",anchorYUnits:"pixels",scale:.4,src:"/static/assets/image/marker.png"})}),t=new v.a([0,0]),n=new o.a({geometry:t});return n.setStyle(e),{feature:n,point:t}}},{key:"componentDidMount",value:function(){this.loadMap()}},{key:"componentDidUpdate",value:function(e,t){e.feature!==this.props.feature&&this.props.feature!=={}&&this.setFeatures(this.props.feature),e.point!==this.props.point&&this.props.point&&this.props.point!=={}&&this.setMarker(this.props.point)}},{key:"removeFeatureFromSource",value:function(e){var t=this.vector_layer.getSource(),n=t.getFeatures();if(null!=n&&n.length>0)for(var r=0;r<n.length;r++)if(n[r].getProperties().id==e){t.removeFeature(n[r]);break}}},{key:"fromLonLatToMapCoord",value:function(e){return Object(m.d)(e)}},{key:"setMarker",value:function(e){var t=JSON.parse(e);if(t){var n=t.coordinates,r=this.fromLonLatToMapCoord(n);this.marker.point.setCoordinates(r),this.props.sendPointCoordinate([n[1],n[0]])}}},{key:"setFeatures",value:function(e){var t="aimag_sum";this.removeFeatureFromSource(t),(e=(new g.a).readFeatures(e,{dataProjection:this.state.projection_data,featureProjection:this.state.projection_display}))[0].setProperties({id:t}),this.vector_layer.getSource().addFeature(e[0]),this.map.getView().fit(e[0].getGeometry(),{padding:[100,100,100,100],duration:2e3})}},{key:"loadMap",value:function(){var e=new u.a({source:new l.a({features:[this.marker.feature]})});this.marker_layer=e;var t=new u.a({source:new l.a({}),style:new d.c({stroke:new h.a({color:"rgba(100, 255, 0, 1)",width:2}),fill:new y.a({color:"rgba(100, 255, 0, 0.3)"})})});this.vector_layer=t;var n=new i.a({layers:[new f.a({source:new s.a}),t,e],target:"map",view:new c.a({center:[11461613.630815497,5878656.0228370065],zoom:5.041301562246971})});n.on("click",this.handleMapClick),this.map=n}},{key:"handleMapClick",value:function(e){var t=e.coordinate;this.marker.point.setCoordinates(t);var n=e.map.getView().getProjection(),r=Object(m.p)(e.coordinate,n,this.state.projection_data),a=Object(b.f)(r,"{y},{x}",6);this.props.sendPointCoordinate(a),this.setState({coordinate_clicked:a})}},{key:"render",value:function(){return a.a.createElement("div",{id:"map",style:{height:"75%"},className:"".concat(this.props.class)})}}])&&E(t.prototype,n),r&&E(t,r),w}(r.Component)},1036:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(0),a=n.n(r),o=(n(986),n(980),n(976)),i=n(1037),c=n(1038),l=n(1039),s=(n(1040),n(1129));function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(d,t);var n,r,u,f=y(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=f.call(this,e)).state={employee:{id:"",username:"",first_name:"",last_name:"",email:"",gender:"",register:"",position:"",is_admin:!1,is_super:!1},points:[],point:[],is_loading:!0,is_empty:!1,status_token_refresh:"initial",status_delete:"initial"},t.fetchDetail=t.fetchDetail.bind(v(t)),t.handleTokenRefresh=t.handleTokenRefresh.bind(v(t)),t.handleDelete=t.handleDelete.bind(v(t)),t.handleDeleteSuccess=t.handleDeleteSuccess.bind(v(t)),t.getAddresses=t.getAddresses.bind(v(t)),t.setLoading=t.setLoading.bind(v(t)),t.getFeature=t.getFeature.bind(v(t)),t}return n=d,(r=[{key:"componentDidMount",value:function(){var e=this.props.match.params.emp;Promise.all([this.getAddresses(e),this.fetchDetail(e)])}},{key:"fetchDetail",value:function(e){var t=this;o.a.employeeDetail(e).then((function(e){var n=e.success,r=e.employee;n&&t.setState({employee:r})}))}},{key:"handleTokenRefresh",value:function(){var e=this,t=this.props.match.params.emp;this.setState({status_token_refresh:"loading"}),o.a.empTokenRefresh(t).then((function(n){var r=n.success;r&&e.fetchDetail(t),e.setState({status_token_refresh:r?"success":"fail"})}))}},{key:"handleDelete",value:function(){var t=this;this.setState({status_delete:"initial"});var n=this.props.match.params,r=n.emp,a=n.level;this.setState({status_delete:"loading"}),o.a.employeeRemove(r).then((function(n){var r=n.success;e.refreshOrgCount(a),t.setState({status_delete:r?"success":"fail"})}))}},{key:"handleDeleteSuccess",value:function(){var e=this.props.match.params,t=e.level,n=e.id;this.props.history.push("/back/байгууллага/түвшин/".concat(t,"/").concat(n,"/хэрэглэгч/"))}},{key:"getAddresses",value:function(e){var t=this;o.a.getAddress(e).then((function(e){var n=e.success,r=e.points;if(n){var a=r.features.length,o=Object();a>1?o.points=r:1==a&&(o.point=r),t.setState(m(m({},o),{},{is_loading:!1}))}}))}},{key:"getFeature",value:function(e){this.setState({feature:e})}},{key:"setLoading",value:function(e){this.setState({is_loading:e})}},{key:"getPoint",value:function(e){var t=e;return"string"==typeof e&&(t=e.split(",")),[t[1],t[0]]}},{key:"render",value:function(){var e=this.props.match.params,t=e.level,n=e.id,r=e.emp,o=this.state.employee,u=o.username,f=o.last_name,m=o.first_name,d=o.position,p=o.email,h=o.gender,y=o.register,b=o.is_admin,v=o.is_active,g=o.token,_=o.created_at,E=o.updated_at,k=o.phone_number,O=o.level_1,w=o.level_2,j=o.level_3,S=o.street,N=o.apartment,x=o.door_number,P=o.state,C=o.address_state_display,R=o.pro_class,F=this.state,T=F.status_token_refresh,G=F.status_delete,L=F.points,D=F.point;return F.feature,a.a.createElement("div",{className:"container-fluid"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12 p-0 text-right"},a.a.createElement(i.a,{onClick:this.handleTokenRefresh,status:T}),a.a.createElement(c.a,{to:"/back/байгууллага/түвшин/".concat(t,"/").concat(n,"/хэрэглэгч/").concat(r,"/засах/")}),a.a.createElement(l.a,{status:G,onClick:this.handleDelete,employee_name:m,onSuccess:this.handleDeleteSuccess}))),a.a.createElement("div",{className:"row mt-4"},a.a.createElement("div",{className:"col-md-6"},a.a.createElement("dl",{className:"row"},a.a.createElement("dt",{className:"col-md-3"},"Нэвтрэх нэр:"),a.a.createElement("dd",{className:"col-md-9"},u),a.a.createElement("dt",{className:"col-md-3"},"Овог, нэр:"),a.a.createElement("dd",{className:"col-md-9"},f,", ",m),a.a.createElement("dt",{className:"col-md-3"},"Албан тушаал:"),a.a.createElement("dd",{className:"col-md-9"},d),a.a.createElement("dt",{className:"col-md-3"},"Токен:"),a.a.createElement("dd",{className:"col-md-9"},g),a.a.createElement("dt",{className:"col-md-3"},"Мэргэжлийн ангийн бүрэлдэхүүн статус:"),a.a.createElement("dd",{className:"col-md-9"},R)),a.a.createElement("dl",{className:"row"},a.a.createElement("dt",{className:"col-md-3"},"Бүртгэсэн:"),a.a.createElement("dd",{className:"col-md-9"},_),a.a.createElement("dt",{className:"col-md-3"},"Зассан:"),a.a.createElement("dd",{className:"col-md-9"},E))),a.a.createElement("div",{className:"col-md-6"},a.a.createElement("dl",{className:"row"},a.a.createElement("dt",{className:"col-md-3"},"Мэйл хаяг:"),a.a.createElement("dd",{className:"col-md-9"},p),a.a.createElement("dt",{className:"col-md-3"},"Хүйс:"),a.a.createElement("dd",{className:"col-md-9"},h),a.a.createElement("dt",{className:"col-md-3"},"Регистр:"),a.a.createElement("dd",{className:"col-md-9"},y),a.a.createElement("dt",{className:"col-md-3"},"Утасны дугаар:"),a.a.createElement("dd",{className:"col-md-9"},k),a.a.createElement("dt",{className:"col-md-3"},"Ажилтны төлөв:"),a.a.createElement("dd",{className:"col-md-9"},P)),O&&a.a.createElement("dl",{className:"row"},a.a.createElement("dt",{className:"col-md-3"},"Гэрийн хаяг:"),a.a.createElement("dd",{className:"col-md-9"},O+", "+w+", "+j+", "+S+" гудамж "+N+" байр, "+x+" тоот"),a.a.createElement("dt",{className:"col-md-3"},"Төлөв:"),a.a.createElement("dd",{className:"col-md-9"},C)),b&&a.a.createElement("p",null,a.a.createElement("i",{className:"fa fa-check-circle-o fa-lg","aria-hidden":"true"})," Байгууллагын админ"),!v&&a.a.createElement("p",null,a.a.createElement("i",{className:"fa fa-times-circle text-danger fa-lg","aria-hidden":"true"})," Нэвтрэх эрхгүй"))),a.a.createElement(s.a,{features:L,feature:D,setLoading:this.setLoading}))}}])&&p(n.prototype,r),u&&p(n,u),d}(r.Component)}).call(this,n(48))},1037:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),a=n.n(r),o=n(76);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(m,e);var t,n,i,u=s(m);function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=u.call(this,e)).state={modal_status:"closed",status_token_refresh:e.status},t.handleButtonClick=t.handleButtonClick.bind(f(t)),t.modalChange=t.modalChange.bind(f(t)),t.handleModalOpen=t.handleModalOpen.bind(f(t)),t}return t=m,(n=[{key:"componentDidUpdate",value:function(e,t){t.status_token_refresh!=this.props.status&&("success"==this.props.status?this.modalChange("fa fa-check-circle","success","Токенийг амжилттай шинэчиллээ!","",!1):"fail"==this.props.status&&this.modalChange("fa fa-times-circle","danger","Токен шинэчлэхэд алдаа гарлаа!","",!1),this.setState({status_token_refresh:this.props.status}))}},{key:"handleModalOpen",value:function(){var e=this;this.setState({modal_status:"open"},(function(){e.setState({modal_status:"initial"})}))}},{key:"modalChange",value:function(e,t,n,r,a){this.setState({modal_icon:e,icon_color:t,title:n,text:r,has_button:a}),this.handleModalOpen()}},{key:"handleButtonClick",value:function(){this.modalChange("fa fa-exclamation-circle","warning","Токен шинэчлэх","Токенийг шинэчилсэнээр уг URL-ээр одоо ашиглаж байгаа газрууд ажиллахгүй болохыг анхаарна уу!",!0)}},{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement("span",{onClick:this.handleButtonClick,className:"btn btn-primary waves-effect waves-light m-1"},a.a.createElement("i",{className:"fa fa-refresh"})," Токен шинэчлэх"),a.a.createElement(o.a,{modal_status:this.state.modal_status,modal_icon:this.state.modal_icon,icon_color:this.state.icon_color,title:this.state.title,has_button:this.state.has_button,text:this.state.text,modalAction:this.props.onClick,actionNameDelete:"Шинэчлэх"}))}}])&&c(t.prototype,n),i&&c(t,i),m}(r.Component)},1038:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),o=n(30);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){return a.a.createElement(o.c,i({},e,{className:"btn btn-primary waves-effect waves-light m-1"}),a.a.createElement("i",{className:"fa fa-pencil-square-o"})," Засах")}},1039:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(0),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var a=u(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,t);var n,o,s,u=l(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=u.call(this,e)).state={modal_status:"closed"},t}return n=f,(o=[{key:"componentDidUpdate",value:function(t,n){if(t.status!==this.props.status){if("success"==this.props.status){var r={modal_status:"open",modal_icon:"fa fa-check-circle",modal_bg:"",icon_color:"success",title:"Ажилттай",text:"Албан хаагчийн төлөв чөлөөлөгдсөн боллоо!",has_button:!1,actionNameBack:"",actionNameDelete:"",modalAction:null,modalClose:this.props.onSuccess};e.MODAL(r)}"fail"==this.props.status&&e.MODAL({modal_status:"open",modal_icon:"fa fa-times-circle",icon_color:"danger",modal_bg:"",title:"Устгах боломжгүй хэрэглэгч байна!",text:"Хэрэглэгч худалдан авалт хийсэн байна.",has_button:!1,actionNameBack:"",actionNameDelete:"",modalAction:null,modalClose:null})}}},{key:"render",value:function(){var t=this;return a.a.createElement(r.Fragment,null,a.a.createElement("span",{onClick:function(){var n={modal_status:"open",modal_icon:"fa fa-exclamation-circle",icon_color:"warning",modal_bg:"",title:"Албан хаагчийг чөлөөлөх",text:"".concat('Та "'.concat(t.props.employee_name,'" нэртэй албан хаагчийн төлөв чөлөөлөгдсөн болно. Та чөлөөлөхдөө итгэлтэй байна уу?')),has_button:!0,actionNameDelete:"Тийм",actionNameBack:"Үгүй",modalAction:t.props.onClick,modalClose:null};e.MODAL(n)},className:"btn btn-danger waves-effect waves-light m-1"},a.a.createElement("i",{className:"fa fa fa-trash-o"})," Чөлөөлөх"))}}])&&i(n.prototype,o),s&&i(n,s),f}(r.Component)}).call(this,n(48))},1040:function(e,t,n){"use strict";n(0),n(30)},1041:function(e,t,n){var r=n(69),a=n(1042);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},1042:function(e,t,n){(t=n(70)(!1)).push([e.i,".суурь-давхаргууд{\n    right: .0rem;\n    z-index: -100;\n    bottom: 2px;\n    height: 2.1rem;\n    position: absolute;\n\n}\n\n.суурь-давхаргууд > .суурь-давхарга{\n    display: block;\n    width: 5.6rem;\n    height: 1.75rem;\n    overflow: hidden;\n    margin: 1px;\n    border-radius: 2px;\n    float: right;\n    transition: opacity .15s ease-out;\n}\n\n.суурь-давхаргууд > .суурь-давхарга.active,\n.суурь-давхаргууд:hover > .суурь-давхарга.active:hover,\n.суурь-давхаргууд > .суурь-давхарга:hover {\n    opacity: 1;\n}\n\n.суурь-давхаргууд > .суурь-давхарга,\n.суурь-давхаргууд:hover > .суурь-давхарга.active {\n    opacity: .7;\n}\n",""]),e.exports=t},1043:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),a=n.n(r),o=n(12),i=(n(1044),n(1046));function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(f,e);var t,n,r,c=u(f);function f(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),c.call(this,e)}return t=f,(n=[{key:"render",value:function(){return a.a.createElement(o.d,null,a.a.createElement(o.b,{exact:!0,path:"/back/байгууллага/түвшин/:level/:id/эрх/",component:i.a}))}}])&&l(t.prototype,n),r&&l(t,r),f}(r.Component)},1044:function(e,t,n){var r=n(69),a=n(1045);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},1045:function(e,t,n){(t=n(70)(!1)).push([e.i,".fixed-height-b{\n    overflow-y: scroll;\n    height: calc(87vh - 60px);\n    padding-right: 5px;\n    padding-left: 5px;\n    background-color: ghostwhite;\n}\n\n.fixed-height-body{\n    background-color: rgb(247, 249, 250, 1);\n    background-color: white;\n    border-radius: 1px rgb(235, 242, 245, 1);\n    box-shadow: 0 2px 6px 0 rgba(218, 218, 253, 0.65), 0 2px 6px 0 rgba(206, 206, 238, 0.54);\n    border: none;\n    position: relative;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    min-width: 0;\n    word-wrap: break-word;\n    background-clip: border-box;\n    border: 1px solid rgba(0,0,0,.125);\n    border-radius: .25rem;\n}\n\n.fixed-left{\n    position: fixed;\n    height: calc(75vh - 88px);\n}\n.smaller{\n    font-size: 59%;\n    font-weight: 400;\n    text-align: center;\n    font-weight: bold;\n}\n.bc-white{\n    background-color: white;\n    padding-top: 0.76rem;\n    padding-right: 0.76rem;\n    padding-left: 0.76rem;\n    padding-bottom: 0.76rem;\n    margin-bottom: 25px;\n    box-shadow: 0 2px 6px 0 rgba(218, 218, 253, 0.65), 0 2px 6px 0 rgba(206, 206, 238, 0.54);\n}\n\n.role-card {\n    min-height: 100%;\n    margin-bottom: 25px;\n    background-color: rgb(247, 249, 250, 1);\n    border-radius: 1px rgb(235, 242, 245, 1);\n    /* box-shadow: 0 2px 6px 0 rgba(218, 218, 253, 0.65), 0 2px 6px 0 rgba(206, 206, 238, 0.54); */\n    border: none;\n    position: relative;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    min-width: 0;\n    word-wrap: break-word;\n    background-clip: border-box;\n    border: 1px solid rgba(0,0,0,.125);\n    border-radius: .25rem;\n    margin-bottom: 0;\n}\n\n.role-card-body {\n    -ms-flex: 1 1 auto;\n    flex: 1 1 auto;\n    min-height: 1px;\n    padding: 1.25rem;\n}\n\n.role-table-card {\n    min-height: 100%;\n    margin-bottom: 15px;\n    background-color: white;\n    border-radius: 1px rgb(235, 242, 245, 1);\n    border: none;\n    margin-top: -16px;\n    position: relative;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    min-width: 0;\n    word-wrap: break-word;\n    background-clip: border-box;\n    border: 1px solid rgba(0,0,0,.125);\n    border-radius: .25rem;\n}\n\n.role-table-card-body {\n    -ms-flex: 1 1 auto;\n    flex: 1 1 auto;\n    min-height: 1px;\n    padding: 1.25rem;\n}\n\n/* switch */\n\n.switch-tree-state{\n\n    width: 46px;\n    height: 18px;\n    background-color: #fff;\n    border-radius: 50px;\n    padding: 1px;\n    display: flex;\n    flex-wrap: wrap;\n    border: #adb5bd solid 1px;\n}\n.switch-tree-state:hover {\n    -webkit-box-shadow: 0px 0px 11px 0px rgba(0,123,255,1);\n-moz-box-shadow: 0px 0px 11px 0px rgba(0,123,255,1);\nbox-shadow: 0px 0px 11px 0px rgba(0,123,255,1);\n}\n.switch-tree-state:active {\n    -webkit-box-shadow: 0px 0px 11px 0px rgba(0,123,255,1);\n    -moz-box-shadow: 0px 0px 11px 0px rgba(0,123,255,1);\n    box-shadow: 0px 0px 11px 0px rgba(0,123,255,1);\n}\n.switch-all{\n    width: 14px;\n    height: 14px;\n    border-radius: 50px;\n    max-width: 33.333%;\n}\n\n.switch-one{\n    position: relative;\n    background-color: #28a745;\n    left: 0px;\n    animation: switch-one 0.7s 1;\n}\n@keyframes switch-one {\n    0% {left: 30px}\n}\n\n.switch-two{\n    position: relative;\n    background-color: #007bff;\n    border-radius: 50px;\n    animation: switch-two 1s 1;\n\n}\n@keyframes switch-two {\n    0% {background-color: white}\n}\n.switch-tree{\n    position: relative;\n    background-color: #dc3545;\n    right: 0px;\n    animation: switch-tree 0.7s 1;\n}\n@keyframes switch-tree {\n    0% {right: 30px;}\n}\n",""]),e.exports=t},1046:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(0),a=n.n(r),o=n(1047),i=n(1048),c=n(119);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,t);var n,l,m,p=f(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=p.call(this,e)).state={data:[],tid:0,tid_index:0,pid:0,pid_index:0,fid:0,fid_index:0,properties:[],properties_perms:[],handle_save_is_laod:!1,role_is_load:!1},t.handleRoles=t.handleRoles.bind(d(t)),t.handleFeature=t.handleFeature.bind(d(t)),t.handleSubmit=t.handleSubmit.bind(d(t)),t.handleChecked=t.handleChecked.bind(d(t)),t.handleCheckedTheme=t.handleCheckedTheme.bind(d(t)),t.handleCheckedPackage=t.handleCheckedPackage.bind(d(t)),t.handleCheckedFeature=t.handleCheckedFeature.bind(d(t)),t.handleCheckedPerm=t.handleCheckedPerm.bind(d(t)),t.handleStateAll=t.handleStateAll.bind(d(t)),t.handleStateSole=t.handleStateSole.bind(d(t)),t}return n=h,(l=[{key:"componentDidMount",value:function(){this.handleRoles()}},{key:"handleRoles",value:function(){var e=this,t=this.props.match.params,n=t.level,r=t.id;this.setState({role_is_load:!0}),o.a.getGovRoles(n,r).then((function(t){var n=t.success,r=t.data,a=t.roles;n&&e.setState({data:r,properties_perms:a,role_is_load:!1})}))}},{key:"handleFeature",value:function(e,t,n,r,a,o,i){this.setState({tid:e,tid_index:t,pid:n,pid_index:r,fid:a,fid_index:o,properties:i})}},{key:"getPermName",value:function(e){return 1==e?"perm_view":2==e?"perm_create":3==e?"perm_remove":4==e?"perm_update":5==e?"perm_approve":6==e?"perm_revoke":void 0}},{key:"handleStateAll",value:function(e,t,n,r,a,o,i,c){var l=this.getPermName(c);return t?(e[n][r][a][o][i][l]>0&&e[n][r][a][o][i][l]<e[n][r][a][o][i].perm_all&&(e[n][r][a][l]=e[n][r][a][l]+.5,e[n][r][a][l]==e[n][r][a].perm_all&&(e[n][l]=e[n][l]+.5),e[n][r][a][l]-.5==0&&(e[n][l]=e[n][l]+.5)),0==e[n][r][a][o][i][l]&&(e[n][r][a][l]=e[n][r][a][l]+1,e[n][r][a][l]==e[n][r][a].perm_all&&(e[n][l]=e[n][l]+.5),e[n][r][a][l]-1==0&&(e[n][l]=e[n][l]+.5)),e[n][r][a][o][i][l]=e[n][r][a][o][i].perm_all):(e[n][r][a][o][i][l]>0&&e[n][r][a][o][i][l]<e[n][r][a][o][i].perm_all&&(e[n][r][a][l]=e[n][r][a][l]-.5,0==e[n][r][a][l]&&(e[n][l]=e[n][l]-.5),e[n][r][a][l]+.5==e[n][r][a].perm_all&&(e[n][l]=e[n][l]-.5)),e[n][r][a][o][i][l]==e[n][r][a][o][i].perm_all&&(e[n][r][a][l]=e[n][r][a][l]-1,0==e[n][r][a][l]&&(e[n][l]=e[n][l]-.5),e[n][r][a][l]+1==e[n][r][a].perm_all&&(e[n][l]=e[n][l]-.5)),e[n][r][a][o][i][l]=0),e}},{key:"handleStateSole",value:function(e,t,n,r,a,o,i,c){var l=this.getPermName(c);return t?(e[n][r][a][o][i][l]=e[n][r][a][o][i][l]+1,e[n][r][a][o][i][l]==e[n][r][a][o][i].perm_all&&(e[n][r][a][l]=e[n][r][a][l]+.5,e[n][r][a][l]==e[n][r][a].perm_all&&(e[n][l]=e[n][l]+.5),e[n][r][a][l]-.5==0&&(e[n][l]=e[n][l]+.5)),e[n][r][a][o][i][l]-1==0&&(e[n][r][a][l]=e[n][r][a][l]+.5,e[n][r][a][l]==e[n][r][a].perm_all&&(e[n][l]=e[n][l]+.5),e[n][r][a][l]-.5==0&&(e[n][l]=e[n][l]+.5))):(e[n][r][a][o][i][l]=e[n][r][a][o][i][l]-1,0==e[n][r][a][o][i][l]&&(e[n][r][a][l]=e[n][r][a][l]-.5,0==e[n][r][a][l]&&(e[n][l]=e[n][l]-.5),e[n][r][a][l]+.5==e[n][r][a].perm_all&&(e[n][l]=e[n][l]-.5)),e[n][r][a][o][i][l]+1==e[n][r][a][o][i].perm_all&&(e[n][r][a][l]=e[n][r][a][l]-.5,0==e[n][r][a][l]&&(e[n][l]=e[n][l]-.5),e[n][r][a][l]+.5==e[n][r][a].perm_all&&(e[n][l]=e[n][l]-.5))),e}},{key:"handleCheckedTheme",value:function(e,t,n,r){var a=this,o=this.state.data[r].packages;o.map((function(o,i){a.handleCheckedPackage(e,t,n,r,o.id,i)}))}},{key:"handleCheckedPackage",value:function(e,t,n,r,a,o){var i=this,c=this.state.data[r].packages[o].features;c.map((function(c,l){i.handleCheckedFeature(e,t,n,r,a,o,c.id,l)}))}},{key:"handleCheckedFeature",value:function(e,t,n,r,a,o,i,c){var l=this,s=this.state.data,u=s,f=s[r].packages[o].features[c].data_types;e?(f.map((function(e){e.properties.map((function(n){l.handleCheckedPerm({perm_kind:t,feature_id:i,data_type_id:e.id,property_id:n.id,geom:!1,disable:!1},!0)}))})),this.handleCheckedPerm({perm_kind:t,feature_id:i,data_type_id:null,property_id:null,geom:!0,disable:!1},!0)):(f.map((function(e){e.properties.map((function(n){l.handleCheckedPerm({perm_kind:t,feature_id:i,data_type_id:e.id,property_id:n.id,geom:!1,disable:!1},!1)}))})),this.handleCheckedPerm({perm_kind:t,feature_id:i,data_type_id:null,property_id:null,geom:!0,disable:!1},!1)),u=this.handleStateAll(u,e,r,"packages",o,"features",c,t),this.setState({data:u})}},{key:"handleCheckedPerm",value:function(e,t){var n=this.state.properties_perms;if(t)0==n.filter((function(t){return t.perm_kind==e.perm_kind&&t.feature_id==e.feature_id&&t.data_type_id==e.data_type_id&&t.property_id==e.property_id&&t.geom==e.geom})).length&&n.push(e),this.setState({properties_perms:n});else{for(var r=0;r<n.length;r++)n[r].perm_kind==e.perm_kind&&n[r].feature_id==e.feature_id&&n[r].data_type_id==e.data_type_id&&n[r].property_id==e.property_id&&n[r].geom==e.geom&&0==n[r].disable&&n.splice(r,1);this.setState({properties_perms:n})}}},{key:"handleChecked",value:function(e,t,n){var r=this.state,a=r.tid_index,o=r.pid_index,i=r.fid_index,c=r.data,l=this.state.properties_perms;if(t)0==l.filter((function(t){return t.perm_kind==e.perm_kind&&t.feature_id==e.feature_id&&t.data_type_id==e.data_type_id&&t.property_id==e.property_id&&t.geom==e.geom})).length&&l.push(e),this.setState({properties_perms:l});else{for(var s=0;s<l.length;s++)l[s].perm_kind==e.perm_kind&&l[s].feature_id==e.feature_id&&l[s].data_type_id==e.data_type_id&&l[s].property_id==e.property_id&&l[s].geom==e.geom&&0==l[s].disable&&l.splice(s,1);this.setState({properties_perms:l})}c=this.handleStateSole(c,t,a,"packages",o,"features",i,n),this.setState({data:c})}},{key:"handleSubmit",value:function(){var t=this;this.setState({handle_save_is_laod:!0});var n=this.props.match.params,r=n.level,a=n.id,i=this.state.properties_perms;o.a.saveGovRoles(r,a,i).then((function(n){n.success&&(t.setState({handle_save_is_laod:!1}),e.MODAL({modal_status:"open",modal_icon:"fa fa-check-circle",modal_bg:"",icon_color:"success",title:"Амжилттай хадгаллаа",text:"",has_button:!1,actionNameBack:"",actionNameDelete:"",modalAction:null,modalClose:null}))}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,o=(t.tid,t.pid,t.fid),l=t.properties,s=t.properties_perms,u=t.role_is_load,f=t.handle_save_is_laod;return a.a.createElement("div",{className:"row"},a.a.createElement(c.a,{is_loading:u}),a.a.createElement("div",{className:"col-md-6"},f?a.a.createElement("a",{className:"btn gp-btn-primary btn-block waves-effect waves-light text-white",style:{zIndex:"0"}},a.a.createElement("div",{className:"spinner-border text-light",role:"status"},a.a.createElement("span",{className:"sr-only"},"Loading...")),a.a.createElement("span",{className:"text-light"}," Шалгаж байна.")):a.a.createElement("a",{className:"btn gp-btn-primary btn-block waves-effect waves-light text-white",style:{zIndex:"0"},onClick:this.handleSubmit},"Хадгалах"),a.a.createElement("div",{className:"fixed-height-b"},n.map((function(t,n){return t.packages.length>0&&t.perm_all>0&&a.a.createElement("div",{className:"bc-white border border-secondary",key:n},a.a.createElement("div",{className:""},a.a.createElement("div",{className:"my-0"},a.a.createElement("div",{id:"accordion".concat(n+1),className:"",key:n},a.a.createElement("div",{className:""},a.a.createElement("div",{className:""},a.a.createElement("div",{className:""},a.a.createElement(i.a,{name:t.name,index:n+1,tree:10,mtop:!1,root_1:t.id,root_1_index:n,inspire:"theme",perm_all:t.perm_all,perm_view:t.perm_view,perm_create:t.perm_create,perm_remove:t.perm_remove,perm_update:t.perm_update,perm_approve:t.perm_approve,perm_revoke:t.perm_revoke,handleCheckedTheme:e.handleCheckedTheme,handleCheckedPackage:e.handleCheckedPackage,handleCheckedFeature:e.handleCheckedFeature}))),a.a.createElement("div",{id:"collapse".concat(n+1),className:"collapse","data-parent":"#accordion".concat(n+1)},a.a.createElement("div",{className:""},t.packages.map((function(r,o){return r.features.length>0&&a.a.createElement("div",{id:"accordion-p-".concat(o+1+r.id),key:o},a.a.createElement("div",{className:""},a.a.createElement("div",{className:""},a.a.createElement("div",{className:""},a.a.createElement(i.a,{root_1:t.id,root_1_index:n,mtop:!0,root_2:r.id,root_2_index:o,name:r.name,index:"-p-".concat(o+1+r.id),tree:10,inspire:"package",perm_all:r.perm_all,perm_view:r.perm_view,perm_create:r.perm_create,perm_remove:r.perm_remove,perm_update:r.perm_update,perm_approve:r.perm_approve,perm_revoke:r.perm_revoke,handleCheckedTheme:e.handleCheckedTheme,handleCheckedPackage:e.handleCheckedPackage,handleCheckedFeature:e.handleCheckedFeature}))),a.a.createElement("div",{id:"collapse-p-".concat(o+1+r.id),className:"collapse","data-parent":"#accordion-p-".concat(o+1+r.id)},a.a.createElement("div",{className:""},r.features.map((function(c,l){return a.a.createElement("div",{key:l},a.a.createElement("div",{className:""},a.a.createElement("div",{className:"collapsed"},a.a.createElement("div",{className:"text-primary collapsed"},a.a.createElement(i.a,{handleFeature:function(){return e.handleFeature(t.id,n,r.id,o,c.id,l,c.data_types)},root_1:t.id,root_1_index:n,root_2:r.id,root_2_index:o,root_3:c.id,root_3_index:l,name:c.name,tree:60,mtop:!1,inspire:"feature",perm_all:c.perm_all,perm_view:c.perm_view,perm_create:c.perm_create,perm_remove:c.perm_remove,perm_update:c.perm_update,perm_approve:c.perm_approve,perm_revoke:c.perm_revoke,handleCheckedTheme:e.handleCheckedTheme,handleCheckedPackage:e.handleCheckedPackage,handleCheckedFeature:e.handleCheckedFeature})))))}))))))})))))))))})))),a.a.createElement("div",{className:"col-md-6"},a.a.createElement("div",{className:""},l.length>0&&a.a.createElement("div",null,a.a.createElement("div",{className:" bc-white"},a.a.createElement("div",{className:"table-responsive table_wrapper-80"},a.a.createElement("table",{className:"table table_wrapper_table_saaral table-bordered"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Data",a.a.createElement("br",null),"type"),a.a.createElement("th",{scope:"col"},"property нэр"),a.a.createElement("th",{scope:"col",className:"vertical"},a.a.createElement("span",null,"харах")),a.a.createElement("th",{scope:"col",className:"vertical"},a.a.createElement("span",null,"нэмэх")),a.a.createElement("th",{scope:"col",className:"vertical"},a.a.createElement("span",null,"хасах")),a.a.createElement("th",{scope:"col",className:"vertical"},a.a.createElement("span",null,"засах")),a.a.createElement("th",{scope:"col",className:"vertical"},a.a.createElement("span",null,"цуцлах")),a.a.createElement("th",{scope:"col",className:"vertical"},a.a.createElement("span",null,"батлах")))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null),a.a.createElement("td",null,"Geom"),a.a.createElement("td",{className:"icheck-primary"},a.a.createElement("input",{disabled:s.filter((function(e){return 1==e.perm_kind&&e.feature_id==o&&null==e.data_type_id&&1==e.geom&&1==e.disable})).length>0,type:"checkbox",id:"perm_view",name:"perm_view",checked:s.filter((function(e){return 1==e.perm_kind&&e.feature_id==o&&1==e.geom})).length>0,onChange:function(t){return e.handleChecked({perm_kind:1,feature_id:o,data_type_id:null,property_id:null,geom:!0,disable:!1},t.target.checked,1)}}),a.a.createElement("label",{htmlFor:"perm_view"})),a.a.createElement("td",{className:"icheck-primary"},a.a.createElement("input",{disabled:s.filter((function(e){return 2==e.perm_kind&&e.feature_id==o&&null==e.data_type_id&&1==e.geom&&1==e.disable})).length>0,type:"checkbox",id:"perm_create",name:"perm_create",checked:s.filter((function(e){return 2==e.perm_kind&&e.feature_id==o&&1==e.geom})).length>0,onChange:function(t){return e.handleChecked({perm_kind:2,feature_id:o,data_type_id:null,property_id:null,geom:!0,disable:!1},t.target.checked,2)}}),a.a.createElement("label",{htmlFor:"perm_create"})),a.a.createElement("td",{className:"icheck-primary"},a.a.createElement("input",{disabled:s.filter((function(e){return 3==e.perm_kind&&e.feature_id==o&&null==e.data_type_id&&1==e.geom&&1==e.disable})).length>0,type:"checkbox",id:"perm_remove",name:"perm_remove",checked:s.filter((function(e){return 3==e.perm_kind&&e.feature_id==o&&1==e.geom})).length>0,onChange:function(t){return e.handleChecked({perm_kind:3,feature_id:o,data_type_id:null,property_id:null,geom:!0,disable:!1},t.target.checked,3)}}),a.a.createElement("label",{htmlFor:"perm_remove"})),a.a.createElement("td",{className:"icheck-primary"},a.a.createElement("input",{disabled:s.filter((function(e){return 4==e.perm_kind&&e.feature_id==o&&null==e.data_type_id&&1==e.geom&&1==e.disable})).length>0,type:"checkbox",id:"perm_revoke",name:"perm_revoke",checked:s.filter((function(e){return 4==e.perm_kind&&e.feature_id==o&&1==e.geom})).length>0,onChange:function(t){return e.handleChecked({perm_kind:4,feature_id:o,data_type_id:null,property_id:null,geom:!0,disable:!1},t.target.checked,4)}}),a.a.createElement("label",{htmlFor:"perm_revoke"})),a.a.createElement("td",{className:"icheck-primary"},a.a.createElement("input",{disabled:s.filter((function(e){return 6==e.perm_kind&&e.feature_id==o&&null==e.data_type_id&&1==e.geom&&1==e.disable})).length>0,type:"checkbox",id:"perm_review",name:"perm_review",checked:s.filter((function(e){return 6==e.perm_kind&&e.feature_id==o&&1==e.geom})).length>0,onChange:function(t){return e.handleChecked({perm_kind:6,feature_id:o,data_type_id:null,property_id:null,geom:!0,disable:!1},t.target.checked,6)}}),a.a.createElement("label",{htmlFor:"perm_review"})),a.a.createElement("td",{className:"icheck-primary"},a.a.createElement("input",{disabled:s.filter((function(e){return 5==e.perm_kind&&e.feature_id==o&&null==e.data_type_id&&1==e.geom&&1==e.disable})).length>0,type:"checkbox",id:"perm_approve",name:"perm_approve",checked:s.filter((function(e){return 5==e.perm_kind&&e.feature_id==o&&1==e.geom})).length>0,onChange:function(t){return e.handleChecked({perm_kind:5,feature_id:o,data_type_id:null,property_id:null,geom:!0,disable:!1},t.target.checked,5)}}),a.a.createElement("label",{htmlFor:"perm_approve"}))),l.map((function(t,n){return a.a.createElement(r.Fragment,{key:n},a.a.createElement("tr",null,a.a.createElement("td",{rowSpan:t.properties.length+1,className:"vertical text-center align-middle text-wrap"},a.a.createElement("span",{className:"text-center vertical align-middle"},t.name),a.a.createElement("br",null),a.a.createElement("span",{className:"text-center vertical align-middle"},"(",t.properties?t.properties.length:0,")"))),t.properties.map((function(r,i){return a.a.createElement("tr",{key:i},a.a.createElement("td",null,r.name),a.a.createElement("td",{className:"icheck-primary"},a.a.createElement("input",{disabled:s.filter((function(e){return 1==e.perm_kind&&e.feature_id==o&&e.data_type_id==t.id&&e.property_id==r.id&&0==e.geom&&1==e.disable})).length>0,type:"checkbox",id:"perm_view"+r.id+n+i,name:"perm_view",checked:s.filter((function(e){return 1==e.perm_kind&&e.feature_id==o&&e.property_id==r.id&&0==e.geom})).length>0,onChange:function(n){return e.handleChecked({perm_kind:1,feature_id:o,data_type_id:t.id,property_id:r.id,geom:!1,disable:!1},n.target.checked,1)}}),a.a.createElement("label",{htmlFor:"perm_view"+r.id+n+i})),a.a.createElement("td",{className:"icheck-primary"},a.a.createElement("input",{disabled:s.filter((function(e){return 2==e.perm_kind&&e.feature_id==o&&e.data_type_id==t.id&&e.property_id==r.id&&0==e.geom&&1==e.disable})).length>0,type:"checkbox",id:"perm_create"+r.id+n+i,name:"perm_create",checked:s.filter((function(e){return 2==e.perm_kind&&e.feature_id==o&&e.property_id==r.id&&0==e.geom})).length>0,onChange:function(n){return e.handleChecked({perm_kind:2,feature_id:o,data_type_id:t.id,property_id:r.id,geom:!1,disable:!1},n.target.checked,2)}}),a.a.createElement("label",{htmlFor:"perm_create"+r.id+n+i})),a.a.createElement("td",{className:"icheck-primary"},a.a.createElement("input",{disabled:s.filter((function(e){return 3==e.perm_kind&&e.feature_id==o&&e.data_type_id==t.id&&e.property_id==r.id&&0==e.geom&&1==e.disable})).length>0,type:"checkbox",id:"perm_remove"+r.id+n+i,name:"perm_remove",checked:s.filter((function(e){return 3==e.perm_kind&&e.feature_id==o&&e.property_id==r.id&&0==e.geom})).length>0,onChange:function(n){return e.handleChecked({perm_kind:3,feature_id:o,data_type_id:t.id,property_id:r.id,geom:!1,disable:!1},n.target.checked,3)}}),a.a.createElement("label",{htmlFor:"perm_remove"+r.id+n+i})),a.a.createElement("td",{className:"icheck-primary"},a.a.createElement("input",{disabled:s.filter((function(e){return 4==e.perm_kind&&e.feature_id==o&&e.data_type_id==t.id&&e.property_id==r.id&&0==e.geom&&1==e.disable})).length>0,type:"checkbox",id:"perm_revoke"+r.id+n+i,name:"perm_revoke",checked:s.filter((function(e){return 4==e.perm_kind&&e.feature_id==o&&e.property_id==r.id&&0==e.geom})).length>0,onChange:function(n){return e.handleChecked({perm_kind:4,feature_id:o,data_type_id:t.id,property_id:r.id,geom:!1,disable:!1},n.target.checked,4)}}),a.a.createElement("label",{htmlFor:"perm_revoke"+r.id+n+i})),a.a.createElement("td",{className:"icheck-primary"},a.a.createElement("input",{disabled:s.filter((function(e){return 6==e.perm_kind&&e.feature_id==o&&e.data_type_id==t.id&&e.property_id==r.id&&0==e.geom&&1==e.disable})).length>0,type:"checkbox",id:"perm_review"+r.id+n+i,name:"perm_review",checked:s.filter((function(e){return 6==e.perm_kind&&e.feature_id==o&&e.property_id==r.id&&0==e.geom})).length>0,onChange:function(n){return e.handleChecked({perm_kind:6,feature_id:o,data_type_id:t.id,property_id:r.id,geom:!1,disable:!1},n.target.checked,6)}}),a.a.createElement("label",{htmlFor:"perm_review"+r.id+n+i})),a.a.createElement("td",{className:"icheck-primary"},a.a.createElement("input",{disabled:s.filter((function(e){return 5==e.perm_kind&&e.feature_id==o&&e.data_type_id==t.id&&e.property_id==r.id&&0==e.geom&&1==e.disable})).length>0,type:"checkbox",id:"perm_approve"+r.id+n+i,name:"perm_approve",checked:s.filter((function(e){return 5==e.perm_kind&&e.feature_id==o&&e.property_id==r.id&&0==e.geom})).length>0,onChange:function(n){return e.handleChecked({perm_kind:5,feature_id:o,data_type_id:t.id,property_id:r.id,geom:!1,disable:!1},n.target.checked,5)}}),a.a.createElement("label",{htmlFor:"perm_approve"+r.id+n+i})))})))}))))))))),a.a.createElement("a",{className:"geo-back-btn",id:"geo-back-btn",onClick:this.props.history.goBack},a.a.createElement("i",{"aria-hidden":"true"})))}}])&&s(n.prototype,l),m&&s(n,m),h}(r.Component)}).call(this,n(48))},1047:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(228);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={getGovRoles:function(e,t){var n=o({},Object(r.a)());return fetch("".concat("/back/api/org","/level-").concat(e,"/").concat(t,"/gov-perm/"),n).then(r.c)},saveGovRoles:function(e,t,n){var a=o(o({},Object(r.b)()),{},{body:JSON.stringify({values:n})});return fetch("".concat("/back/api/org","/level-").concat(e,"/").concat(t,"/gov-perm/save/"),a).then(r.c)}}},1048:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var a=u(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,e);var t,n,r,o=l(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={data:[],tid:0,pid:0,fid:0,properties:[],properties_perms:[]},t}return t=s,(n=[{key:"render",value:function(){var e=this,t=this.props,n=(t.fid,t.properties,t.name),r=t.index,o=t.tree,i=t.inspire,c=t.root_1,l=t.root_2,s=t.root_3,u=t.perm_all,f=t.perm_view,m=t.perm_create,d=t.perm_remove,p=t.perm_update,h=t.perm_approve,y=t.perm_revoke,b=t.mtop,v=t.root_1_index,g=t.root_2_index,_=t.root_3_index;return a.a.createElement("div",{className:("theme"==i?"role-card":"role-table-card")+(b?" mb-0 mt-3":"")},a.a.createElement("div",{className:"theme"==i?"role-card-body":"role-table-card-body"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-4 arrow-tree collapsed",style:{width:"100px",paddingLeft:o},role:"button"},"feature"==i?a.a.createElement("a",{className:"collapsed","data-toggle":"collapse","aria-expanded":"true","data-target":"#collapse".concat(r),"aria-controls":"collapse".concat(r),onClick:this.props.handleFeature,scope:"col text-wrap"},n):a.a.createElement("a",{className:"collapsed","data-toggle":"collapse","aria-expanded":"true","data-target":"#collapse".concat(r),"aria-controls":"collapse".concat(r),scope:"col text-wrap"},n)),a.a.createElement("div",{className:"col-8"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-2 pl-0 pr-0"},a.a.createElement("small",{className:"smaller text-center ml-2"},"харах"),a.a.createElement("div",{className:"switch-tree-state col-lg-12",onClick:function(t){return f>=u?"theme"==i?e.props.handleCheckedTheme(!1,1,c,v):"package"==i?e.props.handleCheckedPackage(!1,1,c,v,l,g):"feature"==i?e.props.handleCheckedFeature(!1,1,c,v,l,g,s,_):null:"theme"==i?e.props.handleCheckedTheme(!0,1,c,v):"package"==i?e.props.handleCheckedPackage(!0,1,c,v,l,g):"feature"==i?e.props.handleCheckedFeature(!0,1,c,v,l,g,s,_):null}},a.a.createElement("div",{className:f>=u?"switch-all switch-one":"switch-all"}),a.a.createElement("div",{className:0<f&&f<u?"switch-all switch-two":"switch-all"}),a.a.createElement("div",{className:f<=0?"switch-all switch-tree":"switch-all"}))),a.a.createElement("div",{className:"col-2 pl-0 pr-0"},a.a.createElement("small",{className:"smaller text-center ml-2"},"нэмэх"),a.a.createElement("div",{className:"switch-tree-state col-lg-12",onClick:function(t){return m>=u?"theme"==i?e.props.handleCheckedTheme(!1,2,c,v):"package"==i?e.props.handleCheckedPackage(!1,2,c,v,l,g):"feature"==i?e.props.handleCheckedFeature(!1,2,c,v,l,g,s,_):null:"theme"==i?e.props.handleCheckedTheme(!0,2,c,v):"package"==i?e.props.handleCheckedPackage(!0,2,c,v,l,g):"feature"==i?e.props.handleCheckedFeature(!0,2,c,v,l,g,s,_):null}},a.a.createElement("div",{className:m==u?"switch-all switch-one":"switch-all"}),a.a.createElement("div",{className:0<m&&m<u?"switch-all switch-two":"switch-all"}),a.a.createElement("div",{className:0==m?"switch-all switch-tree":"switch-all"}))),a.a.createElement("div",{className:"col-2 pl-0 pr-0",onClick:function(t){return d>=u?"theme"==i?e.props.handleCheckedTheme(!1,3,c,v):"package"==i?e.props.handleCheckedPackage(!1,3,c,v,l,g):"feature"==i?e.props.handleCheckedFeature(!1,3,c,v,l,g,s,_):null:"theme"==i?e.props.handleCheckedTheme(!0,3,c,v):"package"==i?e.props.handleCheckedPackage(!0,3,c,v,l,g):"feature"==i?e.props.handleCheckedFeature(!0,3,c,v,l,g,s,_):null}},a.a.createElement("small",{className:"smaller text-center ml-2"},"хасах"),a.a.createElement("div",{className:"switch-tree-state col-lg-12"},a.a.createElement("div",{className:d==u?"switch-all switch-one":"switch-all"}),a.a.createElement("div",{className:0<d&&d<u?"switch-all switch-two":"switch-all"}),a.a.createElement("div",{className:0==d?"switch-all switch-tree":"switch-all"}))),a.a.createElement("div",{className:"col-2 pl-0 pr-0",onClick:function(t){return p>=u?"theme"==i?e.props.handleCheckedTheme(!1,4,c,v):"package"==i?e.props.handleCheckedPackage(!1,4,c,v,l,g):"feature"==i?e.props.handleCheckedFeature(!1,4,c,v,l,g,s,_):null:"theme"==i?e.props.handleCheckedTheme(!0,4,c,v):"package"==i?e.props.handleCheckedPackage(!0,4,c,v,l,g):"feature"==i?e.props.handleCheckedFeature(!0,4,c,v,l,g,s,_):null}},a.a.createElement("small",{className:"smaller text-center ml-2"},"засах"),a.a.createElement("div",{className:"switch-tree-state col-lg-12"},a.a.createElement("div",{className:p==u?"switch-all switch-one":"switch-all"}),a.a.createElement("div",{className:0<p&&p<u?"switch-all switch-two":"switch-all"}),a.a.createElement("div",{className:0==p?"switch-all switch-tree":"switch-all"}))),a.a.createElement("div",{className:"col-2 pl-0 pr-0",onClick:function(t){return y>=u?"theme"==i?e.props.handleCheckedTheme(!1,6,c,v):"package"==i?e.props.handleCheckedPackage(!1,6,c,v,l,g):"feature"==i?e.props.handleCheckedFeature(!1,6,c,v,l,g,s,_):null:"theme"==i?e.props.handleCheckedTheme(!0,6,c,v):"package"==i?e.props.handleCheckedPackage(!0,6,c,v,l,g):"feature"==i?e.props.handleCheckedFeature(!0,6,c,v,l,g,s,_):null}},a.a.createElement("small",{className:"smaller text-center ml-2"},"цуцлах"),a.a.createElement("div",{className:"switch-tree-state col-lg-12"},a.a.createElement("div",{className:y==u?"switch-all switch-one":"switch-all"}),a.a.createElement("div",{className:0<y&&y<u?"switch-all switch-two":"switch-all"}),a.a.createElement("div",{className:0==y?"switch-all switch-tree":"switch-all"}))),a.a.createElement("div",{className:"col-2 pl-0 pr-0",onClick:function(t){return h>=u?"theme"==i?e.props.handleCheckedTheme(!1,5,c,v):"package"==i?e.props.handleCheckedPackage(!1,5,c,v,l,g):"feature"==i?e.props.handleCheckedFeature(!1,5,c,v,l,g,s,_):null:"theme"==i?e.props.handleCheckedTheme(!0,5,c,v):"package"==i?e.props.handleCheckedPackage(!0,5,c,v,l,g):"feature"==i?e.props.handleCheckedFeature(!0,5,c,v,l,g,s,_):null}},a.a.createElement("small",{className:"smaller text-center ml-2"},"батлах"),a.a.createElement("div",{className:"switch-tree-state col-lg-12"},a.a.createElement("div",{className:h==u?"switch-all switch-one":"switch-all"}),a.a.createElement("div",{className:0<h&&h<u?"switch-all switch-two":"switch-all"}),a.a.createElement("div",{className:0==h?"switch-all switch-tree":"switch-all"}))))))))}}])&&i(t.prototype,n),r&&i(t,r),s}(r.Component)},1049:function(e,t,n){var r=n(69),a=n(1050);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},1050:function(e,t,n){(t=n(70)(!1)).push([e.i,".🌍 {\n    position: relative;\n}\n\n.🌍 > #map{\n    width: 100%;\n    height: 600px;\n    right: 5px;\n    position: relative;\n}\n\n.суурь-давхаргууд{\n    right: .0rem;\n    z-index: -100;\n    bottom: 10px;\n    right: 10px;\n    height: 2.1rem;\n    position: absolute;\n\n}\n.суурь-давхаргууд > .суурь-давхарга{\n    display: block;\n    width: 5.6rem;\n    height: 2.1rem;\n    overflow: hidden;\n    margin: 1px;\n    border-radius: 2px;\n    float: right;\n    transition: opacity .15s ease-out;\n}\n.суурь-давхаргууд > .суурь-давхарга.active,\n.суурь-давхаргууд:hover > .суурь-давхарга.active:hover,\n.суурь-давхаргууд > .суурь-давхарга:hover {\n    opacity: 1;\n}\n.суурь-давхаргууд > .суурь-давхарга,\n.суурь-давхаргууд:hover > .суурь-давхарга.active {\n    opacity: .7;\n}\n\n.ol-full-screen {\n    right: .5rem;\n    top: 58px;\n    width: 57px;\n    height: 57px;\n\n}\n.ol-full-screen .ol-full-screen-false{\n    width: 50px;\n    height: 50px;\n    font-size: 40px;\n\n}\n.ol-full-screen .ol-full-screen-true{\n    width: 50px;\n    height: 50px;\n    font-size: 40px;\n\n}\n.ol-zoom {\n    width: 27px;\n    height: 54px;\n    left: unset;\n    right: .5rem;\n    top: 1px;\n}\n.ol-zoom  .ol-zoom-out{\n    width: 25px;\n    height: 25px;\n    font-size: 25px;\n\n}\n.ol-zoom .ol-zoom-in{\n    width: 25px;\n    height: 25px;\n    font-size: 25px;\n}\n\n.ol-mouse-position {\n    right: 4rem;\n    background: rgba(0,60,136,0.3);\n    border-radius: 4px;\n    padding: 2px .2rem;\n    font-size: smaller;\n    color: #eee;\n    text-align: center;\n    width: 8.8rem;\n    min-height: 1rem;\n}\n\n.coordinate-copy-control {\n    width: 10rem;\n    left: 2%;\n    top: 0.5rem;\n    opacity: 1;\n}\n.coordinate-copy-control.ol-hidden {\n    opacity: 0;\n    visibility: hidden;\n    transition: opacity .25s linear, visibility 0s linear .25s;\n}\n\n.ol-scale-line{\n    position: absolute;\n    bottom: 2px;\n    right: 2px;\n}\n",""]),e.exports=t},1123:function(e,t,n){"use strict";n.d(t,"a",(function(){return ie}));var r=n(0),a=n.n(r),o=n(12),i=(n(245),n(580)),c=n(304),l=n(89),s=n(197),u=n(196),f=n(2),m=n(130),d=n(198),p=n(224),h=n(300),y=n(973),b=n(18),v=n(96),g=n(531),_=n(532),E=n(302),k=n(303),O=n(1007),w=n(40),j=(n(1049),n(976));function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var a=F(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(S,e);var t,n,r,o=P(S);function S(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S),(t=o.call(this,e)).state={projection_data:"EPSG:4326",projection_display:"EPSG:3857"},t.controls={form:new O.a},t.loadMap=t.loadMap.bind(R(t)),t.readFeatures=t.readFeatures.bind(R(t)),t.readFeature=t.readFeature.bind(R(t)),t.removeFeatureFromSource=t.removeFeatureFromSource.bind(R(t)),t.translateStart=t.translateStart.bind(R(t)),t.translateEnd=t.translateEnd.bind(R(t)),t.selectedFeature=t.selectedFeature.bind(R(t)),t.getEmpInfo=t.getEmpInfo.bind(R(t)),t.changedFeatureSetColor=t.changedFeatureSetColor.bind(R(t)),t.makeLineString=t.makeLineString.bind(R(t)),t.sendErguuleg=t.sendErguuleg.bind(R(t)),t.downloadImage=t.downloadImage.bind(R(t)),t}return t=S,(n=[{key:"componentDidMount",value:function(){this.loadMap()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.feature&&Object.keys(e.feature).length>0&&this.readFeature(e.feature)}},{key:"componentDidUpdate",value:function(e,t){e.features!==this.props.features&&this.readFeatures(this.props.features)}},{key:"loadMap",value:function(){var e=this,t=new u.a({source:new s.a({}),style:new m.c({stroke:new d.a({color:"rgba(100, 255, 0, 1)",width:2}),fill:new p.a({color:"rgba(100, 255, 0, 0.3)"})})});this.vector_layer=t;var n=new g.a;n.on("select",(function(t){return e.selectedFeature(t)})),this.select=n;var r=new _.a({features:n.getFeatures()});r.on("translatestart",(function(t){return e.translateStart(t)})),r.on("translateend",(function(t){return e.translateEnd(t)})),this.translate=r;var a=new i.a({interactions:Object(E.a)().extend([n,r]),layers:[t],target:"map",view:new c.a({center:[11461613.630815497,5878656.0228370065],zoom:5.041301562246971})});a.addControl(this.controls.form),this.map=a,Object(w.e)(a)}},{key:"makeFields",value:function(e,t){var n=Array();return Object.keys(e).map((function(r,a){t.map((function(t,a){if(r==t.origin_name){var o=Object();o.name=t.name,o.origin_name=r,o.value=e[r]?e[r]:"",o.disabled=t.disabled,o.choices=null,o.length=t.length,"level_1"==r&&(o.value=e.level_1+", "+e.level_2+", "+e.level_3+", "+e.street+" гудамж "+e.apartment+" байр, "+e.door_number+" тоот"),t.is_erguul&&"level_3"==r&&(o.value=e.level_3+", "+e.street+" гудамж "+e.apartment+" байр"),n.push(o)}}))})),n}},{key:"getEmpInfo",value:function(e,t){var n=this;t||(t=!1),j.a.getEmpInfo(e,t).then((function(e){var r=e.success,a=e.info,o=e.title;if(r){var i=[{origin_name:"org_name",name:"Байгууллагын нэр",disabled:!0,length:100},{origin_name:"phone_number",name:"Утасны дугаар",disabled:!0,length:100},{origin_name:"level_1",name:"Гэрийн хаяг",disabled:!0,length:2e3},{origin_name:"last_name",name:"Овог",disabled:!0,length:100},{origin_name:"first_name",name:"Нэр",disabled:!0,length:100},{origin_name:"date_start",name:"Эхлэх огноо",disabled:!0,length:100},{origin_name:"date_end",name:"Дуусах огноо",disabled:!0,length:100},{origin_name:"part_time",name:"Ээлж",disabled:!0,length:100},{origin_name:"level_3",name:"Эргүүлийн хаяг",disabled:!0,length:100,is_erguul:t}],c=n.makeFields(a,i);n.controls.form.showForm(!0,c,o,void 0,"",!0)}}))}},{key:"featureWithTextStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"red",n=new m.c({image:new h.a({radius:5,fill:new p.a({color:t})}),text:new y.a({text:e,font:"30px Calibri,sans-serif",stroke:new d.a({color:"white",width:3}),offsetY:-18})});return n}},{key:"changedFeatureSetColor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"green",n=this.vector_layer.getSource();n.getFeatures().map((function(n,r){if(n.getProperties().is_changed){var a=e.getFullName(n),o=e.featureWithTextStyle(a,t);n.setStyle(o)}}))}},{key:"getFullName",value:function(e){var t=e.getProperties().first_name;return e.getProperties().last_name.charAt(0).toUpperCase()+". "+(t.charAt(0).toUpperCase()+t.slice(1))}},{key:"selectedFeature",value:function(e){this.translate.setActive(!0);var t=e.selected[0];if(t)if("Point"==t.getGeometry().getType()){var n=t.getProperties(),r=n.id;this.id=r,n.is_cloned&&this.translate.setActive(!1),this.getEmpInfo(r,n.is_erguul)}else this.select.getFeatures().clear();else this.changedFeatureSetColor()}},{key:"translateStart",value:function(e){var t=0,n=this.vector_layer.getSource(),r=e.features.getArray()[0];if(r.getGeometry().getType().includes("Point")){var a=r.getProperties().id,o=n.getFeatures();if(null!=o&&o.length>0)for(var i=0;i<o.length;i++)if(o[i].getProperties().id==a&&t<2)t++;else if(2==t)break;if(t<2){var c=r.clone(),l=this.getFullName(c),s=this.featureWithTextStyle(l);c.setStyle(s),c.setProperties({is_cloned:!0}),n.addFeature(c)}r.setProperties({is_changed:!0})}}},{key:"translateEnd",value:function(e){var t=this,n=e.features.getArray()[0],r=n.getGeometry().getCoordinates(),a=n.getProperties().id;this.removeFeatureFromSource(a);var o=this.map.getView().getProjection(),i=Object(f.p)(r,o,this.state.projection_data),c=Object(b.f)(i,"{y},{x}",6);this.changedFeatureSetColor(),j.a.getErguulegFields(a).then((function(e){var r=e.success,a=e.info,o=e.erguul_id;t.makeLineString([n],"one");var i="Хадгалах";o&&(i="Засах"),t.controls.form.showForm(r,a,"Эргүүлд гарах байршил",(function(e){return t.sendErguuleg(e,t.id,c,o)}),i)}))}},{key:"fromLonLatToMapCoord",value:function(e){return Object(f.d)([e[0],e[1]])}},{key:"makeLineString",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.vector_layer.getSource(),a=r.getFeatures();if(null!=a&&a.length>0&&e.length>0)for(var o=function(){var o=a[i],c=o.getProperties(),s=c.id,u=void 0;u="one"==n?c.is_cloned:c.is_erguul,s&&u&&e.map((function(e,a){var i,c;c="one"==n?(i=e.getProperties()).is_changed:(i=e.properties).is_cloned;var u=i.id;if(u==s&&c){var f;"one"==n?f=e.getGeometry().getCoordinates():(f=e.geometry.coordinates,f=t.fromLonLatToMapCoord(f));var m=o.getGeometry().getCoordinates(),d=new v.a([f,m]),p=new l.a(d);p.setProperties({id:u});var h=p.getGeometry().getExtent();t.extent=h,r.addFeature(p)}}))},i=0;i<a.length;i++)o()}},{key:"downloadImage",value:function(e,t,n,r){var a,o=this,i=this.map;this.props.setLoading(!0),i.once("rendercomplete",(function(){var c=document.createElement("canvas"),l=i.getSize();c.width=l[0],c.height=l[1];var s=c.getContext("2d");Array.prototype.forEach.call(document.querySelectorAll(".ol-layer canvas"),(function(e){if(e.width>0){var t=e.parentNode.style.opacity;s.globalAlpha=""===t?1:Number(t);var n=e.style.transform.match(/^matrix\(([^\(]*)\)$/)[1].split(",").map(Number);CanvasRenderingContext2D.prototype.setTransform.apply(s,n),s.drawImage(e,0,0)}})),navigator.msSaveBlob?navigator.msSaveBlob(c.msToBlob(),"map.png"):a=c.toDataURL(),o.props.saveErguulPlace(e,t,n,a,r)}))}},{key:"sendErguuleg",value:function(e,t,n,r){var a=this.extent;this.map.getView().fit(a,{padding:[200,200,200,200]}),this.downloadImage(e,t,n,r)}},{key:"removeFeatureFromSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.vector_layer.getSource(),r=n.getFeatures();if(null!=r&&r.length>0)for(var a=0;a<r.length;a++){var o=r[a].getProperties(),i=o.id,c=void 0,l=r[a].getGeometry().getType();if(i==e&&("only_aimag"==t&&l.includes("Polygon")?c=r[a]:t||"LineString"!=l||(c=r[a])),c){n.removeFeature(c);break}}}},{key:"readFeature",value:function(e){var t="aimag_sum";this.removeFeatureFromSource(t,"only_aimag");var n=this.vector_layer.getSource(),r=(new k.a).readFeatures(e,{dataProjection:this.state.projection_data,featureProjection:this.state.projection_display})[0];n.addFeature(r),r.setProperties({id:t}),this.map.getView().fit(r.getGeometry(),{padding:[50,50,50,50],duration:2e3})}},{key:"readFeatures",value:function(e){var t=this,n=this.vector_layer.getSource();e.features.map((function(e,r){if(e!=={}){var a=(new k.a).readFeatures(e,{dataProjection:t.state.projection_data,featureProjection:t.state.projection_display})[0],o=a.getProperties(),i=t.getFullName(a),c=t.featureWithTextStyle(i);o.is_erguul&&(c=t.featureWithTextStyle(i,"green")),a.setStyle(c),n.addFeature(a)}})),this.makeLineString(e.features)}},{key:"render",value:function(){return a.a.createElement("div",{id:"map",style:{height:"calc( 90vh - 85px - 15px)"}})}}])&&N(t.prototype,n),r&&N(t,r),S}(r.Component);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var a=V(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(i,e);var t,n,r,o=A(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={aimag:[],sum:[],horoo:[],aimag_id:-1,sum_id:-1,horoo_id:-1,aimag_name:"",sum_name:"",horoo_name:"",aimag_geo_id:"",sum_geo_id:"",horoo_geo_id:"",firstOrder_geom:""},t.handleChange=t.handleChange.bind(I(t)),t.getGeom=t.getGeom.bind(I(t)),t.getFieldValues=t.getFieldValues.bind(I(t)),t}return t=i,(n=[{key:"getGeom",value:function(e){var t=this;j.a.getGeom(e).then((function(e){var n=e.data;n&&t.props.sendFeature(n)}))}},{key:"getFieldValues",value:function(){var e=this;j.a.formOptions("second").then((function(t){var n=t.success,r=t.secondOrders,a=t.firstOrder_geom;n&&e.setState({aimag:r,firstOrder_geom:a})}))}},{key:"componentDidMount",value:function(){this.getFieldValues()}},{key:"handleChange",value:function(e,t,n,r,a){var o,i=t+"_id",c=t+"_geo_id",l=t+"_name",s=e.target.value,u=Object();if("-1"!==s){var f=this.state[t][s];this.setState(D({},n,f.children)),n&&(u[n]=f.children),o=f.geo_id,r.map((function(e,t){var n=e+"_geo_id",r=e+"_name";u[e+"_id"]=-1,u[n]="",u[r]=""})),u[c]=o,u[l]=f.name,this.getGeom(o)}else{if(r.length>0&&r.map((function(e,t){var n=e+"_id",r=e+"_geo_id",a=e+"_name";u[e]=[],u[n]=-1,u[r]="",u[a]=""})),"mongol"!==a){var m=a+"_id",d=this.state[m];o=this.state[a][d].geo_id}else o=this.state.firstOrder_geom;u[c]=o,this.getGeom(o)}this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(D({},i,s),u))}},{key:"render",value:function(){var e=this,t=this.state,n=t.aimag,r=t.sum,o=t.horoo,i=t.aimag_id,c=t.sum_id,l=t.horoo_id;return a.a.createElement("div",{className:"form-row"},a.a.createElement("div",{className:"form-group col-4"},a.a.createElement("label",{htmlFor:"aimag"},"Аймаг/Хот:"),a.a.createElement("select",{id:"aimag",className:"form-control","aria-label":"Default select example",onChange:function(t){return e.handleChange(t,"aimag","sum",["sum","horoo"],"mongol")},value:i},a.a.createElement("option",{value:"-1"},"--- Аймаг/Хот сонгох ---"),n.map((function(e,t){return a.a.createElement("option",{key:t,value:t},e.name)})))),a.a.createElement("div",{className:"form-group col-4"},a.a.createElement("label",{htmlFor:"sum"},"Сум/Дүүрэг:"),a.a.createElement("select",{id:"sum",className:"form-control",onChange:function(t){return e.handleChange(t,"sum","horoo",["horoo"],"aimag")},value:c},a.a.createElement("option",{value:"-1"},"--- Сум/Дүүрэг сонгох ---"),r.map((function(e,t){return a.a.createElement("option",{key:t,value:t},e.name)})))),a.a.createElement("div",{className:"form-group col-4"},a.a.createElement("label",{htmlFor:"horoo"},"Хороо/Баг:"),a.a.createElement("select",{id:"horoo",className:"form-control",onChange:function(t){return e.handleChange(t,"horoo",void 0,[],"sum")},value:l},a.a.createElement("option",{value:"-1"},"--- Баг/Хороо сонгох ---"),o.map((function(e,t){return a.a.createElement("option",{key:t,value:t},e.name)})))))}}])&&M(t.prototype,n),r&&M(t,r),i}(r.Component),q=n(119);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var a=$(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?X(e):t}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(i,e);var t,n,r,o=Y(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={points:[],feature:{},is_loading:!0},t.getAddresses=t.getAddresses.bind(X(t)),t.getFeature=t.getFeature.bind(X(t)),t.saveErguulPlace=t.saveErguulPlace.bind(X(t)),t.setLoading=t.setLoading.bind(X(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props.match.params.level,t=this.props.match.params.id;this.getAddresses(e,t)}},{key:"getAddresses",value:function(e,t){var n=this;j.a.getAddresses(e,t).then((function(e){var t=e.success,r=e.points;t&&n.setState({points:r,is_loading:!1})}))}},{key:"getFeature",value:function(e){this.setState({feature:e})}},{key:"setLoading",value:function(e){this.setState({is_loading:e})}},{key:"getPoint",value:function(e){var t=e;return"string"==typeof e&&(t=e.split(",")),[t[1],t[0]]}},{key:"saveErguulPlace",value:function(e,t,n,r,a){var o=this,i=this.getPoint(n);j.a.saveErguul(e,t,i,r,a).then((function(e){var t=e.success,n=e.info;t&&(alert(n),o.setLoading(!1))})).catch((function(e){alert("Алдаа гарсан байна"),o.setLoading(!1)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.points,r=t.feature,o=t.is_loading;return a.a.createElement("div",null,a.a.createElement("div",{className:"col-12"},a.a.createElement(q.a,{is_loading:o}),a.a.createElement(U,{sendFeature:this.getFeature}),a.a.createElement(T,{features:n,feature:r,saveErguulPlace:function(){return e.saveErguulPlace.apply(e,arguments)},setLoading:this.setLoading})))}}])&&W(t.prototype,n),r&&W(t,r),i}(r.Component);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe(e);if(t){var a=oe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(c,e);var t,n,r,i=re(c);function c(){return ee(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){return a.a.createElement(o.d,null,a.a.createElement(o.b,{path:"/back/байгууллага/түвшин/:level/:id/addresses/",component:K}))}}])&&te(t.prototype,n),r&&te(t,r),c}(r.Component)},1125:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r=n(0),a=n.n(r),o=n(926),i=n(976);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(f,e);var t,n,r,c=u(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=c.call(this,e)).state={emp_age:[],count_emps_age:[],org_id:e.org_id},t.handlePageCount=t.handlePageCount.bind(m(t)),t}return t=f,(n=[{key:"componentDidMount",value:function(){this.handlePageCount()}},{key:"handlePageCount",value:function(){var e=this;i.a.ageCount(this.state.org_id).then((function(t){var n=t.emp_age,r=t.count_emps_age;r&&e.setState({emp_age:n,count_emps_age:r})}))}},{key:"render",value:function(){var e=this.state,t={labels:e.emp_age,datasets:[{label:"Насны ангилал",fill:!0,lineTension:.3,backgroundColor:"rgba(184, 185, 210, .3)",borderColor:"rgb(0, 153, 255)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,pointBorderColor:"rgb(0, 153, 255)",pointBackgroundColor:"rgb(255, 255, 255)",pointBorderWidth:7,pointHoverRadius:5,pointHoverBackgroundColor:"rgb(0, 0, 0)",pointHoverBorderColor:"rgba(220, 220, 220, 1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:e.count_emps_age}]};return a.a.createElement(o.Line,{data:t,options:{responsive:!0,scales:{yAxes:[{ticks:{stepSize:10}}]}}})}}])&&l(t.prototype,n),r&&l(t,r),f}(r.Component);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,e);var t,n,r,c=v(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).state={count_male:0,count_female:0,org_id:e.org_id},t.countGender=t.countGender.bind(_(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){this.countGender()}},{key:"countGender",value:function(){var e=this;i.a.genderCount(this.state.org_id).then((function(t){var n=t.count_male,r=t.count_female;e.setState({count_male:n,count_female:r})}))}},{key:"render",value:function(){var e=this.state,t={labels:["Эрэгтэй","Эмэгтэй"],datasets:[{data:[e.count_male,e.count_female],backgroundColor:["rgb(179, 209, 255)","rgb(255, 204, 230)"]}]};return a.a.createElement(o.Pie,{data:t})}}])&&y(t.prototype,n),r&&y(t,r),l}(r.Component);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var a=x(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,e);var t,n,r,o=S(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={org_id:t.props.match.params.id},t}return t=i,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-body"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-6"},a.a.createElement("h5",{className:"text-uppercase text-center"},"Албан хаагчдын насаар"),a.a.createElement(p,{org_id:this.state.org_id})),a.a.createElement("div",{className:"col-md-6"},a.a.createElement("h5",{className:"text-uppercase text-center"},"Албан хаагчдын хүйсээр"),a.a.createElement(k,{org_id:this.state.org_id}))),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("hr",null)))))}}])&&w(t.prototype,n),r&&w(t,r),i}(r.Component)},1126:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n(0),a=n.n(r),o=n(976),i=n(12),c=n(975),l=n(76),s=n(119);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(u,e);var t,n,r,i=d(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={refresh:!1,"жагсаалтын_холбоос":"/back/api/org/level-".concat(e.match.params.level,"/").concat(e.match.params.id,"/employeeList/"),"нэмэх_товч":"/back/байгууллага/түвшин/".concat(e.match.params.level,"/").concat(e.match.params.id,"/хэрэглэгч/нэмэх/"),custom_query:{},modal_status:"closed","талбарууд":[{field:"user__first_name",title:"Нэр",has_action:!0},{field:"user__email",title:"Цахим шуудан"},{field:"position",title:"Албан тушаал"},{field:"role_name",title:"Role",is_sort:!0},{field:"is_admin",title:"Админ",has_action:!0,is_center:!0},{field:"created_at",title:"Үүссэн"},{field:"updated_at",title:"Зассан"}],"хувьсах_талбарууд":[{field:"user__first_name",action:function(e){return t.go_link(e)}},{field:"user__email",text:""},{field:"position",text:""},{field:"is_admin",action:function(e){return t.set_icon(e)},action_type:!0,is_center:!0},{field:"created_at",text:""},{field:"updated_at",text:""}],"нэмэлт_талбарууд":[{title:"",component:function(e){return function(e){var t=e.values;return a.a.createElement("div",{className:"p-0"},t.is_user&&a.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){return e.getPass(e.values)}},"НУУЦ ҮГ СОЛИХ"))}(e)},props:{getPass:function(e){return t.getPass(e)}}}],is_user:!0,is_loading:!1,text:"",drop_name:"Хэрэглэгч"},t.getPass=t.getPass.bind(h(t)),t.modalChange=t.modalChange.bind(h(t)),t.modalOpen=t.modalOpen.bind(h(t)),t.handleListChange=t.handleListChange.bind(h(t)),t.handleSendMail=t.handleSendMail.bind(h(t)),t}return t=u,(n=[{key:"handleSendMail",value:function(){var e=this;this.setState({is_loading:!0,text:"Нууц үг солих имэйл илгээгдэж байна. Түр хүлээнэ үү!"});var t=this.state.values;o.a.sendMail(t.id).then((function(t){var n=t.success,r=t.info;n&&(e.setState({is_loading:!1,text:""}),e.modalChange("fa fa-check-circle",null,"success",r,!1,"","",null,null))}))}},{key:"modalOpen",value:function(){var e=this;this.setState({modal_status:"open"},(function(){e.setState({modal_status:"initial"})}))}},{key:"modalChange",value:function(e,t,n,r,a,o,i,c,l){var s=this;this.setState({modal_icon:e,modal_bg:t,icon_color:n,title:r,has_button:a,actionNameBack:o,actionNameDelete:i,modalAction:c,modalClose:l},(function(){return s.modalOpen()}))}},{key:"getPass",value:function(e){var t=this;this.setState({values:e}),this.modalChange("fa fa-exclamation-circle",null,"warning","Нууц үг солих имэйл илгээхдээ итгэлтэй байна уу?",!0,"","Тийм",(function(e){return t.handleSendMail(e)}),null)}},{key:"set_icon",value:function(e){return e?"fa fa-check-circle-o text-success fa-lg":"fa fa-times-circle-o text-danger fa-lg"}},{key:"go_link",value:function(e){var t=this.props.match.params.level,n=this.props.match.params.id;this.props.history.push("/back/байгууллага/түвшин/".concat(t,"/").concat(n,"/хэрэглэгч/").concat(e.id,"/дэлгэрэнгүй/"))}},{key:"handleListChange",value:function(e,t){this.setState({is_user:e,drop_name:t})}},{key:"render",value:function(){var e=this,t=this.state,n=t.refresh,r=t.талбарууд,o=t.жагсаалтын_холбоос,i=t.нэмэлт_талбарууд,u=t.хувьсах_талбарууд,f=t.custom_query,m=t.нэмэх_товч,d=t.is_user;return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-body"},a.a.createElement(s.a,{is_loading:this.state.is_loading,text:this.state.text}),a.a.createElement("div",{className:"d-flex flex-row-reverse mb-2"},a.a.createElement("div",{className:"dropdown-menu-right show"},a.a.createElement("a",{className:"btn-sm dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.drop_name),a.a.createElement("div",{className:"dropdown-menu mr-2","aria-labelledby":"dropdownMenuLink"},a.a.createElement("button",{className:"dropdown-item",onClick:function(){return e.handleListChange(!0,"Хэрэглэгч")}},"Хэрэглэгч"),a.a.createElement("button",{className:"dropdown-item",onClick:function(){return e.handleListChange(!1,"Бүх ажилчид")}},"Бүх ажилчид")))),a.a.createElement("div",{className:"col-md-12"},a.a.createElement(c.a,{refresh:n,color:"bg-dark","талбарууд":r,"жагсаалтын_холбоос":o,"нэмэлт_талбарууд":i,per_page:20,"уншиж_байх_үед_зурвас":"Хүсэлтүүд уншиж байна","хувьсах_талбарууд":u,"нэмэх_товч":m,custom_query:f,is_user:d}))),a.a.createElement(l.a,{modal_status:this.state.modal_status,modal_icon:this.state.modal_icon,modal_bg:this.state.modal_bg,icon_color:this.state.icon_color,title:this.state.title,has_button:this.state.has_button,actionNameBack:this.state.actionNameBack,actionNameDelete:this.state.actionNameDelete,modalAction:this.state.modalAction,modalClose:this.state.modalClose}))}}])&&f(t.prototype,n),r&&f(t,r),u}(r.Component),v=n(1034),g=n(1036);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(c,e);var t,n,r,o=w(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={},t}return t=c,(n=[{key:"render",value:function(){var e=this;return a.a.createElement(i.d,null,a.a.createElement(i.b,{exact:!0,path:"/back/байгууллага/түвшин/:level/:id/хэрэглэгч/",component:b}),a.a.createElement(i.b,{exact:!0,path:"/back/байгууллага/түвшин/:level/:id/хэрэглэгч/нэмэх/",component:function(t){return a.a.createElement(v.a,E({},t,{refreshCount:e.props.refreshCount}))}}),a.a.createElement(i.b,{exact:!0,path:"/back/байгууллага/түвшин/:level/:id/хэрэглэгч/:emp/дэлгэрэнгүй/",component:g.a}),a.a.createElement(i.b,{exact:!0,path:"/back/байгууллага/түвшин/:level/:id/хэрэглэгч/:emp/засах/",component:function(t){return a.a.createElement(v.a,E({},t,{refreshCount:e.props.refreshCount}))}}))}}])&&k(t.prototype,n),r&&k(t,r),c}(r.Component)},1129:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var r=n(0),a=n.n(r),o=n(580),i=n(304),c=n(89),l=n(67),s=n(127),u=n(107),f=n(162),m=n(94),d=n(197),p=n(196),h=n(2),y=n(130),b=n(198),v=n(224),g=n(300),_=n(973),E=n(96),k=n(303),O=n(1007),w=(n(245),n(57)),j=n(19);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var a=F(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(o,e);var t,n,r,a=P(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=e||{};(t=a.call(this,{element:document.createElement("div"),target:n.target})).toggleLayer=t.toggleLayer.bind(R(t)),t.initLayer=t.initLayer.bind(R(t)),t.handleClick=t.handleClick.bind(R(t)),t.last_active=null;var r=n.layers.map(t.initLayer),i="суурь-давхаргууд ".concat(j.e," ").concat(j.b),c=t.element;return c.className=i,r.forEach((function(e){return c.appendChild(e)})),t}return t=o,(n=[{key:"initLayer",value:function(e){var t=this,n=e.thumbnail_1x,r=e.thumbnail_2x,a=e.layer,o=e.is_active,i=document.createElement("a");i.setAttribute("href","#"),i.className="суурь-давхарга"+(o?" active":"");var c=document.createElement("img");return c.srcset="".concat(n," 1x, ").concat(r," 2x"),i.appendChild(c),i.addEventListener("click",(function(e){e.preventDefault(),t.handleClick(i,a)})),this.toggleLayer(!0===o,i,a),i}},{key:"toggleLayer",value:function(e,t,n){this.last_active&&e&&(this.last_active.layer.setVisible(!1),this.last_active.el.classList.toggle("active",!1)),n.setVisible(e),t.classList.toggle("active",e),e&&(this.last_active={el:t,layer:n})}},{key:"handleClick",value:function(e,t){this.last_active&&this.last_active.el===e||this.toggleLayer(!0,e,t)}}])&&N(t.prototype,n),r&&N(t,r),o}(w.a),G=(n(1041),n(976));function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var a=U(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(j,e);var t,n,r,w=z(j);function j(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,j),(t=w.call(this,e)).state={projection_data:"EPSG:4326",projection_display:"EPSG:3857"},t.controls={form:new O.a},t.loadMap=t.loadMap.bind(V(t)),t.readFeatures=t.readFeatures.bind(V(t)),t.readFeature=t.readFeature.bind(V(t)),t.removeFeatureFromSource=t.removeFeatureFromSource.bind(V(t)),t.changedFeatureSetColor=t.changedFeatureSetColor.bind(V(t)),t.makeLineString=t.makeLineString.bind(V(t)),t.setBaseLayer=t.setBaseLayer.bind(V(t)),t.loadBaseLayers=t.loadBaseLayers.bind(V(t)),t}return t=j,(n=[{key:"componentDidMount",value:function(){this.loadMap(),this.loadBaseLayers()}},{key:"componentDidUpdate",value:function(e,t){e.features!==this.props.features&&this.readFeatures(this.props.features),e.feature!==this.props.feature&&this.readFeature(this.props.feature)}},{key:"loadMap",value:function(){var e=new p.a({source:new d.a({}),style:new y.c({stroke:new b.a({color:"rgba(100, 255, 0, 1)",width:2}),fill:new v.a({color:"rgba(100, 255, 0, 0.3)"})})});this.setState({vector_layer:e}),e.setZIndex(10),this.vector_layer=e;var t=new o.a({layers:[e],target:"map",view:new i.a({center:[11461613.630815497,5878656.0228370065],zoom:5.041301562246971}),controls:[]});t.addControl(this.controls.form),this.map=t}},{key:"loadBaseLayers",value:function(){var e=this;Promise.all([G.a.loadBaseLayers()]).then((function(t){var n=D(t,1)[0].base_layer_list;e.setBaseLayer(n)}))}},{key:"setBaseLayer",value:function(e){var t=this,n=(this.state.center,[.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209014892578e-21,1341104507446289e-21,6.705522537231445e-7,3.3527612686157227e-7]),r=["EPSG:4326:0","EPSG:4326:1","EPSG:4326:2","EPSG:4326:3","EPSG:4326:4","EPSG:4326:5","EPSG:4326:6","EPSG:4326:7","EPSG:4326:8","EPSG:4326:9","EPSG:4326:10","EPSG:4326:11","EPSG:4326:12","EPSG:4326:13","EPSG:4326:14","EPSG:4326:15","EPSG:4326:16","EPSG:4326:17","EPSG:4326:18","EPSG:4326:19","EPSG:4326:20","EPSG:4326:21"],a=e.reduce((function(e,a,o){var i;return"xyz"==a.tilename&&(i=new l.a({preload:6,source:new s.a({crossOrigin:"Anonymous",url:a.url}),name:"base_layer"})),"wms"==a.tilename&&(i=new l.a({source:new u.a({ratio:1,url:a.url,params:{LAYERS:a.layers,FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",exceptions:"application/vnd.ogc.se_inimage"}}),name:"base_layer"})),"wmts"==a.tilename&&(i=new l.a({source:new f.a({url:a.url,layer:a.layers,matrixSet:t.state.projection_display,format:"image/png",projection:t.state.projection_display,tileGrid:new m.b({tileSize:[256,256],extent:[-180,-90,180,90],origin:[-180,90],resolutions:n,matrixIds:r}),style:"",wrapX:!0})})),e.base_layers.push(i),e.base_layer_controls.push({is_active:0==o,thumbnail_1x:a.thumbnail_1x,thumbnail_2x:a.thumbnail_2x,layer:i}),i.setZIndex(0),t.map.addLayer(i),e}),{base_layers:[],base_layer_controls:[]}),o=(a.base_layers,a.base_layer_controls),i=new T({layers:o});this.map.addControl(i)}},{key:"featureWithTextStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"red",n=new y.c({image:new g.a({radius:5,fill:new v.a({color:t})}),text:new _.a({text:e,font:"30px Calibri,sans-serif",stroke:new b.a({color:"white",width:3}),offsetY:-18})});return n}},{key:"changedFeatureSetColor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"green",n=this.vector_layer.getSource();n.getFeatures().map((function(n,r){if(n.getProperties().is_changed){var a=e.getFullName(n),o=e.featureWithTextStyle(a,t);n.setStyle(o)}}))}},{key:"getFullName",value:function(e){var t=e.getProperties().first_name;return e.getProperties().last_name.charAt(0).toUpperCase()+". "+(t.charAt(0).toUpperCase()+t.slice(1))}},{key:"fromLonLatToMapCoord",value:function(e){return Object(h.d)([e[0],e[1]])}},{key:"makeLineString",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.vector_layer.getSource(),a=r.getFeatures();if(null!=a&&a.length>0&&e.length>0)for(var o=function(){var o=a[i],l=o.getProperties(),s=l.id,u=void 0;u="one"==n?l.is_cloned:l.is_erguul,s&&u&&e.map((function(e,a){var i,l;l="one"==n?(i=e.getProperties()).is_changed:(i=e.properties).is_cloned;var u=i.id;if(u==s&&l){var f;"one"==n?f=e.getGeometry().getCoordinates():(f=e.geometry.coordinates,f=t.fromLonLatToMapCoord(f));var m=o.getGeometry().getCoordinates(),d=new E.a([f,m]),p=new c.a(d);p.setProperties({id:u});var h=p.getGeometry().getExtent();t.extent=h,t.props.is_admin||t.map.getView().fit(h,{padding:[200,200,200,200]}),r.addFeature(p)}}))},i=0;i<a.length;i++)o()}},{key:"removeFeatureFromSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.vector_layer.getSource(),r=n.getFeatures();if(null!=r&&r.length>0)for(var a=0;a<r.length;a++){var o=r[a].getProperties(),i=o.id,c=void 0,l=r[a].getGeometry().getType();if(i==e&&("only_aimag"==t&&l.includes("Polygon")?c=r[a]:t||"LineString"!=l||(c=r[a])),c){n.removeFeature(c);break}}}},{key:"readFeature",value:function(e){var t=this.vector_layer.getSource(),n=(new k.a).readFeatures(e,{dataProjection:this.state.projection_data,featureProjection:this.state.projection_display})[0],r=this.getFullName(n),a=this.featureWithTextStyle(r);n.setStyle(a),t.addFeature(n),this.map.getView().fit(n.getGeometry(),{padding:[200,200,200,200],minResolution:1})}},{key:"readFeatures",value:function(e){var t=this,n=this.vector_layer.getSource();e.features.length>0&&(e.features.map((function(e,r){if(e!=={}){var a=(new k.a).readFeatures(e,{dataProjection:t.state.projection_data,featureProjection:t.state.projection_display})[0],o=a.getProperties(),i=t.getFullName(a),c=t.featureWithTextStyle(i);o.is_erguul&&(t.props.is_admin||(t.start_coordinate=a.getGeometry().getCoordinates()),c=t.featureWithTextStyle(i,"green")),t.props.is_admin||o.is_erguul||(t.end_coordinates=a.getGeometry().getCoordinates()),a.setStyle(c),n.addFeature(a)}})),this.makeLineString(e.features))}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("h5",null,"Гэрийн хаяг:"),a.a.createElement("div",{id:"map",className:"mt-2",style:{height:"calc( 49vh - 34px - 7px)"}}))}}])&&B(t.prototype,n),r&&B(t,r),j}(r.Component)},246:function(e,t,n){"use strict";(function(e){function r(e){var t={"ШИНЭ":"text-success","ИЛГЭЭСЭН":"text-warning","ШИЙДВЭРЛЭГДСЭН":"text-primary"};return t[e]?t[e]:""}function a(e){var t={"ШИЙДВЭРЛЭГДСЭН":"text-success","ХҮЛЭЭГДЭЖ БУЙ":"text-warning","ЦУЦЛАСАН":"text-danger","БУЦААГДСАН":"text-danger","ШИНЭ":"text-primary","БАТАЛГААЖСАН":"text-success"};return t[e]?t[e]:""}function o(e){return e.includes("Multi")||(e="Multi".concat("",e)),e}function i(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Амжилттай хууллаа",r=document.createElement("textarea");r.innerText=t,document.body.appendChild(r),r.select(),document.execCommand("copy"),r.remove(),e.NOTIF&&e.NOTIF("success",n,"check")}function c(e,t,n){return"exact"==e?t==n:t[e](n)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.sort((function(e,r){var a=e,o=r;return n&&(a=r,o=e),a[t]-o[t]})),e}n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return l}))}).call(this,n(48))},40:function(e,t,n){"use strict";n.d(t,"g",(function(){return j})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return x})),n.d(t,"f",(function(){return P})),n.d(t,"a",(function(){return C})),n.d(t,"e",(function(){return R})),n.d(t,"b",(function(){return T}));var r=n(303),a=n(2),o=n(67),i=n(127),c=n(107),l=n(162),s=n(94),u=(n(42),n(57)),f=n(19);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,e);var t,n,r,a=h(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=e||{};(t=a.call(this,{element:document.createElement("div"),target:n.target})).toggleLayer=t.toggleLayer.bind(b(t)),t.initLayer=t.initLayer.bind(b(t)),t.handleClick=t.handleClick.bind(b(t)),t.last_active=null;var r=n.layers.map(t.initLayer),i="суурь-давхаргууд ".concat(f.e," ").concat(f.b),c=t.element;return c.className=i,r.forEach((function(e){return c.appendChild(e)})),t}return t=o,(n=[{key:"initLayer",value:function(e){var t=this,n=e.thumbnail_1x,r=e.thumbnail_2x,a=e.layer,o=e.is_active,i=document.createElement("a");i.setAttribute("href","#"),i.className="суурь-давхарга"+(o?" active":"");var c=document.createElement("img");return c.srcset="".concat(n," 1x, ").concat(r," 2x"),i.appendChild(c),i.addEventListener("click",(function(e){e.preventDefault(),t.handleClick(i,a)})),this.toggleLayer(!0===o,i,a),i}},{key:"toggleLayer",value:function(e,t,n){this.last_active&&e&&(this.last_active.layer.setVisible(!1),this.last_active.el.classList.toggle("active",!1)),n.setVisible(e),t.classList.toggle("active",e),e&&(this.last_active={el:t,layer:n})}},{key:"handleClick",value:function(e,t){this.last_active&&this.last_active.el===e||this.toggleLayer(!0,e,t)}}])&&d(t.prototype,n),r&&d(t,r),o}(u.a),_=n(55),E=(n(246),n(15)),k={get:function(){var e=Object(E.a)();return fetch("/суурь-давхарга/",e).then(E.c)}};function O(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,c,"next",e)}function c(e){O(o,r,a,i,c,"throw",e)}i(void 0)}))}}var j={data_projection:"EPSG:4326",feature_projection:"EPSG:3857",format:new r.a,au_search_layer_name:"administrative",options_scale:[{zoom:"2.9903484967519145",scale:5e6},{zoom:"4.3576399772248543",scale:1e6},{zoom:"7.3376399772248575",scale:1e5},{zoom:"8.738265134288114",scale:5e4},{zoom:"9.721598467621447",scale:25e3},{zoom:"10.781598467621446",scale:1e4},{zoom:"12.194931800954776",scale:5e3},{zoom:"14.383305008368451",scale:1e3}],resolutions:[.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209014892578e-21,1341104507446289e-21,6.705522537231445e-7,3.3527612686157227e-7],gridNames:["EPSG:4326:0","EPSG:4326:1","EPSG:4326:2","EPSG:4326:3","EPSG:4326:4","EPSG:4326:5","EPSG:4326:6","EPSG:4326:7","EPSG:4326:8","EPSG:4326:9","EPSG:4326:10","EPSG:4326:11","EPSG:4326:12","EPSG:4326:13","EPSG:4326:14","EPSG:4326:15","EPSG:4326:16","EPSG:4326:17","EPSG:4326:18","EPSG:4326:19","EPSG:4326:20","EPSG:4326:21"]};function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";if(t){var r=t.getFeatures();if(null!=r&&r.length>0)for(var a=0;a<r.length;a++){var o=r[a].getProperties();if(o[n]==e){t.removeFeature(r[a]);break}}}}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.data_projection,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.feature_projection,r=Object(a.p)(e,t,n);return r}function x(e){return Object(a.d)([e[0],e[1]])}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.map,r=n.getView(),a=r.getProjection(),o=N(e,j.data_projection,a);r.animate({zoom:t},{center:r.setCenter(o)})}function C(e){e.getSource().clear()}function R(e){return F.apply(this,arguments)}function F(){return(F=w(regeneratorRuntime.mark((function e(t){var n,r,a,u,f,m,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get();case 2:n=e.sent,r=n.base_layer_list,a=[.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209014892578e-21,1341104507446289e-21,6.705522537231445e-7,3.3527612686157227e-7],u=["EPSG:4326:0","EPSG:4326:1","EPSG:4326:2","EPSG:4326:3","EPSG:4326:4","EPSG:4326:5","EPSG:4326:6","EPSG:4326:7","EPSG:4326:8","EPSG:4326:9","EPSG:4326:10","EPSG:4326:11","EPSG:4326:12","EPSG:4326:13","EPSG:4326:14","EPSG:4326:15","EPSG:4326:16","EPSG:4326:17","EPSG:4326:18","EPSG:4326:19","EPSG:4326:20","EPSG:4326:21"],"base_layer",r&&(f=r.reduce((function(e,t,n){var r;return"xyz"==t.tilename&&(r=new o.a({preload:6,source:new i.a({crossOrigin:"Anonymous",url:t.url}),name:"base_layer"})),"wms"==t.tilename&&(r=new o.a({source:new c.a({ratio:1,url:t.url,params:{LAYERS:t.layers,FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",exceptions:"application/vnd.ogc.se_inimage"},tileLoadFunction:_.b}),name:"base_layer"})),"wmts"==t.tilename&&(r=new o.a({source:new l.a({url:t.url,layer:t.layers,matrixSet:j.feature_projection,format:"image/png",projection:j.feature_projection,tileGrid:new s.b({tileSize:[256,256],extent:[-180,-90,180,90],origin:[-180,90],resolutions:a,matrixIds:u}),tileLoadFunction:_.b,style:"",wrapX:!0})})),e.base_layers.push(r),e.base_layer_controls.push({is_active:0==n,thumbnail_1x:t.thumbnail_1x,thumbnail_2x:t.thumbnail_2x,layer:r}),e}),{base_layers:[],base_layer_controls:[]}),m=f.base_layers,d=f.base_layer_controls,p=Array(),m.map((function(e){return p.push(e)})),t.getLayers().forEach((function(e){p.push(e),t.removeLayer(e)})),p.map((function(e){return t.addLayer(e)})),t.addControl(new g({layers:d})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=j.format.readFeatures(e,{dataProjection:j.display_projection,featureProjection:j.feature_projection});return t?n[0]:n}},55:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e,t){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="arraybuffer",n.onload=function(){var t=new Uint8Array(this.response),n=new Blob([t],{type:"image/png"}),r=(window.URL||window.webkitURL).createObjectURL(n);e.getImage().src=r},n.send()},a=function(e){"ALL"===e?(localStorage.clear(),setTimeout((function(){window.location.reload()}),1e3)):localStorage.removeItem(e)}},579:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),a=n.n(r),o=n(30);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(f,e);var t,n,r,i=u(f);function f(){return c(this,f),i.apply(this,arguments)}return t=f,(n=[{key:"render",value:function(){return this.props.navlink_url?a.a.createElement(o.c,{className:"geo-back-btn geo-back-btn-toggled",to:this.props.navlink_url},a.a.createElement("i",{className:"fa fa-chevron-circle-left"}," ",this.props.name&&this.props.name)):this.props.back_url?a.a.createElement("a",{className:"geo-back-btn geo-back-btn-toggled",id:"geo-back-btn",onClick:this.props.history.push(this.props.back_url)},a.a.createElement("i",{className:"fa fa-chevron-circle-left"}," ",this.props.name&&this.props.name)):a.a.createElement("a",{className:"geo-back-btn geo-back-btn-toggled",id:"geo-back-btn",onClick:this.props.history.goBack},a.a.createElement("i",{className:"fa fa-chevron-circle-left"}," ",this.props.name&&this.props.name))}}])&&l(t.prototype,n),r&&l(t,r),f}(r.Component)},581:function(e,t,n){var r={"./af":350,"./af.js":350,"./ar":351,"./ar-dz":352,"./ar-dz.js":352,"./ar-kw":353,"./ar-kw.js":353,"./ar-ly":354,"./ar-ly.js":354,"./ar-ma":355,"./ar-ma.js":355,"./ar-sa":356,"./ar-sa.js":356,"./ar-tn":357,"./ar-tn.js":357,"./ar.js":351,"./az":358,"./az.js":358,"./be":359,"./be.js":359,"./bg":360,"./bg.js":360,"./bm":361,"./bm.js":361,"./bn":362,"./bn-bd":363,"./bn-bd.js":363,"./bn.js":362,"./bo":364,"./bo.js":364,"./br":365,"./br.js":365,"./bs":366,"./bs.js":366,"./ca":367,"./ca.js":367,"./cs":368,"./cs.js":368,"./cv":369,"./cv.js":369,"./cy":370,"./cy.js":370,"./da":371,"./da.js":371,"./de":372,"./de-at":373,"./de-at.js":373,"./de-ch":374,"./de-ch.js":374,"./de.js":372,"./dv":375,"./dv.js":375,"./el":376,"./el.js":376,"./en-au":377,"./en-au.js":377,"./en-ca":378,"./en-ca.js":378,"./en-gb":379,"./en-gb.js":379,"./en-ie":380,"./en-ie.js":380,"./en-il":381,"./en-il.js":381,"./en-in":382,"./en-in.js":382,"./en-nz":383,"./en-nz.js":383,"./en-sg":384,"./en-sg.js":384,"./eo":385,"./eo.js":385,"./es":386,"./es-do":387,"./es-do.js":387,"./es-mx":388,"./es-mx.js":388,"./es-us":389,"./es-us.js":389,"./es.js":386,"./et":390,"./et.js":390,"./eu":391,"./eu.js":391,"./fa":392,"./fa.js":392,"./fi":393,"./fi.js":393,"./fil":394,"./fil.js":394,"./fo":395,"./fo.js":395,"./fr":396,"./fr-ca":397,"./fr-ca.js":397,"./fr-ch":398,"./fr-ch.js":398,"./fr.js":396,"./fy":399,"./fy.js":399,"./ga":400,"./ga.js":400,"./gd":401,"./gd.js":401,"./gl":402,"./gl.js":402,"./gom-deva":403,"./gom-deva.js":403,"./gom-latn":404,"./gom-latn.js":404,"./gu":405,"./gu.js":405,"./he":406,"./he.js":406,"./hi":407,"./hi.js":407,"./hr":408,"./hr.js":408,"./hu":409,"./hu.js":409,"./hy-am":410,"./hy-am.js":410,"./id":411,"./id.js":411,"./is":412,"./is.js":412,"./it":413,"./it-ch":414,"./it-ch.js":414,"./it.js":413,"./ja":415,"./ja.js":415,"./jv":416,"./jv.js":416,"./ka":417,"./ka.js":417,"./kk":418,"./kk.js":418,"./km":419,"./km.js":419,"./kn":420,"./kn.js":420,"./ko":421,"./ko.js":421,"./ku":422,"./ku.js":422,"./ky":423,"./ky.js":423,"./lb":424,"./lb.js":424,"./lo":425,"./lo.js":425,"./lt":426,"./lt.js":426,"./lv":427,"./lv.js":427,"./me":428,"./me.js":428,"./mi":429,"./mi.js":429,"./mk":430,"./mk.js":430,"./ml":431,"./ml.js":431,"./mn":432,"./mn.js":432,"./mr":433,"./mr.js":433,"./ms":434,"./ms-my":435,"./ms-my.js":435,"./ms.js":434,"./mt":436,"./mt.js":436,"./my":437,"./my.js":437,"./nb":438,"./nb.js":438,"./ne":439,"./ne.js":439,"./nl":440,"./nl-be":441,"./nl-be.js":441,"./nl.js":440,"./nn":442,"./nn.js":442,"./oc-lnc":443,"./oc-lnc.js":443,"./pa-in":444,"./pa-in.js":444,"./pl":445,"./pl.js":445,"./pt":446,"./pt-br":447,"./pt-br.js":447,"./pt.js":446,"./ro":448,"./ro.js":448,"./ru":449,"./ru.js":449,"./sd":450,"./sd.js":450,"./se":451,"./se.js":451,"./si":452,"./si.js":452,"./sk":453,"./sk.js":453,"./sl":454,"./sl.js":454,"./sq":455,"./sq.js":455,"./sr":456,"./sr-cyrl":457,"./sr-cyrl.js":457,"./sr.js":456,"./ss":458,"./ss.js":458,"./sv":459,"./sv.js":459,"./sw":460,"./sw.js":460,"./ta":461,"./ta.js":461,"./te":462,"./te.js":462,"./tet":463,"./tet.js":463,"./tg":464,"./tg.js":464,"./th":465,"./th.js":465,"./tk":466,"./tk.js":466,"./tl-ph":467,"./tl-ph.js":467,"./tlh":468,"./tlh.js":468,"./tr":469,"./tr.js":469,"./tzl":470,"./tzl.js":470,"./tzm":471,"./tzm-latn":472,"./tzm-latn.js":472,"./tzm.js":471,"./ug-cn":473,"./ug-cn.js":473,"./uk":474,"./uk.js":474,"./ur":475,"./ur.js":475,"./uz":476,"./uz-latn":477,"./uz-latn.js":477,"./uz.js":476,"./vi":478,"./vi.js":478,"./x-pseudo":479,"./x-pseudo.js":479,"./yo":480,"./yo.js":480,"./zh-cn":481,"./zh-cn.js":481,"./zh-hk":482,"./zh-hk.js":482,"./zh-mo":483,"./zh-mo.js":483,"./zh-tw":484,"./zh-tw.js":484};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=581},966:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var r=n(0),a=n.n(r),o=n(12),i=n(975),c=n(119);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(l,e);var t,n,r,o=f(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).initials={currentPage:1},t.state={level:e.match.params.level||1,"жагсаалтын_холбоос":"/back/api/org/level-".concat(e.match.params.level,"/org-list/"),"талбарууд":[{field:"name",title:"Байгууллага нэр",has_action:!0},{field:"num_employees",title:"Албан хаагчид"},{field:"num_systems",title:"Систем"}],"хувьсах_талбарууд":[{field:"name",text:"",action:function(e){return t.go_link(e)},action_type:!1}],"нэмэх_товч":"/back/байгууллага/түвшин/".concat(e.match.params.level,"/нэмэх/"),"уншиж_байх_үед_зурвас":"Уншиж байна",refresh:!0,values:{},is_loading:!1},t.go_link=t.go_link.bind(d(t)),t}return t=l,(n=[{key:"componentDidUpdate",value:function(e,t){if(this.props.match.params.level!==t.level){var n=this.props.match.params.level;this.setState({level:this.props.match.params.level,"жагсаалтын_холбоос":"/back/api/org/level-".concat(n,"/org-list/"),refresh:!this.state.refresh,"нэмэх_товч":"/back/байгууллага/түвшин/".concat(n,"/нэмэх/")})}}},{key:"go_link",value:function(e){var t=this.state.level;this.props.history.push("/back/байгууллага/түвшин/".concat(t,"/").concat(e.id,"/хэрэглэгч/"))}},{key:"render",value:function(){var e=this.state,t=e.талбарууд,n=e.жагсаалтын_холбоос,r=e.хувьсах_талбарууд,o=e.refresh,l=e.нэмэх_товч,s=e.уншиж_байх_үед_зурвас,u=e.is_loading;return a.a.createElement("div",{className:"main-content"},a.a.createElement("div",{className:"page-container"},a.a.createElement(i.a,{"талбарууд":t,"жагсаалтын_холбоос":n,"хувьсах_талбарууд":r,refresh:o,"уншиж_байх_үед_зурвас":s,"нэмэх_товч":l})),a.a.createElement(c.a,{is_loading:u}))}}])&&s(t.prototype,n),r&&s(t,r),l}(r.Component),y=n(1023),b=n(1024);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(c,e);var t,n,r,i=E(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).default_url="/back/байгууллага/түвшин/1/",t.state={user_count:0},t}return t=c,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-body row"},a.a.createElement("div",{className:"col-md-12"},a.a.createElement(o.d,null,a.a.createElement(o.b,{exact:!0,path:"/back/байгууллага/түвшин/:level/",component:h}),a.a.createElement(o.b,{exact:!0,path:"/back/байгууллага/түвшин/:level/нэмэх/",component:y.a}),a.a.createElement(o.b,{exact:!0,path:"/back/байгууллага/түвшин/:level/:id/засах/",component:y.a}),a.a.createElement(o.b,{path:"/back/байгууллага/түвшин/:level/:id/",component:b.a})))))}}])&&g(t.prototype,n),r&&g(t,r),c}(r.Component)},976:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(228);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={getAll:function(e,t){var n=o(o({},Object(r.b)()),{},{body:JSON.stringify(t)});return fetch("".concat(l,"/level-").concat(e,"/"),n).then(r.c)},org_add:function(e,t){var n=o(o({},Object(r.b)()),{},{body:JSON.stringify(t)});return fetch("".concat(l,"/level-").concat(e,"/org-add/"),n).then(r.c)},org_remove:function(e,t){var n=o(o({},Object(r.b)()),{},{body:JSON.stringify({org_id:t})});return fetch("".concat(l,"/level-").concat(e,"/org-remove/"),n).then(r.c)},employeeAdd:function(e,t,n){var a=o(o({},Object(r.b)()),{},{body:JSON.stringify({payload:n})});return fetch("".concat(l,"/level-").concat(e,"/").concat(t,"/employee-add/"),a).then(r.c)},employeeRemove:function(e){var t=o({},Object(r.a)());return fetch("".concat(l,"/employee-remove-").concat(e,"/"),t).then(r.c)},employeeDetail:function(e){var t=o({},Object(r.a)());return fetch("".concat(l,"/employee-detail-").concat(e,"/"),t).then(r.c)},employeeUpdate:function(e,t,n){var a=o(o({},Object(r.b)()),{},{body:JSON.stringify({payload:n})});return fetch("".concat(l,"/level-").concat(t,"/employee-update-").concat(e,"/"),a).then(r.c)},empTokenRefresh:function(e){var t=o({},Object(r.a)());return fetch("".concat(l,"/employee-token-refresh-").concat(e,"/"),t).then(r.c)},sistemCount:function(e){var t=o({},Object(r.a)());return fetch("/back/api/систем/".concat(e,"/тоо/"),t).then(r.c)},orgList:function(e,t,n,a,i){var c=o(o({},Object(r.b)()),{},{body:JSON.stringify({page:e,perpage:t,query:n,org_level:a,sort_name:i})});return fetch("".concat(l,"/level-").concat(a,"/org-list/"),c).then(r.c)},orgAll:function(e,t){var n=o({},Object(r.a)());return fetch("/back/api/org/level-".concat(e,"/").concat(t,"/"),n).then(r.c)},getBaseLayers:function(){var e=Object(r.a)();return fetch("/суурь-давхарга/",e).then(r.c)},formOptions:function(e){var t=Object(r.a)();return fetch("/back/api/org/form-options/".concat(e,"/"),t).then(r.c)},getGeom:function(e){var t=o(o({},Object(r.b)()),{},{body:JSON.stringify({geo_id:e})});return fetch("/payment/get-geom/",t).then(r.c)},getAddresses:function(e,t){var n=Object(r.a)();return fetch("".concat(l,"/").concat(e,"/").concat(t,"/addresses/"),n).then(r.c)},getAddress:function(e){var t=o({},Object(r.a)());return fetch("".concat(l,"/address-").concat(e,"/"),t).then(r.c)},getEmpInfo:function(e,t){var n=o(o({},Object(r.b)()),{},{body:JSON.stringify({is_erguul:t})});return fetch("".concat(l,"/").concat(e,"/emp-info/"),n).then(r.c)},getErguulegFields:function(e){var t=Object(r.a)();return fetch("".concat(l,"/").concat(e,"/erguuleg-fields/"),t).then(r.c)},saveErguul:function(e,t,n,a,i){var c=o(o({},Object(r.b)()),{},{body:JSON.stringify({values:e,emp_id:t,point:n,photo:a,erguul_id:i})});return fetch("".concat(l,"/save-erguul/"),c).then(r.c)},getSelectValue:function(e){var t=o(o({},Object(r.b)()),{},{body:JSON.stringify({org_id:e})});return fetch("".concat(l,"/get-select-values/"),t).then(r.c)},genderCount:function(e){var t=Object(r.a)();return fetch("".concat(l,"/").concat(e,"/emp-gender-count/"),t).then(r.c)},ageCount:function(e){var t=Object(r.a)();return fetch("".concat(l,"/").concat(e,"/emp-age-count/"),t).then(r.c)},loadBaseLayers:function(){var e=Object(r.a)();return fetch("/суурь-давхарга/",e).then(r.c)},sendMail:function(e){var t=o(o({},Object(r.b)()),{},{body:JSON.stringify()});return fetch("".concat(l,"/send-mail/").concat(e,"/"),t).then(r.c)}},l="/back/api/org"},980:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,o,s=l(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=s.call(this,e)).state={status:t.props.status||"initial"},t.handleOpen=t.handleOpen.bind(u(t)),t.handleProceed=t.handleProceed.bind(u(t)),t.handleClose=t.handleClose.bind(u(t)),t}return t=f,(n=[{key:"componentDidMount",value:function(){"initial"==this.state.status&&this.handleOpen()}},{key:"componentDidUpdate",value:function(e){this.props.status!=e.status&&(["initial","open"].includes(this.props.status)&&this.handleOpen(),["closing","closed"].includes(this.props.status)&&this.handleClose(null,0))}},{key:"handleOpen",value:function(){var e=this;this.setState({status:"initial"}),setTimeout((function(){e.setState({status:"open"})}),0)}},{key:"handleClose",value:function(e,t){var n=this;t=void 0===t?150:t,this.setState({status:"closing"}),setTimeout((function(){n.setState({status:"closed"}),e&&e()}),t)}},{key:"handleProceed",value:function(){this.handleClose(this.props.modalAction)}},{key:"render",value:function(){var e=this,t=this.state.status,n="modal fade"+("initial"==t?" d-block":"")+("open"==t?" show d-block":"")+("closing"==t?" d-block":"")+("closed"==t?" d-none":""),o="modal-backdrop fade"+("open"==t?" show":"")+("closed"==t?" d-none":"");return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:n,onClick:function(){return e.handleProceed()}},a.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},a.a.createElement("div",{className:"modal-content",style:{border:"none",borderRadius:"7px",background:"#ebebeb"}},a.a.createElement("div",{className:"d-flex justify-content-center"},"danger"==this.props.model_type_icon?a.a.createElement("i",{className:"fa fa-times-circle fa-3x my-3 animated bounceIn text-danger","aria-hidden":"true"}):"primary"==this.props.model_type_icon?a.a.createElement("i",{className:"fa fa-check-circle fa-3x my-3 animated bounceIn gp-text-primary","aria-hidden":"true"}):"warning"==this.props.model_type_icon?a.a.createElement("i",{className:"fa fa-exclamation-circle fa-3x my-3 animated bounceIn text-warning","aria-hidden":"true"}):a.a.createElement("i",{className:"fa fa-check-circle fa-3x my-3 animated bounceIn text-success","aria-hidden":"true"})),a.a.createElement("div",{className:"d-flex justify-content-center my-1"},a.a.createElement("h6",{className:"text-dark"},this.props.title)),a.a.createElement("div",{className:"modal-body text-wrap ml-2 mr-2 my-3 text-justify"},a.a.createElement("a",{className:"text-dark"},this.props.text))))),a.a.createElement("div",{className:o}))}}])&&i(t.prototype,n),o&&i(t,o),f}(r.Component)},986:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),a=n.n(r);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,o,s=l(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=s.call(this,e)).state={status:t.props.status||"initial"},t.handleOpen=t.handleOpen.bind(u(t)),t.handleClose=t.handleClose.bind(u(t)),t.handleProceed=t.handleProceed.bind(u(t)),t}return t=f,(n=[{key:"componentDidMount",value:function(){"initial"==this.state.status&&this.handleOpen()}},{key:"componentDidUpdate",value:function(e){this.props.status!=e.status&&(["initial","open"].includes(this.props.status)&&this.handleOpen(),["closing","closed"].includes(this.props.status)&&this.handleClose(null,0))}},{key:"handleOpen",value:function(){var e=this;this.setState({status:"initial"}),setTimeout((function(){e.setState({status:"open"})}),0)}},{key:"handleClose",value:function(e,t){var n=this;t=void 0===t?150:t,this.setState({status:"closing"}),setTimeout((function(){n.setState({status:"closed"}),e&&e(),n.props.modalClose&&n.props.modalClose()}),t)}},{key:"handleProceed",value:function(){this.handleClose(this.props.modalAction)}},{key:"render",value:function(){var e=this,t=this.state.status,n="modal fade"+("initial"==t?" d-block":"")+("open"==t?" show d-block":"")+("closing"==t?" d-block":"")+("closed"==t?" d-none":""),o="modal-backdrop fade"+("open"==t?" show":"")+("closed"==t?" d-none":"");return a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:n},a.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},a.a.createElement("div",{className:"modal-content animated",style:{border:"none",borderRadius:"7px",background:"#ebebeb"}},a.a.createElement("div",{className:"col-md-12 offset-md-12 float-right my-1"},a.a.createElement("button",{type:"button",className:"close mt-2 mr-2","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.handleClose()}},"×"))),a.a.createElement("div",{className:"d-flex justify-content-center"},"success"==this.props.model_type_icon?a.a.createElement("i",{className:"fa fa-times-circle fa-3x my-3 animated bounceIn text-success","aria-hidden":"true"}):a.a.createElement("i",{className:"fa fa-times-circle fa-3x my-3 animated bounceIn text-danger","aria-hidden":"true"})),a.a.createElement("div",{className:"d-flex justify-content-center"},a.a.createElement("h5",null,this.props.title)),a.a.createElement("div",{className:"modal-body text-wrap ml-2 mr-2 text-justify"},this.props.text),a.a.createElement("div",{className:"modal-footer",style:{border:"none"}},a.a.createElement("button",{type:"button",onClick:function(){return e.handleClose()},className:"btn btn-primary waves-effect waves-light"},a.a.createElement("i",{className:"fa fa-times"}),this.props.actionNameBack?this.props.actionName:"  БУЦАХ"),a.a.createElement("button",{type:"button",onClick:this.handleProceed,className:"btn btn-outline-primary waves-effect waves-light"},a.a.createElement("i",{className:"fa fa-check-square-o"}),this.props.actionName?this.props.actionName:"  УСТГАХ"))))),a.a.createElement("div",{className:o}))}}])&&i(t.prototype,n),o&&i(t,o),f}(r.Component)},988:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(35),a=Object(r.c)().shape({username:Object(r.d)().max(150,"150-с илүүгүй урттай утга оруулна уу!").required("Хоосон байна утга оруулна уу."),first_name:Object(r.d)().max(30,"30-с илүүгүй урттай утга оруулна уу!").required("Хоосон байна утга оруулна уу."),last_name:Object(r.d)().max(150,"150-с илүүгүй урттай утга оруулна уу!").required("Хоосон байна утга оруулна уу."),position:Object(r.d)().required("Хоосон байна нэгийг сонгоно уу."),state:Object(r.d)().required("Хоосон байна нэгийг сонгоно уу."),email:Object(r.d)().email((function(e){e.value;return"Зөв e-mail хаяг оруулна уу."})).max(254,"254-с илүүгүй урттай утга оруулна уу!").required("Хоосон байна утга оруулна уу."),gender:Object(r.d)().max(100,"100-с илүүгүй урттай утга оруулна уу!").required("Хоосон байна утга оруулна уу."),phone_number:Object(r.d)().max(8,"8 урттай утга оруулна уу!").required("Хоосон байна утга оруулна уу.").matches(new RegExp("[0-9]"),"Заавал тоо байх ёстой!"),register:Object(r.d)().matches(/[аАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОөӨпПрРсСтТуУүҮфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяЯ]{2}[0-9]{8}/,(function(e){var t=e.value;return"".concat(t," Регистер дугаараа зөв оруулна уу.")})).max(10,"10-с илүүгүй урттай утга оруулна уу!").required("Хоосон байна утга оруулна уу.")})},993:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(228);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={create:function(e){var t=o(o({},Object(r.b)()),{},{body:JSON.stringify(e)});return fetch("/back/api/систем/үүсгэх/",t).then(r.c)},update:function(e){var t=o(o({},Object(r.b)()),{},{body:JSON.stringify(e)});return fetch("/back/api/систем/".concat(e.id,"/хадгалах/"),t).then(r.c)},remove:function(e){var t=o({},Object(r.b)());return fetch("/back/api/систем/".concat(e,"/устгах/"),t).then(r.c)},detail:function(e){var t=o({},Object(r.a)());return fetch("/back/api/систем/".concat(e,"/дэлгэрэнгүй/"),t).then(r.c)},getWMSList:function(e){var t=o({},Object(r.a)());return fetch("/back/wms/all/".concat(e,"/"),t).then(r.c)},tokenRefresh:function(e){var t=o({},Object(r.b)());return fetch("/back/api/систем/".concat(e,"/refresh-token/"),t).then(r.c)},setSystemAtt:function(e,t){var n=o(o({},Object(r.b)()),{},{body:JSON.stringify({array:e})});return fetch("/back/api/систем/".concat(t,"/att-save/"),n).then(r.c)}}}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{118:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(0),o=n.n(a);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(f,e);var t,n,r,s=i(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=s.call(this,e)).state={modal_status:t.props.modal_status||"initial"},t.handleOpen=t.handleOpen.bind(u(t)),t.handleClose=t.handleClose.bind(u(t)),t.handleProceed=t.handleProceed.bind(u(t)),t}return t=f,(n=[{key:"componentDidMount",value:function(){"initial"==this.state.modal_status&&this.handleOpen()}},{key:"componentDidUpdate",value:function(e){this.props.modal_status!=e.modal_status&&(["initial","open"].includes(this.props.modal_status)&&this.handleOpen(),["closing","closed"].includes(this.props.modal_status)&&this.handleClose())}},{key:"handleOpen",value:function(){var e=this;this.setState({modal_status:"initial"}),setTimeout((function(){e.setState({modal_status:"open"})}),0)}},{key:"handleClose",value:function(e){var t=this;this.setState({modal_status:"closing"}),setTimeout((function(){t.setState({modal_status:"closed"}),e?e():(t.setState({modal_status:"closed"}),t.props.modalClose&&t.props.modalClose())}),150)}},{key:"handleProceed",value:function(){this.handleClose(this.props.modalAction)}},{key:"render",value:function(){var e=this,t=this.state.modal_status,n="modal fade"+("initial"==t?" d-block":"")+("open"==t?" show d-block":"")+("closing"==t?" d-block":"")+("closed"==t?" d-none":""),r="modal-backdrop fade"+("open"==t?" show":"")+("closed"==t?" d-none":"");return o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:n},o.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},o.a.createElement("div",{className:"modal-content border-0 rounded-lg ".concat(this.props.modal_bg?this.props.modal_bg:"bg-light")},o.a.createElement("div",{className:"col-md-12 offset-md-12 float-right my-1"},o.a.createElement("button",{type:"button",className:"close mt-2 mr-2","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.handleClose()}},"×"))),o.a.createElement("div",{className:"d-flex justify-content-center"},this.props.modal_icon&&o.a.createElement("i",{className:"".concat(this.props.modal_icon," fa-3x my-3 animated bounceIn text-").concat(this.props.icon_color),"aria-hidden":"true"})),o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement("h5",null,this.props.title&&this.props.title)),o.a.createElement("div",{className:"modal-body text-center text-wrap ml-2 mr-2 text-justify"},this.props.text&&("string"==typeof this.props.text?this.props.text:o.a.createElement(this.props.text,this.props))),this.props.has_button?o.a.createElement("div",{className:"modal-footer border-0"},o.a.createElement("button",{type:"button",onClick:function(){return e.handleClose()},className:"btn btn-primary waves-effect waves-light"},o.a.createElement("i",{className:"fa fa-times pr-1"}),this.props.actionNameBack?this.props.actionNameBack:"БУЦАХ"),o.a.createElement("button",{type:"button",onClick:this.handleProceed,className:"btn btn-outline-primary waves-effect waves-light"},o.a.createElement("i",{className:"fa fa-check-square-o pr-1"}),this.props.actionNameDelete?this.props.actionNameDelete:"УСТГАХ")):o.a.createElement("div",{className:"modal-body mt-3"})))),o.a.createElement("div",{className:r}))}}])&&c(t.prototype,n),r&&c(t,r),f}(a.Component)},905:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(0),o=n.n(a);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,a,r=i(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this,e)).state={},t}return t=s,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.title_name,a=t.defualt_value,r=t.defualt_text,c=t.data_list;return o.a.createElement("div",{className:"form-group col-md-4"},o.a.createElement("label",{className:""},n||""),o.a.createElement("select",{value:a,className:"form-control col-md-12",onChange:function(t){return e.props.handleSelectField(n,t.target.value)}},o.a.createElement("option",{value:""},"---",r||""," ---"),c&&c.length>0&&c.map((function(e,t){return o.a.createElement("option",{key:t,value:e.code},e.name)}))))}}])&&c(t.prototype,n),a&&c(t,a),s}(a.Component)},975:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _e}));var a=n(0),o=n.n(a),r=n(46),c=n(891);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,n,r,c=u(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).state={status:"initial",modal_status:"closed"},t.handleOpen=t.handleOpen.bind(p(t)),t.handleClose=t.handleClose.bind(p(t)),t.handleModalOpen=t.handleModalOpen.bind(p(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){"initial"==this.state.status&&this.handleOpen()}},{key:"handleOpen",value:function(){this.setState({status:"open"})}},{key:"handleClose",value:function(){this.setState({status:"closed"}),this.props.modalClose()}},{key:"handleModalOpen",value:function(){var e=this;this.setState({modal_status:"open"},(function(){e.setState({modal_status:"initial"})}))}},{key:"render",value:function(){var e=this,t=this.state.status,n="modal fade"+("initial"==t?" d-block":"")+("open"==t?" show d-block":"")+("closing"==t?" d-block":"")+("closed"==t?" d-none":""),r="modal-backdrop fade"+("open"==t?" show":"")+("closed"==t?" d-none":"");return o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:n+" ml-3 mr-3 mb-3 mt-3 pl-3 pr-3 pb-3 pt-3 rounded text-wrap",style:{height:"calc( 103vh - 85px - 15px)"}},o.a.createElement("div",{className:"col-md-10 d-flex justify-content-center container"},o.a.createElement("div",{className:"modal-content animated row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"row mt-2",style:{background:"white"}},o.a.createElement("div",{className:"col-md-11"},o.a.createElement("h5",{className:"text-center text-justify"},this.props.title)),o.a.createElement("div",{className:"col-md-1",onClick:function(){return e.handleClose()}},o.a.createElement("button",{type:"button",className:"close float-right","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"×")))),this.props.model_body&&o.a.createElement(this.props.model_body,this.props))))),o.a.createElement("div",{className:r}))}}])&&i(t.prototype,n),r&&i(t,r),l}(a.Component),h=n(900),y=n(49);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={requestReject:function(e){var t=v(v({},Object(y.b)()),{},{body:JSON.stringify({id:e})});return fetch("".concat(O,"/reject/"),t).then(y.c)},requestApprove:function(e,t){var n=v(v({},Object(y.b)()),{},{body:JSON.stringify({ids:e,feature_id:t})});return fetch("".concat(O,"/approve/"),n).then(y.c)},requestDismiss:function(e,t){var n=v(v({},Object(y.b)()),{},{body:JSON.stringify({id:e,description:t})});return fetch("".concat(O,"/dismiss/"),n).then(y.c)},llcList:function(e){var t=v(v({},Object(y.b)()),{},{body:JSON.stringify({id:e})});return fetch("".concat(O),t).then(y.c)},handleRequestData:function(e){var t=v({},Object(y.a)());return fetch("".concat(O,"/").concat(e,"/get-request-data/"),t).then(y.c)},getFilesDetal:function(e){var t=v({},Object(y.a)());return fetch("/llc/backend/".concat(e,"/get-file-shapes/"),t).then(y.c)},getInspireTree:function(){var e=v({},Object(y.a)());return fetch("/back/another-database/pg/get-all-view-names/",e).then(y.c)}},O="/gov/api/llc-request";var E=n(118),w=n(107);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function P(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){N(n,e);var t=R(n);function n(e){var a;return C(this,n),(a=t.call(this,e)).state={description:e.description},a.handleOnchange=a.handleOnchange.bind(M(a)),a}return P(n,[{key:"handleOnchange",value:function(e){this.props.handleOnChange(e)}},{key:"render",value:function(){var e=this,t=this.state.description;return o.a.createElement("div",{className:"col-md-12"},o.a.createElement("label",null,"Тайлбар оруулна уу "),o.a.createElement("textarea",{className:"form-control",value:t,onChange:function(t){return e.handleOnchange(t)}}))}}]),n}(a.Component),T=function(e){N(n,e);var t=R(n);function n(e){var a;return C(this,n),(a=t.call(this,e)).state={status:"initial",is_loading:!1,action_type:"",modal_status:"closed",title:"",has_button:!1,modalClose:null,values:e.values,project_name:"",object_type:"",object_count:"",hurungu_oruulalt:"",vector_datas:[],disabled:!0,aimag_name:"",description:""},a.handleOpen=a.handleOpen.bind(M(a)),a.handleClose=a.handleClose.bind(M(a)),a.handleModalAction=a.handleModalAction.bind(M(a)),a.handleRequestApprove=a.handleRequestApprove.bind(M(a)),a.handleRequestDismiss=a.handleRequestDismiss.bind(M(a)),a.modalChange=a.modalChange.bind(M(a)),a.handleModalOpen=a.handleModalOpen.bind(M(a)),a.selectedFeature=a.selectedFeature.bind(M(a)),a.handleOnChange=a.handleOnChange.bind(M(a)),a}return P(n,[{key:"handleOnChange",value:function(e){this.setState({description:e.target.value})}},{key:"handleModalAction",value:function(){var e=this.props.id,t=this.state.description;this.setState({is_loading:!0}),"reject"==this.state.action_type&&this.handleRequestReject(e),"approve"==this.state.action_type&&this.handleRequestApprove(ids,feature_id),"dismiss"==this.state.action_type&&this.handleRequestDismiss(e,t)}},{key:"handleRequestDismiss",value:function(e,t){var n=this;g.requestDismiss(e,t).then((function(e){var t=e.success,a=e.info;t?(n.modalChange("","fa fa-check-circle","success",a,"",!1,"",n.handleClose),n.setState({is_loading:!1})):n.modalChange("","fa fa-times-circle","danger",a,"",!1,"",n.handleClose)})).catch((function(e){"Bad Request"==e&&n.modalChange("","fa fa-exclamation-circle","warning","Алдаа гарлаа. Объект олдсонгүй","",!1,"",n.handleClose)}))}},{key:"handleRequestReject",value:function(e){var t=this;g.requestReject(e).then((function(e){var n=e.success,a=e.info;n?(t.modalChange("","fa fa-check-circle","success",a,"",!1,"",t.handleClose),t.setState({is_loading:!1})):t.modalChange("","fa fa-times-circle","danger",a,"",!1,"",t.handleClose)})).catch((function(e){"Bad Request"==e&&t.modalChange("","fa fa-exclamation-circle","warning","Алдаа гарлаа. Объект олдсонгүй","",!1,"",t.handleClose)}))}},{key:"handleRequestApprove",value:function(e,t){var n=this;g.requestApprove(e,t).then((function(e){var t=e.success,a=e.info;t?(n.modalChange("","fa fa-check-circle","success",a,"",!1,"",n.handleClose),n.setState({is_loading:!1})):n.modalChange("","fa fa-times-circle","danger",a,"",!1,"",n.handleClose)})).catch((function(e){"Bad Request"==e&&n.modalChange("","fa fa-exclamation-circle","warning","Алдаа гарлаа.","",!1,"",n.handleClose)}))}},{key:"componentDidMount",value:function(){var e=this;"initial"==this.state.status&&this.handleOpen();var t=this.props.id;g.handleRequestData(t).then((function(t){var n=t.vector_datas,a=t.form_field,o=t.selected_tools,r=t.aimag_name,c=t.aimag_geom;a&&e.setState({vector_datas:n,zahialagch:a.client_org,project_name:a.project_name,object_type:a.object_type,object_count:a.object_quantum,hurungu_oruulalt:a.investment_status,selected_tools:o,aimag_name:r,aimag_geom:c})}))}},{key:"handleOpen",value:function(){this.setState({status:"open"})}},{key:"handleClose",value:function(){this.setState({status:"closed"}),this.props.modalClose()}},{key:"modalChange",value:function(e,t,n,a,o,r,c,l){this.setState({action_type:e,modal_icon:t,icon_color:n,title:a,text:o,has_button:r,action_name:c,modalClose:l}),this.handleModalOpen()}},{key:"handleModalOpen",value:function(){var e=this;this.setState({is_loading:!1,modal_status:"open"},(function(){e.setState({modal_status:"initial"})}))}},{key:"selectedFeature",value:function(e){var t=this,n=e.selected[0];if(n){var a=this.props.values,o=n.getProperties().id;a.map((function(e,n){e.id==o&&t.setState({form_json:e.form_json,selected_value:e})}))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.aimag_name,a=t.zahialagch,r=t.project_name,c=t.object_type,l=t.object_count,i=t.hurungu_oruulalt,s=t.vector_datas,u=t.aimag_geom,f=t.is_loading,p=this.props.kind;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row p-3"},o.a.createElement(w.a,{is_loading:f,text:"Хүсэлтийг шалгаж байна түр хүлээнэ үү..."}),o.a.createElement("div",{className:"col-md-5"},o.a.createElement("form",{class:"form-row"},n&&o.a.createElement("div",{className:"form-group col-md-12"},o.a.createElement("label",{htmlFor:""},"Өгөгдлийн хамрагдаж буй аймгийн нэр"),o.a.createElement("input",{type:"text",name:"aimag_name",className:"form-control",disabled:!0,value:n})),o.a.createElement("div",{className:"form-group col-md-12"},o.a.createElement("label",{htmlFor:""},"Захиалагч байгууллага"),o.a.createElement("input",{type:"text",name:"zahialagch",className:"form-control",value:a,disabled:!0})),o.a.createElement("div",{className:"form-group col-md-12 m-0"},o.a.createElement("label",{htmlFor:""},"Төслийн нэр"),o.a.createElement("input",{type:"text",name:"project_name",className:"form-control",value:r,disabled:!0})),o.a.createElement("div",{className:"form-group col-md-6 my-4 col-sm-6"},o.a.createElement("label",{htmlFor:""},"Объектийн төрөл"),o.a.createElement("textarea",{type:"text",name:"object_type",className:"form-control",value:c,disabled:!0})),o.a.createElement("div",{className:"form-group col-md-6 col-sm-6 my-4"},o.a.createElement("label",{htmlFor:""},"Объектийн тоо хэмжээ"),o.a.createElement("textarea",{type:"text",name:"object_count",className:"form-control",value:l,disabled:!0})),o.a.createElement("div",{className:"form-group col-md-12"},o.a.createElement("label",{htmlFor:""}," Хөрөнгө оруулалтын байдал "),o.a.createElement("textarea",{name:"hurungu_oruulalt",rows:"3",className:"form-control",value:i,disabled:!0})))),o.a.createElement("div",{className:"col-md-7"},o.a.createElement(h.a,{vector_datas:s,height:"50vh",aimag_geom:u,selectedFeature:this.selectedFeature}))),"ШИНЭ"==p&&o.a.createElement("div",{className:"row my-2 mr-1 float-right"},o.a.createElement("button",{type:"button mr-2 ml-2",onClick:function(){return e.modalChange("reject","fa fa-exclamation-circle","warning","Тохиргоог татгалзах","Та татгалзахдаа итгэлтэй байна уу?",!0,"татгалзах",null)},className:"btn gp-btn-primary waves-effect waves-light"},o.a.createElement("i",{className:"fa fa-check-square-o"},"Татгалзах")),o.a.createElement("button",{type:"button mr-2 ml-2",onClick:function(){return e.modalChange("dismiss","fa fa-exclamation-circle","warning","Тохиргоог буцаах",D,!0,"илгээх",null)},className:"btn gp-btn-primary waves-effect waves-light ml-2"},o.a.createElement("i",{className:"fa fa-check-square-o"},"Буцаах")),o.a.createElement("button",{type:"button mr-2 ml-2",onClick:function(){return e.modalChange("approve","fa fa-exclamation-circle","warning","Хүсэлт үүсгэх","Та хүсэлт үүсгэхдээ итгэлтэй байна уу?",!0,"Хүсэлт үүсгэх",null)},className:"btn gp-btn-outline-primary waves-effect waves-light ml-2"},o.a.createElement("i",{className:"fa fa-check"},"Хүсэлт үүсгэх"))),o.a.createElement(E.a,{modal_status:this.state.modal_status,modal_icon:this.state.modal_icon,icon_color:this.state.icon_color,title:this.state.title,has_button:this.state.has_button,text:this.state.text,modalAction:this.handleModalAction,actionNameDelete:this.state.action_name,modalClose:this.state.modalClose,handleOnChange:this.handleOnChange}))}}]),n}(a.Component),B=function(e){N(n,e);var t=R(n);function n(e){var a;return C(this,n),(a=t.call(this,e)).state={is_modal_request_open:!1,values:e.values,state:e.values.state},a.openModalMap=a.openModalMap.bind(M(a)),a.closeModalMap=a.closeModalMap.bind(M(a)),a}return P(n,[{key:"openModalMap",value:function(){this.setState({is_modal_request_open:!0})}},{key:"closeModalMap",value:function(){this.setState({is_modal_request_open:!1})}},{key:"render",value:function(){var e=this.state,t=e.is_modal_request_open,n=e.state;return o.a.createElement("div",null,"ШИНЭ"==n&&o.a.createElement("a",{className:"btn btn-primary btn-sm text-white text-capitalize",onClick:this.openModalMap},"Шийдвэрлэх"),t&&o.a.createElement(d,k({modalClose:this.closeModalMap,model_body:T},this.props.values,{title:"Хүсэлт шийдвэрлэх"})))}}]),n}(a.Component),F=n(905);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function H(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=V(e);if(t){var o=V(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return $(this,n)}}function $(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(c,e);var t,n,a,r=L(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=r.call(this,e)).state={status:"initial",action_type:"",modal_status:"closed",modal_icon:"fa fa-check-circle",icon_color:"success",title:"",text:"",model_type_icon:"",action_name:"",modalClose:null,values:e.values,table_name:"",themes:e.themes,packages:e.packages,features:e.features,feature_name:e.selected_values.feature,theme_name:e.selected_values.theme,package_name:e.selected_values.package,selected_packages:[],selected_features:[],selected_dt_list:[],data_type_list:[],is_loading:!1,selected_values:e.selected_values},t.handleChange=t.handleChange.bind(Q(t)),t.getArray=t.getArray.bind(Q(t)),t}return t=c,(n=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,a=n.theme_name,o=n.feature_name,r=n.package_name,c=this.props,l=c.selected_values,i=(c.packages,c.features,c.theme_state,{});t.theme_name!=a&&(i={selected_ins:a,selected_values:l,key:"theme"},this.props.model_action(i)),t.package_name!=r&&(i={selected_ins:r,selected_values:l,key:"package"},this.props.model_action(i)),t.feature_name!=o&&(i={selected_ins:o,selected_values:l,key:"feature"},this.props.model_action(i))}},{key:"getArray",value:function(e,t){return z(e).filter((function(e){return e.parent==t}))}},{key:"handleChange",value:function(e,t,n){var a=this.state,o=a.packages,r=a.features,c=(a.selected_values,parseInt(t)),l={},i=[];"theme"==e?(l.theme_name=c,i=this.getArray(o,c),l.selected_packages=i,l.feature_name=""):"package"==e?c?(l.package_name=c,i=this.getArray(r,c),l.selected_features=i,l.feature_name=""):l.feature_name="":l.feature_name=c,c||(l.selected_features=[],l.feature_name=""),this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l))}},{key:"render",value:function(){var e=this.state,t=(e.is_loading,e.themes),n=e.theme_name,a=e.package_name,r=e.feature_name,c=e.selected_features,l=e.selected_packages,i=e.selected_values;return o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"form-row col-md-12 p-4 mx-1"},o.a.createElement(F.a,{title_name:"theme",data_list:t,defualt_value:n,handleSelectField:this.handleChange}),o.a.createElement(F.a,{title_name:"package",data_list:l,defualt_value:a,handleSelectField:this.handleChange}),o.a.createElement(F.a,{title_name:"feature",data_list:c,defualt_value:r,handleSelectField:this.handleChange})),o.a.createElement("div",{className:"col-md-12 pb-5 mt-2"},o.a.createElement(h.a,{vector_datas:i.features,height:"60vh"})))}}])&&H(t.prototype,n),a&&H(t,a),c}(a.Component);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=oe(e);if(t){var o=oe(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return ne(this,n)}}function ne(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?ae(e):t}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(c,e);var t,n,a,r=te(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=r.call(this,e)).state={list_of_datas:[],model_status:!1,selected_values:[],themes:[],packages:[],features:[],theme_state:!1},t.handleProceed=t.handleProceed.bind(ae(t)),t.closeModel=t.closeModel.bind(ae(t)),t.modelAction=t.modelAction.bind(ae(t)),t.getInspireTree=t.getInspireTree.bind(ae(t)),t}return t=c,(n=[{key:"getInspireTree",value:function(){var e=this;g.getInspireTree().then((function(t){var n=t.themes,a=t.packages,o=t.features;e.setState({themes:n,packages:a,features:o})}))}},{key:"modelAction",value:function(e){var t=this.state,n=t.list_of_datas,a=(t.theme_state,e.key),o=n.findIndex((function(t){return t.id==e.selected_values.id}));n[o][a]=e.selected_ins,this.setState({list_of_datas:n})}},{key:"handleProceed",value:function(e){this.setState({model_status:!0,selected_values:e})}},{key:"closeModel",value:function(){this.setState({model_status:!1})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;g.getFilesDetal(t).then((function(t){var n=t.list_of_datas;e.setState({list_of_datas:n})})),this.getInspireTree()}},{key:"render",value:function(){var e=this,t=this.state,n=t.list_of_datas,a=t.model_status;return t.selected_values,o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 overflow-auto text-justify my-2",style:{height:"calc( 40vh - 35px - 7px)"}},o.a.createElement("table",{className:"table table_wrapper_table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"}," № "),o.a.createElement("th",{scope:"col"},"Төрөл"),o.a.createElement("th",{scope:"col"},"THEME"),o.a.createElement("th",{scope:"col"},"PACKAGE"),o.a.createElement("th",{scope:"col"},"FEATURE"),o.a.createElement("th",{scope:"col"}))),o.a.createElement("tbody",null,n.length>0?n.map((function(t,n){return o.a.createElement("tr",{key:n},o.a.createElement("td",null,n+1),o.a.createElement("td",null,t.geom_type),o.a.createElement("td",null,t.theme),o.a.createElement("td",null,t.package),o.a.createElement("td",null,t.feature),o.a.createElement("td",{scope:"row"},o.a.createElement("a",{className:"btn btn-primary",href:"#",onClick:function(n){return e.handleProceed(t)}},"inspire тохиргоо")))})):o.a.createElement("tr",null,o.a.createElement("td",null,"дата бүртгэлгүй байна"))))),a&&o.a.createElement(d,Y({modalClose:this.closeModel,model_body:W,model_action:this.modelAction},this.state,{title:"Дэд сан тохируулах"})))))}}])&&Z(t.prototype,n),a&&Z(t,a),c}(a.Component);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=fe(e);if(t){var o=fe(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return ue(this,n)}}function ue(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(l,e);var t,n,a,r=se(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=r.call(this,e)).state={org_request:[],state:null,kind:null,search_geom:null,theme_id:null,package_id:null,feature_id:null,is_loading:!1,refresh:!1,"талбарууд":[{field:"name",title:"Нэр"},{field:"state",title:"Төлөв",has_action:!0},{field:"kind",title:"Өөрчлөлт",has_action:!0},{field:"updated_at",title:"Зассан"}],"жагсаалтын_холбоос":"/gov/api/llc-request/","хувьсах_талбарууд":[{field:"state",action:function(e){return"ШИНЭ"==(t=e)?n="text-primary":"ИЛГЭЭСЭН"==t&&(n="text-success"),n;var t,n},action_type:!0},{field:"kind",action:function(e){return"ШИЙДВЭРЛЭГДСЭН"==(t=e)?n="text-success":"ХҮЛЭЭГДЭЖ БУЙ"==t?n="text-warning":("ЦУЦЛАСАН"==t||"БУЦААГДСАН"==t)&&(n="text-danger"),n;var t,n},action_type:!0}],"нэмэлт_талбарууд":[{title:"Тохиргоо",text:"",icon:"fa fa-cog text-primary",action:function(e){return t.handeUpdateAction(e)}},{title:"Хавсаргасан файл",text:"Татах",icon:"text-primary",component:function(e){return function(e){return o.a.createElement("a",{href:"/media/"+e.values.file_path,target:"_blank"},o.a.createElement("i",{className:"fa fa-download"},"  Татах"))}(e)}},{title:"Шийдвэрлэх",component:B,props:{refreshData:function(){return t.refreshData()}}}],is_modal_request_open:!1,custom_query:{}},t}return t=l,(n=[{key:"handeUpdateAction",value:function(e){this.props.history.push("/gov/llc-request/".concat(e.id,"/configure-bundle/"))}},{key:"render",value:function(){var e=this.state,t=e.жагсаалтын_холбоос,n=e.талбарууд,a=e.хувьсах_талбарууд,r=e.нэмэлт_талбарууд,l=e.refresh;return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement(c.a,{refresh:l,color:"primary","талбарууд":n,"жагсаалтын_холбоос":t,per_page:20,"уншиж_байх_үед_зурвас":"Хүсэлтүүд уншиж байна","хувьсах_талбарууд":a,"нэмэлт_талбарууд":r,max_data:"open","хайлт":"closed",sort_name:"-created_at",custom_query:this.state.custom_query})))))}}])&&le(t.prototype,n),a&&le(t,a),l}(a.Component);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return be(this,n)}}function be(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(l,e);var t,n,a,c=ye(l);function l(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e)}return t=l,(n=[{key:"render",value:function(){return o.a.createElement(r.c,null,o.a.createElement(r.a,{exact:!0,path:"/gov/llc-request/",component:pe}),o.a.createElement(r.a,{path:"/gov/llc-request/:id/configure-bundle/",component:re}))}}])&&de(t.prototype,n),a&&de(t,a),l}(a.Component)}}]);
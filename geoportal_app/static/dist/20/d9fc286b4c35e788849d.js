(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{143:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),r=a.n(n);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p(e);if(t){var r=p(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return s(this,a)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,e);var t,a,o,s=i(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=s.call(this,e)).state={modal_status:t.props.modal_status||"initial"},t.handleOpen=t.handleOpen.bind(d(t)),t.handleClose=t.handleClose.bind(d(t)),t.handleProceed=t.handleProceed.bind(d(t)),t}return t=p,(a=[{key:"componentDidMount",value:function(){"initial"==this.state.modal_status&&this.handleOpen()}},{key:"componentDidUpdate",value:function(e){this.props.modal_status!=e.modal_status&&(["initial","open"].includes(this.props.modal_status)&&this.handleOpen(),["closing","closed"].includes(this.props.modal_status)&&this.handleClose())}},{key:"handleOpen",value:function(){var e=this;this.setState({modal_status:"initial"}),setTimeout((function(){e.setState({modal_status:"open"})}),0)}},{key:"handleClose",value:function(e){var t=this;this.setState({modal_status:"closing"}),setTimeout((function(){t.setState({modal_status:"closed"}),e?e():(t.setState({modal_status:"closed"}),t.props.modalClose&&t.props.modalClose())}),150)}},{key:"handleProceed",value:function(){this.handleClose(this.props.modalAction)}},{key:"render",value:function(){var e=this,t=this.state.modal_status,a="modal fade"+("initial"==t?" d-block":"")+("open"==t?" show d-block":"")+("closing"==t?" d-block":"")+("closed"==t?" d-none":""),o="modal-backdrop fade"+("open"==t?" show":"")+("closed"==t?" d-none":"");return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:a},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},r.a.createElement("div",{className:"modal-content border-0 rounded-lg ".concat(this.props.modal_bg?this.props.modal_bg:"bg-light")},r.a.createElement("div",{className:"col-md-12 offset-md-12 float-right my-1"},r.a.createElement("button",{type:"button",className:"close mt-2 mr-2","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.handleClose()}},"×"))),r.a.createElement("div",{className:"d-flex justify-content-center"},this.props.modal_icon&&r.a.createElement("i",{className:"".concat(this.props.modal_icon," fa-3x my-3 animated bounceIn text-").concat(this.props.icon_color),"aria-hidden":"true"})),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("h5",null,this.props.title&&this.props.title)),r.a.createElement("div",{className:"modal-body text-center text-wrap ml-2 mr-2 text-justify"},this.props.text&&this.props.text),this.props.has_button?r.a.createElement("div",{className:"modal-footer border-0"},r.a.createElement("button",{type:"button",onClick:function(){return e.handleClose()},className:"btn btn-primary waves-effect waves-light"},r.a.createElement("i",{className:"fa fa-times pr-1"}),this.props.actionNameBack?this.props.actionNameBack:"БУЦАХ"),r.a.createElement("button",{type:"button",onClick:this.handleProceed,className:"btn btn-outline-primary waves-effect waves-light"},r.a.createElement("i",{className:"fa fa-check-square-o pr-1"}),this.props.actionNameDelete?this.props.actionNameDelete:"УСТГАХ")):r.a.createElement("div",{className:"modal-body mt-3"})))),r.a.createElement("div",{className:o}))}}])&&c(t.prototype,a),o&&c(t,o),p}(n.Component)},891:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),r=a.n(n);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p(e);if(t){var r=p(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return s(this,a)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,e);var t,a,o,s=i(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=s.call(this,e)).state={status:t.props.status||"initial"},t.handleOpen=t.handleOpen.bind(d(t)),t.handleProceed=t.handleProceed.bind(d(t)),t.handleClose=t.handleClose.bind(d(t)),t}return t=p,(a=[{key:"componentDidMount",value:function(){"initial"==this.state.status&&this.handleOpen()}},{key:"componentDidUpdate",value:function(e){this.props.status!=e.status&&(["initial","open"].includes(this.props.status)&&this.handleOpen(),["closing","closed"].includes(this.props.status)&&this.handleClose(null,0))}},{key:"handleOpen",value:function(){var e=this;this.setState({status:"initial"}),setTimeout((function(){e.setState({status:"open"})}),0)}},{key:"handleClose",value:function(e,t){var a=this;t=void 0===t?150:t,this.setState({status:"closing"}),setTimeout((function(){a.setState({status:"closed"}),e&&e()}),t)}},{key:"handleProceed",value:function(){this.handleClose(this.props.modalAction)}},{key:"render",value:function(){var e=this,t=this.state.status,a="modal fade"+("initial"==t?" d-block":"")+("open"==t?" show d-block":"")+("closing"==t?" d-block":"")+("closed"==t?" d-none":""),o="modal-backdrop fade"+("open"==t?" show":"")+("closed"==t?" d-none":"");return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:a,onClick:function(){return e.handleProceed()}},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},r.a.createElement("div",{className:"modal-content",style:{border:"none",borderRadius:"7px",background:"#ebebeb"}},r.a.createElement("div",{className:"d-flex justify-content-center"},"danger"==this.props.model_type_icon?r.a.createElement("i",{className:"fa fa-times-circle fa-3x my-3 animated bounceIn text-danger","aria-hidden":"true"}):"primary"==this.props.model_type_icon?r.a.createElement("i",{className:"fa fa-check-circle fa-3x my-3 animated bounceIn gp-text-primary","aria-hidden":"true"}):"warning"==this.props.model_type_icon?r.a.createElement("i",{className:"fa fa-exclamation-circle fa-3x my-3 animated bounceIn text-warning","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-check-circle fa-3x my-3 animated bounceIn text-success","aria-hidden":"true"})),r.a.createElement("div",{className:"d-flex justify-content-center my-1"},r.a.createElement("h6",{className:"text-dark"},this.props.title)),r.a.createElement("div",{className:"modal-body text-wrap ml-2 mr-2 my-3 text-justify"},r.a.createElement("a",{className:"text-dark"},this.props.text))))),r.a.createElement("div",{className:o}))}}])&&c(t.prototype,a),o&&c(t,o),p}(n.Component)},928:function(e,t,a){var n=a(65),r=a(929);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(r,o);e.exports=r.locals||{}},929:function(e,t,a){(t=a(66)(!1)).push([e.i,".fixed-height{\n    overflow-y: scroll;\n    height: calc(97vh - 60px);\n    padding-right: 5px;\n}\n\n.fixed-height-body{\n    background-color: rgb(247, 249, 250, 1);\n    background-color: white;\n    border-radius: 1px rgb(235, 242, 245, 1);\n    box-shadow: 0 2px 6px 0 rgba(218, 218, 253, 0.65), 0 2px 6px 0 rgba(206, 206, 238, 0.54);\n    border: none;\n    position: relative;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    min-width: 0;\n    word-wrap: break-word;\n    background-clip: border-box;\n    border: 1px solid rgba(0,0,0,.125);\n    border-radius: .25rem;\n}\n\n.fixed-left{\n    position: fixed;\n    height: calc(75vh - 88px);\n}\n.smaller{\n    font-size: 59%;\n    font-weight: 400;\n    text-align: center;\n    font-weight: bold;\n}\n.bc-white{\n    background-color: white;\n    padding-top: 0.76rem;\n    padding-right: 0.76rem;\n    padding-left: 0.76rem;\n    padding-bottom: 0.76rem;\n    margin-bottom: 25px;\n    box-shadow: 0 2px 6px 0 rgba(218, 218, 253, 0.65), 0 2px 6px 0 rgba(206, 206, 238, 0.54);\n}\n\n.role-card {\n    min-height: 100%;\n    margin-bottom: 25px;\n    background-color: rgb(247, 249, 250, 1);\n    border-radius: 1px rgb(235, 242, 245, 1);\n    border: none;\n    position: relative;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    min-width: 0;\n    word-wrap: break-word;\n    background-clip: border-box;\n    border: 1px solid rgba(0,0,0,.125);\n    border-radius: .25rem;\n    margin-bottom: 0;\n}\n\n.role-card-body {\n    -ms-flex: 1 1 auto;\n    flex: 1 1 auto;\n    min-height: 1px;\n    padding: 1.25rem;\n}\n\n.role-table-card {\n    min-height: 100%;\n    margin-bottom: 15px;\n    background-color: white;\n    border-radius: 1px rgb(235, 242, 245, 1);\n    border: none;\n    margin-top: -16px;\n    position: relative;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    min-width: 0;\n    word-wrap: break-word;\n    background-clip: border-box;\n    border: 1px solid rgba(0,0,0,.125);\n    border-radius: .25rem;\n}\n\n.role-table-card-body {\n    -ms-flex: 1 1 auto;\n    flex: 1 1 auto;\n    min-height: 1px;\n    padding: 1.25rem;\n}\n\n/* switch */\n\n.switch-tree-state{\n\n    width: 46px;\n    height: 18px;\n    background-color: #fff;\n    border-radius: 50px;\n    padding: 1px;\n    display: flex;\n    flex-wrap: wrap;\n    border: #adb5bd solid 1px;\n}\n.switch-tree-state:hover {\n    -webkit-box-shadow: 0px 0px 11px 0px rgba(0,123,255,1);\n-moz-box-shadow: 0px 0px 11px 0px rgba(0,123,255,1);\nbox-shadow: 0px 0px 11px 0px rgba(0,123,255,1);\n}\n.switch-tree-state:active {\n    -webkit-box-shadow: 0px 0px 11px 0px rgba(0,123,255,1);\n    -moz-box-shadow: 0px 0px 11px 0px rgba(0,123,255,1);\n    box-shadow: 0px 0px 11px 0px rgba(0,123,255,1);\n}\n.switch-all{\n    width: 14px;\n    height: 14px;\n    border-radius: 50px;\n    max-width: 33.333%;\n}\n\n.switch-one{\n    position: relative;\n    background-color: #28a745;\n    left: 0px;\n    animation: switch-one 0.7s 1;\n}\n@keyframes switch-one {\n    0% {left: 30px}\n}\n\n.switch-two{\n    position: relative;\n    background-color: #007bff;\n    border-radius: 50px;\n    animation: switch-two 1s 1;\n\n}\n@keyframes switch-two {\n    0% {background-color: white}\n}\n.switch-tree{\n    position: relative;\n    background-color: #dc3545;\n    right: 0px;\n    animation: switch-tree 0.7s 1;\n}\n@keyframes switch-tree {\n    0% {right: 30px;}\n}\n",""]),e.exports=t},966:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ae}));var n=a(0),r=a.n(n),o=a(50),c=(a(928),a(890));function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m(e);if(t){var r=m(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return p(this,a)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,a,n,o=d(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={"жагсаалтын_холбоос":"/back/api/org/perm-get-list/",custom_query:{},"талбарууд":[{field:"name",title:"Эрхийн нэр",has_action:!0},{field:"description",title:"Тайлбар"},{field:"created_by",title:"Үүсгэсэн"}],"хувьсах_талбарууд":[{field:"name",action:function(e){return t.go_link(e)}}]},t}return t=l,(a=[{key:"go_link",value:function(e){this.props.history.push("/back/org-role/update/".concat(e.id,"/"))}},{key:"render",value:function(){var e=this.state,t=e.талбарууд,a=e.жагсаалтын_холбоос,n=e.хувьсах_талбарууд;return r.a.createElement("div",{className:"my-2 card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(c.a,{color:"bg-dark","талбарууд":t,"жагсаалтын_холбоос":a,per_page:20,"уншиж_байх_үед_зурвас":"Хүсэлтүүд уншиж байна","хувьсах_талбарууд":n,"нэмэх_товч":"/back/org-role/add/"})))}}])&&i(t.prototype,a),n&&i(t,n),l}(n.Component),h=a(32),f=a(20),_=a(34),y=Object(_.c)().shape({name:Object(_.d)().max(250,"250-с илүүгүй урттай оруулна уу!").required("Хоосон байна хоосон байж болохгүй!"),description:Object(_.d)().max(250,"1000-с илүүгүй урттай оруулна уу!")}),b=a(143),v=a(216);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){E(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var w={createPerm:function(e){var t=g(g({},Object(v.b)()),{},{body:JSON.stringify({values:e})});return fetch("".concat(x,"/create-perm/"),t).then(v.c)},getInspireRoles:function(e){var t=g({},Object(v.a)());return fetch("".concat(x,"/inspire-roles/").concat(e,"/"),t).then(v.c)},saveInspireRoles:function(e,t){var a=g(g({},Object(v.b)()),{},{body:JSON.stringify({values:t})});return fetch("".concat(x,"/inspire-roles/").concat(e,"/save/"),a).then(v.c)}},x="/back/api/org";function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=R(e);if(t){var r=R(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return P(this,a)}}function P(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(c,e);var t,a,n,o=S(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={values:{name:"",description:""},modal_status:"closed"},t.handleSubmit=t.handleSubmit.bind(j(t)),t.modalChange=t.modalChange.bind(j(t)),t.handleModalOpen=t.handleModalOpen.bind(j(t)),t}return t=c,(a=[{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setSubmitting,o=t.setErrors;n("checking"),r(!0),w.createPerm(e).then((function(e){var t=e.success,c=e.errors;t?(n("saved"),r(!1),a.modalChange("fa fa-check-circle",null,"success","Амжилттай хадгаллаа","",!1,"","",null,(function(){return a.props.history.push("/back/org-role/")}))):(r(!1),o(c))}))}},{key:"handleModalOpen",value:function(){var e=this;this.setState({modal_status:"open"},(function(){e.setState({modal_status:"initial"})}))}},{key:"modalChange",value:function(e,t,a,n,r,o,c,l){var i=this,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,d=arguments.length>9?arguments[9]:void 0;this.setState({modal_icon:e,modal_bg:t,icon_color:a,title:n,text:r,has_button:o,actionNameBack:c,actionNameDelete:l,modalAction:s,modalClose:d},(function(){return i.handleModalOpen()}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"text-left"},r.a.createElement(h.c,{to:"/back/org-role/"},r.a.createElement("p",{className:"btn gp-outline-primary"},r.a.createElement("i",{className:"fa fa-angle-double-left"}," Буцах")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement(f.e,{enableReinitialize:!0,initialValues:this.state.values,validationSchema:y,onSubmit:this.handleSubmit},(function(e){var t=e.errors,a=(e.status,e.touched,e.isSubmitting),n=(e.setFieldValue,e.handleBlur,e.values,e.isValid,e.dirty,Object.keys(t).length>0);return r.a.createElement(f.d,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"id_name"},"Эрхийн нэр:"),r.a.createElement(f.b,{className:"form-control "+(t.name?"is-invalid":""),placeholder:"Эрхийн нэр",name:"name",id:"id_name",type:"text"}),r.a.createElement(f.a,{name:"name",component:"div",className:"invalid-feedback"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"id_description"},"Эрхийн тайлбар:"),r.a.createElement(f.b,{className:"form-control "+(t.description?"is-invalid":""),placeholder:"Эрхийн тайлбар",name:"description",id:"id_description",type:"text"}),r.a.createElement(f.a,{name:"description",component:"div",className:"invalid-feedback"})),r.a.createElement("div",null),r.a.createElement("div",{className:"span3"},r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:a||n},a&&r.a.createElement("i",{className:"fa fa-spinner fa-spin"}),a&&" Шалгаж байна.",!a&&"Хадгалах"))))}))))),r.a.createElement(b.a,{modal_status:this.state.modal_status,modal_icon:this.state.modal_icon,modal_bg:this.state.modal_bg,icon_color:this.state.icon_color,title:this.state.title,has_button:this.state.has_button,actionNameBack:this.state.actionNameBack,actionNameDelete:this.state.actionNameDelete,modalAction:this.state.modalAction,modalClose:this.state.modalClose}))}}])&&C(t.prototype,a),n&&C(t,n),c}(n.Component),T=a(891);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=z(e);if(t){var r=z(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return B(this,a)}}function B(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(c,e);var t,a,n,o=M(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={data:[],tid:0,pid:0,fid:0,properties:[],properties_perms:[]},t}return t=c,(a=[{key:"render",value:function(){var e=this,t=this.props,a=(t.fid,t.properties,t.name),n=t.index,o=t.tree,c=t.inspire,l=t.root_1,i=t.root_2,s=t.root_3,d=t.perm_all,p=t.perm_view,m=t.perm_create,u=t.perm_remove,h=t.perm_update,f=t.perm_approve,_=t.perm_revoke,y=t.mtop,b=t.root_1_index,v=t.root_2_index,k=t.root_3_index;return r.a.createElement("div",{className:("theme"==c?"role-card":"role-table-card")+(y?" mb-0 mt-3":"")},r.a.createElement("div",{className:"theme"==c?"role-card-body":"role-table-card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4 arrow-tree collapsed",style:{width:"100px",paddingLeft:o}},"feature"==c?r.a.createElement("a",{className:"collapsed","data-toggle":"collapse","aria-expanded":"true","data-target":"#collapse".concat(n),"aria-controls":"collapse".concat(n),onClick:this.props.handleFeature,scope:"col text-wrap"},a):r.a.createElement("a",{className:"collapsed","data-toggle":"collapse","aria-expanded":"true","data-target":"#collapse".concat(n),"aria-controls":"collapse".concat(n),scope:"col text-wrap"},a)),r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 pl-0 pr-0"},r.a.createElement("small",{className:"smaller text-center ml-2"},"харах"),r.a.createElement("div",{className:"switch-tree-state col-lg-12",onClick:function(t){return p>=d?"theme"==c?e.props.handleCheckedTheme(!1,1,l,b):"package"==c?e.props.handleCheckedPackage(!1,1,l,b,i,v):"feature"==c?e.props.handleCheckedFeature(!1,1,l,b,i,v,s,k):null:"theme"==c?e.props.handleCheckedTheme(!0,1,l,b):"package"==c?e.props.handleCheckedPackage(!0,1,l,b,i,v):"feature"==c?e.props.handleCheckedFeature(!0,1,l,b,i,v,s,k):null}},r.a.createElement("div",{className:p>=d?"switch-all switch-one":"switch-all"}),r.a.createElement("div",{className:0<p&&p<d?"switch-all switch-two":"switch-all"}),r.a.createElement("div",{className:p<=0?"switch-all switch-tree":"switch-all"}))),r.a.createElement("div",{className:"col-2 pl-0 pr-0"},r.a.createElement("small",{className:"smaller text-center ml-2"},"нэмэх"),r.a.createElement("div",{className:"switch-tree-state col-lg-12",onClick:function(t){return m>=d?"theme"==c?e.props.handleCheckedTheme(!1,2,l,b):"package"==c?e.props.handleCheckedPackage(!1,2,l,b,i,v):"feature"==c?e.props.handleCheckedFeature(!1,2,l,b,i,v,s,k):null:"theme"==c?e.props.handleCheckedTheme(!0,2,l,b):"package"==c?e.props.handleCheckedPackage(!0,2,l,b,i,v):"feature"==c?e.props.handleCheckedFeature(!0,2,l,b,i,v,s,k):null}},r.a.createElement("div",{className:m==d?"switch-all switch-one":"switch-all"}),r.a.createElement("div",{className:0<m&&m<d?"switch-all switch-two":"switch-all"}),r.a.createElement("div",{className:0==m?"switch-all switch-tree":"switch-all"}))),r.a.createElement("div",{className:"col-2 pl-0 pr-0",onClick:function(t){return u>=d?"theme"==c?e.props.handleCheckedTheme(!1,3,l,b):"package"==c?e.props.handleCheckedPackage(!1,3,l,b,i,v):"feature"==c?e.props.handleCheckedFeature(!1,3,l,b,i,v,s,k):null:"theme"==c?e.props.handleCheckedTheme(!0,3,l,b):"package"==c?e.props.handleCheckedPackage(!0,3,l,b,i,v):"feature"==c?e.props.handleCheckedFeature(!0,3,l,b,i,v,s,k):null}},r.a.createElement("small",{className:"smaller text-center ml-2"},"хасах"),r.a.createElement("div",{className:"switch-tree-state col-lg-12"},r.a.createElement("div",{className:u==d?"switch-all switch-one":"switch-all"}),r.a.createElement("div",{className:0<u&&u<d?"switch-all switch-two":"switch-all"}),r.a.createElement("div",{className:0==u?"switch-all switch-tree":"switch-all"}))),r.a.createElement("div",{className:"col-2 pl-0 pr-0",onClick:function(t){return h>=d?"theme"==c?e.props.handleCheckedTheme(!1,4,l,b):"package"==c?e.props.handleCheckedPackage(!1,4,l,b,i,v):"feature"==c?e.props.handleCheckedFeature(!1,4,l,b,i,v,s,k):null:"theme"==c?e.props.handleCheckedTheme(!0,4,l,b):"package"==c?e.props.handleCheckedPackage(!0,4,l,b,i,v):"feature"==c?e.props.handleCheckedFeature(!0,4,l,b,i,v,s,k):null}},r.a.createElement("small",{className:"smaller text-center ml-2"},"засах"),r.a.createElement("div",{className:"switch-tree-state col-lg-12"},r.a.createElement("div",{className:h==d?"switch-all switch-one":"switch-all"}),r.a.createElement("div",{className:0<h&&h<d?"switch-all switch-two":"switch-all"}),r.a.createElement("div",{className:0==h?"switch-all switch-tree":"switch-all"}))),r.a.createElement("div",{className:"col-2 pl-0 pr-0",onClick:function(t){return _>=d?"theme"==c?e.props.handleCheckedTheme(!1,6,l,b):"package"==c?e.props.handleCheckedPackage(!1,6,l,b,i,v):"feature"==c?e.props.handleCheckedFeature(!1,6,l,b,i,v,s,k):null:"theme"==c?e.props.handleCheckedTheme(!0,6,l,b):"package"==c?e.props.handleCheckedPackage(!0,6,l,b,i,v):"feature"==c?e.props.handleCheckedFeature(!0,6,l,b,i,v,s,k):null}},r.a.createElement("small",{className:"smaller text-center ml-2"},"цуцлах"),r.a.createElement("div",{className:"switch-tree-state col-lg-12"},r.a.createElement("div",{className:_==d?"switch-all switch-one":"switch-all"}),r.a.createElement("div",{className:0<_&&_<d?"switch-all switch-two":"switch-all"}),r.a.createElement("div",{className:0==_?"switch-all switch-tree":"switch-all"}))),r.a.createElement("div",{className:"col-2 pl-0 pr-0",onClick:function(t){return f>=d?"theme"==c?e.props.handleCheckedTheme(!1,5,l,b):"package"==c?e.props.handleCheckedPackage(!1,5,l,b,i,v):"feature"==c?e.props.handleCheckedFeature(!1,5,l,b,i,v,s,k):null:"theme"==c?e.props.handleCheckedTheme(!0,5,l,b):"package"==c?e.props.handleCheckedPackage(!0,5,l,b,i,v):"feature"==c?e.props.handleCheckedFeature(!0,5,l,b,i,v,s,k):null}},r.a.createElement("small",{className:"smaller text-center ml-2"},"батлах"),r.a.createElement("div",{className:"switch-tree-state col-lg-12"},r.a.createElement("div",{className:f==d?"switch-all switch-one":"switch-all"}),r.a.createElement("div",{className:0<f&&f<d?"switch-all switch-two":"switch-all"}),r.a.createElement("div",{className:0==f?"switch-all switch-tree":"switch-all"}))))))))}}])&&I(t.prototype,a),n&&I(t,n),c}(n.Component),q=a(107);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Q(e);if(t){var r=Q(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return H(this,a)}}function H(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?K(e):t}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(c,e);var t,a,n,o=G(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={data:[],tid:0,tid_index:0,pid:0,pid_index:0,fid:0,fid_index:0,properties:[],properties_perms:[],handle_save_is_laod:!1,modal_alert_status:"closed",role_is_load:!1},t.handleRoles=t.handleRoles.bind(K(t)),t.handleFeature=t.handleFeature.bind(K(t)),t.handleSubmit=t.handleSubmit.bind(K(t)),t.handleChecked=t.handleChecked.bind(K(t)),t.handleCheckedTheme=t.handleCheckedTheme.bind(K(t)),t.handleCheckedPackage=t.handleCheckedPackage.bind(K(t)),t.handleCheckedFeature=t.handleCheckedFeature.bind(K(t)),t.handleCheckedPerm=t.handleCheckedPerm.bind(K(t)),t.handleStateAll=t.handleStateAll.bind(K(t)),t.handleStateSole=t.handleStateSole.bind(K(t)),t}return t=c,(a=[{key:"componentDidMount",value:function(){this.handleRoles()}},{key:"handleRoles",value:function(){var e=this;this.setState({role_is_load:!0});var t=this.props.match.params.id;w.getInspireRoles(t).then((function(t){var a=t.success,n=t.data,r=t.roles;a&&e.setState({data:n,properties_perms:r,role_is_load:!1})}))}},{key:"handleFeature",value:function(e,t,a,n,r,o,c){this.setState({tid:e,tid_index:t,pid:a,pid_index:n,fid:r,fid_index:o,properties:c})}},{key:"getPermName",value:function(e){return 1==e?"perm_view":2==e?"perm_create":3==e?"perm_remove":4==e?"perm_update":5==e?"perm_approve":6==e?"perm_revoke":void 0}},{key:"handleStateAll",value:function(e,t,a,n,r,o,c,l){var i=this.getPermName(l);return t?(e[a][n][r][o][c][i]>0&&e[a][n][r][o][c][i]<e[a][n][r][o][c].perm_all&&(e[a][n][r][i]=e[a][n][r][i]+.5,e[a][n][r][i]==e[a][n][r].perm_all&&(e[a][i]=e[a][i]+.5),e[a][n][r][i]-.5==0&&(e[a][i]=e[a][i]+.5)),0==e[a][n][r][o][c][i]&&(e[a][n][r][i]=e[a][n][r][i]+1,e[a][n][r][i]==e[a][n][r].perm_all&&(e[a][i]=e[a][i]+.5),e[a][n][r][i]-1==0&&(e[a][i]=e[a][i]+.5)),e[a][n][r][o][c][i]=e[a][n][r][o][c].perm_all):(e[a][n][r][o][c][i]>0&&e[a][n][r][o][c][i]<e[a][n][r][o][c].perm_all&&(e[a][n][r][i]=e[a][n][r][i]-.5,0==e[a][n][r][i]&&(e[a][i]=e[a][i]-.5),e[a][n][r][i]+.5==e[a][n][r].perm_all&&(e[a][i]=e[a][i]-.5)),e[a][n][r][o][c][i]==e[a][n][r][o][c].perm_all&&(e[a][n][r][i]=e[a][n][r][i]-1,0==e[a][n][r][i]&&(e[a][i]=e[a][i]-.5),e[a][n][r][i]+1==e[a][n][r].perm_all&&(e[a][i]=e[a][i]-.5)),e[a][n][r][o][c][i]=0),e}},{key:"handleStateSole",value:function(e,t,a,n,r,o,c,l){var i=this.getPermName(l);return t?(e[a][n][r][o][c][i]=e[a][n][r][o][c][i]+1,e[a][n][r][o][c][i]==e[a][n][r][o][c].perm_all&&(e[a][n][r][i]=e[a][n][r][i]+.5,e[a][n][r][i]==e[a][n][r].perm_all&&(e[a][i]=e[a][i]+.5),e[a][n][r][i]-.5==0&&(e[a][i]=e[a][i]+.5)),e[a][n][r][o][c][i]-1==0&&(e[a][n][r][i]=e[a][n][r][i]+.5,e[a][n][r][i]==e[a][n][r].perm_all&&(e[a][i]=e[a][i]+.5),e[a][n][r][i]-.5==0&&(e[a][i]=e[a][i]+.5))):(e[a][n][r][o][c][i]=e[a][n][r][o][c][i]-1,0==e[a][n][r][o][c][i]&&(e[a][n][r][i]=e[a][n][r][i]-.5,0==e[a][n][r][i]&&(e[a][i]=e[a][i]-.5),e[a][n][r][i]+.5==e[a][n][r].perm_all&&(e[a][i]=e[a][i]-.5)),e[a][n][r][o][c][i]+1==e[a][n][r][o][c].perm_all&&(e[a][n][r][i]=e[a][n][r][i]-.5,0==e[a][n][r][i]&&(e[a][i]=e[a][i]-.5),e[a][n][r][i]+.5==e[a][n][r].perm_all&&(e[a][i]=e[a][i]-.5))),e}},{key:"handleCheckedTheme",value:function(e,t,a,n){var r=this,o=this.state.data[n].packages;o.map((function(o,c){r.handleCheckedPackage(e,t,a,n,o.id,c)}))}},{key:"handleCheckedPackage",value:function(e,t,a,n,r,o){var c=this,l=this.state.data[n].packages[o].features;l.map((function(l,i){c.handleCheckedFeature(e,t,a,n,r,o,l.id,i)}))}},{key:"handleCheckedFeature",value:function(e,t,a,n,r,o,c,l){var i=this,s=this.state.data,d=s,p=s[n].packages[o].features[l].data_types;e?(p.map((function(e){e.properties.map((function(a){i.handleCheckedPerm({perm_kind:t,feature_id:c,data_type_id:e.id,property_id:a.id,geom:!1},!0)}))})),this.handleCheckedPerm({perm_kind:t,feature_id:c,data_type_id:null,property_id:null,geom:!0},!0)):(p.map((function(e){e.properties.map((function(a){i.handleCheckedPerm({perm_kind:t,feature_id:c,data_type_id:e.id,property_id:a.id,geom:!1},!1)}))})),this.handleCheckedPerm({perm_kind:t,feature_id:c,data_type_id:null,property_id:null,geom:!0},!1)),d=this.handleStateAll(d,e,n,"packages",o,"features",l,t),this.setState({data:d})}},{key:"handleCheckedPerm",value:function(e,t){var a=this.state.properties_perms;if(t)0==a.filter((function(t){return t.perm_kind==e.perm_kind&&t.feature_id==e.feature_id&&t.data_type_id==e.data_type_id&&t.property_id==e.property_id&&t.geom==e.geom})).length&&a.push(e),this.setState({properties_perms:a});else{for(var n=0;n<a.length;n++)a[n].perm_kind==e.perm_kind&&a[n].feature_id==e.feature_id&&a[n].data_type_id==e.data_type_id&&a[n].property_id==e.property_id&&a[n].geom==e.geom&&a.splice(n,1);this.setState({properties_perms:a})}}},{key:"handleChecked",value:function(e,t,a){var n=this.state,r=n.tid_index,o=n.pid_index,c=n.fid_index,l=n.data,i=this.state.properties_perms;if(t)0==i.filter((function(t){return t.perm_kind==e.perm_kind&&t.feature_id==e.feature_id&&t.data_type_id==e.data_type_id&&t.property_id==e.property_id&&t.geom==e.geom})).length&&i.push(e),this.setState({properties_perms:i});else{for(var s=0;s<i.length;s++)i[s].perm_kind==e.perm_kind&&i[s].feature_id==e.feature_id&&i[s].data_type_id==e.data_type_id&&i[s].property_id==e.property_id&&i[s].geom==e.geom&&i.splice(s,1);this.setState({properties_perms:i})}l=this.handleStateSole(l,t,r,"packages",o,"features",c,a),this.setState({data:l})}},{key:"handleSubmit",value:function(){var e=this;this.setState({handle_save_is_laod:!0});var t=this.props.match.params.id,a=this.state.properties_perms;w.saveInspireRoles(t,a).then((function(t){t.success&&(e.handleRoles(),setTimeout((function(){e.setState({modal_alert_status:"open"}),e.setState({handle_save_is_laod:!1})}),1e3))}))}},{key:"modalClose",value:function(){this.setState({modal_alert_status:"closed"}),this.setState({handleSaveIsLoad:!1}),this.handleRoles()}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=(t.tid,t.pid,t.fid),o=t.properties,c=t.properties_perms,l=t.role_is_load;return r.a.createElement("div",{className:"row"},r.a.createElement(q.a,{is_loading:l}),r.a.createElement("div",{className:"col-md-6"},this.state.handle_save_is_laod?r.a.createElement("a",{className:"btn gp-btn-primary btn-block waves-effect waves-light text-white",style:{zIndex:"0"}},r.a.createElement("div",{className:"spinner-border text-light",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("a",{className:"text-light"}," Шалгаж байна.")):r.a.createElement("a",{className:"btn gp-btn-primary btn-block waves-effect waves-light text-white",style:{zIndex:"0"},onClick:this.handleSubmit},"Хадгалах"),r.a.createElement("div",{className:"fixed-height"},a.map((function(t,a){return t.packages.length>0&&t.perm_all>0&&r.a.createElement("div",{className:"bc-white border border-secondary",key:a},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"my-0"},r.a.createElement("div",{id:"accordion".concat(a+1),className:"",key:a},r.a.createElement("div",{className:""},r.a.createElement("div",{className:""},r.a.createElement("div",{className:""},r.a.createElement(J,{name:t.name,index:a+1,tree:10,mtop:!1,root_1:t.id,root_1_index:a,inspire:"theme",perm_all:t.perm_all,perm_view:t.perm_view,perm_create:t.perm_create,perm_remove:t.perm_remove,perm_update:t.perm_update,perm_approve:t.perm_approve,perm_revoke:t.perm_revoke,handleCheckedTheme:e.handleCheckedTheme,handleCheckedPackage:e.handleCheckedPackage,handleCheckedFeature:e.handleCheckedFeature}))),r.a.createElement("div",{id:"collapse".concat(a+1),className:"collapse","data-parent":"#accordion".concat(a+1)},r.a.createElement("div",{className:""},t.packages.map((function(n,o){return n.features.length>0&&r.a.createElement("div",{id:"accordion-p-".concat(o+1+n.id),key:o},r.a.createElement("div",{className:""},r.a.createElement("div",{className:""},r.a.createElement("div",{className:""},r.a.createElement(J,{root_1:t.id,root_1_index:a,mtop:!0,root_2:n.id,root_2_index:o,name:n.name,index:"-p-".concat(o+1+n.id),tree:10,inspire:"package",perm_all:n.perm_all,perm_view:n.perm_view,perm_create:n.perm_create,perm_remove:n.perm_remove,perm_update:n.perm_update,perm_approve:n.perm_approve,perm_revoke:n.perm_revoke,handleCheckedTheme:e.handleCheckedTheme,handleCheckedPackage:e.handleCheckedPackage,handleCheckedFeature:e.handleCheckedFeature}))),r.a.createElement("div",{id:"collapse-p-".concat(o+1+n.id),className:"collapse","data-parent":"#accordion-p-".concat(o+1+n.id)},r.a.createElement("div",{className:""},n.features.map((function(c,l){return r.a.createElement("div",{key:l},r.a.createElement("div",{className:""},r.a.createElement("div",{className:"collapsed"},r.a.createElement("div",{className:"text-primary collapsed"},r.a.createElement(J,{handleFeature:function(){return e.handleFeature(t.id,a,n.id,o,c.id,l,c.data_types)},root_1:t.id,root_1_index:a,root_2:n.id,root_2_index:o,root_3:c.id,root_3_index:l,name:c.name,tree:60,mtop:!1,inspire:"feature",perm_all:c.perm_all,perm_view:c.perm_view,perm_create:c.perm_create,perm_remove:c.perm_remove,perm_update:c.perm_update,perm_approve:c.perm_approve,perm_revoke:c.perm_revoke,handleCheckedTheme:e.handleCheckedTheme,handleCheckedPackage:e.handleCheckedPackage,handleCheckedFeature:e.handleCheckedFeature})))))}))))))})))))))))})))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:""},r.a.createElement("div",null,r.a.createElement("div",{className:"fixed-height bc-white"},o.length>0&&r.a.createElement("div",{className:"table-responsive table_wrapper-100"},r.a.createElement("table",{className:"table table_wrapper_table_saaral table-bordered"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Data",r.a.createElement("br",null),"type"),r.a.createElement("th",{scope:"col"},"property нэр"),r.a.createElement("th",{scope:"col",className:"vertical"},r.a.createElement("span",null,"харах")),r.a.createElement("th",{scope:"col",className:"vertical"},r.a.createElement("span",null,"нэмэх")),r.a.createElement("th",{scope:"col",className:"vertical"},r.a.createElement("span",null,"хасах")),r.a.createElement("th",{scope:"col",className:"vertical"},r.a.createElement("span",null,"засах")),r.a.createElement("th",{scope:"col",className:"vertical"},r.a.createElement("span",null,"цуцлах")),r.a.createElement("th",{scope:"col",className:"vertical"},r.a.createElement("span",null,"батлах")))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"Geom"),r.a.createElement("td",{className:"icheck-primary"},r.a.createElement("input",{type:"checkbox",id:"perm_view",name:"perm_view",checked:c.filter((function(e){return 1==e.perm_kind&&e.feature_id==n&&null==e.data_type_id&&1==e.geom})).length>0,onChange:function(t){return e.handleChecked({perm_kind:1,feature_id:n,data_type_id:null,property_id:null,geom:!0},t.target.checked,1)}}),r.a.createElement("label",{htmlFor:"perm_view"})),r.a.createElement("td",{className:"icheck-primary"},r.a.createElement("input",{type:"checkbox",id:"perm_create",name:"perm_create",checked:c.filter((function(e){return 2==e.perm_kind&&e.feature_id==n&&null==e.data_type_id&&1==e.geom})).length>0,onChange:function(t){return e.handleChecked({perm_kind:2,feature_id:n,data_type_id:null,property_id:null,geom:!0},t.target.checked,2)}}),r.a.createElement("label",{htmlFor:"perm_create"})),r.a.createElement("td",{className:"icheck-primary"},r.a.createElement("input",{type:"checkbox",id:"perm_remove",name:"perm_remove",checked:c.filter((function(e){return 3==e.perm_kind&&e.feature_id==n&&null==e.data_type_id&&1==e.geom})).length>0,onChange:function(t){return e.handleChecked({perm_kind:3,feature_id:n,data_type_id:null,property_id:null,geom:!0},t.target.checked,3)}}),r.a.createElement("label",{htmlFor:"perm_remove"})),r.a.createElement("td",{className:"icheck-primary"},r.a.createElement("input",{type:"checkbox",id:"perm_update",name:"perm_update",checked:c.filter((function(e){return 4==e.perm_kind&&e.feature_id==n&&null==e.data_type_id&&1==e.geom})).length>0,onChange:function(t){return e.handleChecked({perm_kind:4,feature_id:n,data_type_id:null,property_id:null,geom:!0},t.target.checked,4)}}),r.a.createElement("label",{htmlFor:"perm_update"})),r.a.createElement("td",{className:"icheck-primary"},r.a.createElement("input",{type:"checkbox",id:"perm_revoke",name:"perm_revoke",checked:c.filter((function(e){return 6==e.perm_kind&&e.feature_id==n&&null==e.data_type_id&&1==e.geom})).length>0,onChange:function(t){return e.handleChecked({perm_kind:6,feature_id:n,data_type_id:null,property_id:null,geom:!0},t.target.checked,6)}}),r.a.createElement("label",{htmlFor:"perm_revoke"})),r.a.createElement("td",{className:"icheck-primary"},r.a.createElement("input",{type:"checkbox",id:"perm_approve",name:"perm_approve",checked:c.filter((function(e){return 5==e.perm_kind&&e.feature_id==n&&null==e.data_type_id&&1==e.geom})).length>0,onChange:function(t){return e.handleChecked({perm_kind:5,feature_id:n,data_type_id:null,property_id:null,geom:!0},t.target.checked,5)}}),r.a.createElement("label",{htmlFor:"perm_approve"}))),o.map((function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",{rowSpan:t.properties.length+1,className:"vertical text-center align-middle text-wrap"},r.a.createElement("span",{className:"text-center vertical align-middle"},t.name),r.a.createElement("br",null),r.a.createElement("span",{className:"text-center vertical align-middle"},"(",t.code,")"))),t.properties.map((function(o,l){return r.a.createElement("tr",{key:l},r.a.createElement("td",null,o.name),r.a.createElement("td",{className:"icheck-primary"},r.a.createElement("input",{type:"checkbox",id:"perm_view"+o.id+a+l,name:"perm_view",checked:c.filter((function(e){return 1==e.perm_kind&&e.feature_id==n&&e.data_type_id==t.id&&e.property_id==o.id&&0==e.geom})).length>0,onChange:function(a){return e.handleChecked({perm_kind:1,feature_id:n,data_type_id:t.id,property_id:o.id,geom:!1},a.target.checked,1,t.id)}}),r.a.createElement("label",{htmlFor:"perm_view"+o.id+a+l})),r.a.createElement("td",{className:"icheck-primary"},r.a.createElement("input",{type:"checkbox",id:"perm_create"+o.id+a+l,name:"perm_create",checked:c.filter((function(e){return 2==e.perm_kind&&e.feature_id==n&&e.data_type_id==t.id&&e.property_id==o.id&&0==e.geom})).length>0,onChange:function(a){return e.handleChecked({perm_kind:2,feature_id:n,data_type_id:t.id,property_id:o.id,geom:!1},a.target.checked,2,t.id)}}),r.a.createElement("label",{htmlFor:"perm_create"+o.id+a+l})),r.a.createElement("td",{className:"icheck-primary"},r.a.createElement("input",{type:"checkbox",id:"perm_remove"+o.id+a+l,name:"perm_remove",checked:c.filter((function(e){return 3==e.perm_kind&&e.feature_id==n&&e.data_type_id==t.id&&e.property_id==o.id&&0==e.geom})).length>0,onChange:function(a){return e.handleChecked({perm_kind:3,feature_id:n,data_type_id:t.id,property_id:o.id,geom:!1},a.target.checked,3,t.id)}}),r.a.createElement("label",{htmlFor:"perm_remove"+o.id+a+l})),r.a.createElement("td",{className:"icheck-primary"},r.a.createElement("input",{type:"checkbox",id:"perm_update"+o.id+a+l,name:"perm_update",checked:c.filter((function(e){return 4==e.perm_kind&&e.feature_id==n&&e.data_type_id==t.id&&e.property_id==o.id&&0==e.geom})).length>0,onChange:function(a){return e.handleChecked({perm_kind:4,feature_id:n,data_type_id:t.id,property_id:o.id,geom:!1},a.target.checked,4,t.id)}}),r.a.createElement("label",{htmlFor:"perm_update"+o.id+a+l})),r.a.createElement("td",{className:"icheck-primary"},r.a.createElement("input",{type:"checkbox",id:"perm_revoke"+o.id+a+l,name:"perm_revoke",checked:c.filter((function(e){return 6==e.perm_kind&&e.feature_id==n&&e.data_type_id==t.id&&e.property_id==o.id&&0==e.geom})).length>0,onChange:function(a){return e.handleChecked({perm_kind:6,feature_id:n,data_type_id:t.id,property_id:o.id,geom:!1},a.target.checked,6,t.id)}}),r.a.createElement("label",{htmlFor:"perm_revoke"+o.id+a+l})),r.a.createElement("td",{className:"icheck-primary"},r.a.createElement("input",{type:"checkbox",id:"perm_approve"+o.id+a+l,name:"perm_approve",checked:c.filter((function(e){return 5==e.perm_kind&&e.feature_id==n&&e.data_type_id==t.id&&e.property_id==o.id&&0==e.geom})).length>0,onChange:function(a){return e.handleChecked({perm_kind:5,feature_id:n,data_type_id:t.id,property_id:o.id,geom:!1},a.target.checked,5,t.id)}}),r.a.createElement("label",{htmlFor:"perm_approve"+o.id+a+l})))})))}))))))))),r.a.createElement("a",{className:"geo-back-btn",id:"geo-back-btn",onClick:this.props.history.goBack},r.a.createElement("i",{className:"fa fa-chevron-left","aria-hidden":"true"})),r.a.createElement(T.a,{modalAction:function(){return e.modalClose()},status:this.state.modal_alert_status,title:"Амжилттай хадгаллаа",model_type_icon:"success"}))}}])&&V(t.prototype,a),n&&V(t,n),c}(n.Component);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=te(e);if(t){var r=te(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return ee(this,a)}}function ee(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(l,e);var t,a,n,c=$(l);function l(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,e)}return t=l,(a=[{key:"render",value:function(){return r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/back/org-role/",component:u}),r.a.createElement(o.a,{exact:!0,path:"/back/org-role/add/",component:F}),r.a.createElement(o.a,{exact:!0,path:"/back/org-role/update/:id/",component:W}))}}])&&Y(t.prototype,a),n&&Y(t,n),l}(n.Component)}}]);
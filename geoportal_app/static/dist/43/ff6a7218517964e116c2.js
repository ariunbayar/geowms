(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{967:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return T}));var n=r(0),a=r.n(n),o=r(50);r(2);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var a=f(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,r,n,o=l(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={items:[],page:1,total_page:1,is_loading:!1,searchQuery:t.props.searchQuery,sort_name:t.props.sort_name},t.loadPage=t.loadPage.bind(p(t)),t.nextPage=t.nextPage.bind(p(t)),t.prevPage=t.prevPage.bind(p(t)),t.addPage=t.addPage.bind(p(t)),t}return t=c,(r=[{key:"componentDidMount",value:function(){this.loadPage(this.state.page,this.state.searchQuery,this.state.sort_name)}},{key:"componentDidUpdate",value:function(e){if(e.searchQuery!==this.props.searchQuery){var t=this.props.searchQuery;this.setState({searchQuery:t}),this.loadPage(1,t)}if(e.sort_name!==this.props.sort_name){var r=this.props.sort_name,n=this.props.searchQuery;this.setState({sort_name:r}),this.loadPage(1,n,r)}if(e.load!==this.props.load){var a=this.props.d;this.loadPage(1,a)}if(this.props.org_level&&e.org_level!==this.props.org_level){var o=this.props.searchQuery;this.loadPage(1,o)}}},{key:"nextPage",value:function(){this.loadPage(this.state.page+1,this.state.searchQuery,this.state.sort_name)}},{key:"prevPage",value:function(){this.loadPage(this.state.page-1,this.state.searchQuery,this.state.sort_name)}},{key:"loadPage",value:function(e,t,r){var n=this;if(!this.state.is_loading)if(e=Math.max(e,1),e=Math.min(e,this.state.total_page),this.setState({is_loading:!0}),this.props.org_level){var a=this.props.org_level;this.props.paginate(e,t,a,r).then((function(e){var t=e.page,r=e.total_page;n.setState({page:t,total_page:r,is_loading:!1})}))}else this.props.paginate(e,t,r).then((function(e){var t=e.page,r=e.total_page;n.setState({page:t,total_page:r,is_loading:!1})}))}},{key:"addPage",value:function(e){var t=e.target.value;this.setState({page:t}),this.loadPage(t,"")}},{key:"render",value:function(){for(var e=this,t=this.state,r=t.page,n=t.total_page,o=[],c=r;c<=n;c++)o.push(a.a.createElement("li",{className:"page-item",key:c},a.a.createElement("a",{className:"page-link"},c)));return a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("div",{className:"col-md-12"},a.a.createElement("div",{className:"float-left"},a.a.createElement("strong",{className:"gp-text-primary"},"Хуудас ",r,"-",n)),a.a.createElement("div",{className:"float-right btn-group group-round"},a.a.createElement("button",{type:" button",value:"1",className:"btn gp-btn-primary waves-effect waves-light btn-sm"+(this.state.is_loading?" disabled":""),onClick:function(t){return e.addPage(t)}},"<<")," ",r>1&&a.a.createElement("button",{type:" button",className:"btn gp-btn-primary waves-effect waves-light btn-sm"+(this.state.is_loading?" disabled":""),onClick:this.prevPage},"<"),a.a.createElement("button",{type:" button",value:r,className:"btn gp-btn-primary waves-effect waves-light btn-sm"+(this.state.is_loading?" disabled":"")},r)," ",r<n&&a.a.createElement("button",{type:"button",className:"btn gp-btn-primary waves-effect waves-light btn-sm"+(this.state.is_loading?" disabled":""),onClick:this.nextPage},">"),a.a.createElement("button",{type:" button",value:n,className:"btn gp-btn-primary waves-effect waves-light btn-sm"+(this.state.is_loading?" disabled":""),onClick:function(t){return e.addPage(t)}},">>")," "))))}}])&&i(t.prototype,r),n&&i(t,n),c}(n.Component),y=r(219);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g={paginatedList:function(e,t,r,n){var a=b(b({},Object(y.b)()),{},{body:JSON.stringify({page:e,per_page:t,query:r,sort_name:n})});return fetch("".concat("/back/api/error500","/paginatedList/"),a).then(y.c)}};function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=j(e);if(t){var a=j(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return O(this,r)}}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(c,e);var t,r,n,o=w(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={error500_list:[],error500_length:null,currentPage:1,usersPerPage:20,searchQuery:"",query_min:!1,search_load:!1},t.paginate=t.paginate.bind(S(t)),t.handleSearch=t.handleSearch.bind(S(t)),t}return t=c,(r=[{key:"paginate",value:function(e,t,r){var n=this,a=this.state.usersPerPage;return this.setState({currentPage:e}),g.paginatedList(e,a,t,r).then((function(e){return n.setState({error500_list:e.items,error500_length:e.items.length}),e}))}},{key:"handleSearch",value:function(e,t){t.target.value.length,this.setState(_({},e,t.target.value)),this.paginate(this.state.currentPage,t.target.value)}},{key:"render",value:function(){var e=this,t=this.state,r=t.error500_list,n=t.error500_length;return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-body"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"float-right search-bar mr-3"},a.a.createElement("input",{type:"text",className:"form-control",id:"searchQuery",placeholder:"Хайх",onChange:function(t){return e.handleSearch("searchQuery",t)},value:this.state.searchQuery}),a.a.createElement("a",null,a.a.createElement("i",{className:"icon-magnifier"})))),a.a.createElement("div",{className:"row pt-4"},0===n?a.a.createElement("h5",null,"Хэрэглэгч бүртгэлгүй байна "):r.map((function(e,t){return a.a.createElement("div",{className:"col-lg-12",id:"accordion1",key:t},a.a.createElement("a",{className:"list-group-item-action"},a.a.createElement("div",{className:"card mb-2"},a.a.createElement("div",{className:"card-header",style:{borderBottomWidth:"0px"}},a.a.createElement("button",{className:"btn btn-link shadow-none collapsed text-dark","data-toggle":"collapse","data-target":"#collapse-".concat(t),"aria-expanded":"false","aria-controls":"#collapse-".concat(t)},e.request_method," - ",e.created_at," - ",e.request_url)),a.a.createElement("div",{id:"collapse-".concat(t),className:"collapse","data-parent":"#accordion1"},a.a.createElement("div",{className:"card-body"},a.a.createElement("h4",null,"Headers"),a.a.createElement("pre",null,a.a.createElement("code",null,e.request_headers)),a.a.createElement("h4",null,"Exception"),a.a.createElement("pre",null,a.a.createElement("code",null,e.description)),a.a.createElement("h4",null,"POST arguments"),a.a.createElement("pre",null,a.a.createElement("code",null,e.request_data)))))))}))),a.a.createElement("div",{className:"pl-4 pt-4"},a.a.createElement(h,{sort_name:this.state.sort_name,paginate:this.paginate,searchQuery:this.state.searchQuery}))))}}])&&P(t.prototype,r),n&&P(t,n),c}(n.Component);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var a=C(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return D(this,r)}}function D(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,e);var t,r,n,c=Q(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),c.call(this,e)}return t=i,(r=[{key:"render",value:function(){return a.a.createElement(o.c,null,a.a.createElement(o.a,{exact:!0,path:"/back/error500/",component:N}))}}])&&x(t.prototype,r),n&&x(t,n),i}(n.Component)}}]);
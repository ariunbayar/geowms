(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{143:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),r=n.n(a);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(f,e);var t,n,o,s=l(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=s.call(this,e)).state={modal_status:t.props.modal_status||"initial"},t.handleOpen=t.handleOpen.bind(u(t)),t.handleClose=t.handleClose.bind(u(t)),t.handleProceed=t.handleProceed.bind(u(t)),t}return t=f,(n=[{key:"componentDidMount",value:function(){"initial"==this.state.modal_status&&this.handleOpen()}},{key:"componentDidUpdate",value:function(e){this.props.modal_status!=e.modal_status&&(["initial","open"].includes(this.props.modal_status)&&this.handleOpen(),["closing","closed"].includes(this.props.modal_status)&&this.handleClose())}},{key:"handleOpen",value:function(){var e=this;this.setState({modal_status:"initial"}),setTimeout((function(){e.setState({modal_status:"open"})}),0)}},{key:"handleClose",value:function(e){var t=this;this.setState({modal_status:"closing"}),setTimeout((function(){t.setState({modal_status:"closed"}),e?e():(t.setState({modal_status:"closed"}),t.props.modalClose&&t.props.modalClose())}),150)}},{key:"handleProceed",value:function(){this.handleClose(this.props.modalAction)}},{key:"render",value:function(){var e=this,t=this.state.modal_status,n="modal fade"+("initial"==t?" d-block":"")+("open"==t?" show d-block":"")+("closing"==t?" d-block":"")+("closed"==t?" d-none":""),o="modal-backdrop fade"+("open"==t?" show":"")+("closed"==t?" d-none":"");return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:n},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},r.a.createElement("div",{className:"modal-content border-0 rounded-lg ".concat(this.props.modal_bg?this.props.modal_bg:"bg-light")},r.a.createElement("div",{className:"col-md-12 offset-md-12 float-right my-1"},r.a.createElement("button",{type:"button",className:"close mt-2 mr-2","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true",onClick:function(){return e.handleClose()}},"×"))),r.a.createElement("div",{className:"d-flex justify-content-center"},this.props.modal_icon&&r.a.createElement("i",{className:"".concat(this.props.modal_icon," fa-3x my-3 animated bounceIn text-").concat(this.props.icon_color),"aria-hidden":"true"})),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("h5",null,this.props.title&&this.props.title)),r.a.createElement("div",{className:"modal-body text-center text-wrap ml-2 mr-2 text-justify"},this.props.text&&this.props.text),this.props.has_button?r.a.createElement("div",{className:"modal-footer border-0"},r.a.createElement("button",{type:"button",onClick:function(){return e.handleClose()},className:"btn btn-primary waves-effect waves-light"},r.a.createElement("i",{className:"fa fa-times pr-1"}),this.props.actionNameBack?this.props.actionNameBack:"БУЦАХ"),r.a.createElement("button",{type:"button",onClick:this.handleProceed,className:"btn btn-outline-primary waves-effect waves-light"},r.a.createElement("i",{className:"fa fa-check-square-o pr-1"}),this.props.actionNameDelete?this.props.actionNameDelete:"УСТГАХ")):r.a.createElement("div",{className:"modal-body mt-3"})))),r.a.createElement("div",{className:o}))}}])&&c(t.prototype,n),o&&c(t,o),f}(a.Component)},537:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(0),r=n.n(a),o=n(32);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d(e);if(t){var r=d(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(f,e);var t,n,a,c=u(f);function f(){return i(this,f),c.apply(this,arguments)}return t=f,(n=[{key:"render",value:function(){return this.props.navlink_url?r.a.createElement(o.c,{className:"geo-back-btn geo-back-btn-toggled",to:this.props.navlink_url},r.a.createElement("small",{className:"fa fa-chevron-circle-left"}," ",this.props.name&&this.props.name)):this.props.back_url?r.a.createElement("a",{className:"geo-back-btn geo-back-btn-toggled",id:"geo-back-btn",onClick:this.props.history.push(this.props.back_url)},r.a.createElement("small",{className:"fa fa-chevron-circle-left"}," ",this.props.name&&this.props.name)):r.a.createElement("a",{className:"geo-back-btn geo-back-btn-toggled",id:"geo-back-btn",onClick:this.props.history.goBack},r.a.createElement("small",{className:"fa fa-chevron-circle-left"}," ",this.props.name&&this.props.name))}}])&&l(t.prototype,n),a&&l(t,a),f}(a.Component)},959:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(50),c=n(32);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,n,a,o=f(i);function i(){return l(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Дата бааз сонгох"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card-body"},r.a.createElement(c.c,{to:"/back/db-export/connection/pg/",className:"col-md-3 ml-2 text-center",activeClassName:"text-white gp-bg-primary"},"PgDB"))))))}}])&&s(t.prototype,n),a&&s(t,a),i}(a.Component),b=n(216);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _="/back/another-database";var g={pg_config:{get:function(e){var t=Object(b.a)();return fetch("".concat(_,"/pg/get/").concat(e,"/"),t).then(b.c)},save:function(e){var t=y(y({},Object(b.b)()),{},{body:JSON.stringify(e)});return fetch("".concat(_,"/pg/db-config-save/"),t).then(b.c)},getViewNames:function(e){var t=y({},Object(b.a)());return fetch("".concat(_,"/pg/").concat(e,"/get-all-view-names/"),t).then(b.c)},fieldNames:function(e,t,n){var a=y(y({},Object(b.b)()),{},{body:JSON.stringify({id:e,name:t,value:n})});return fetch("".concat(_,"/pg/get-fields/"),a).then(b.c)},tableSave:function(e,t,n,a,r){var o=y(y({},Object(b.b)()),{},{body:JSON.stringify({id:e,table_id:t,matched_feilds:n,view_name:a,table_name:r})});return fetch("".concat(_,"/pg/save-table/"),o).then(b.c)},tableDetail:function(e,t){var n=y({},Object(b.a)());return fetch("".concat(_,"/pg/").concat(e,"/").concat(t,"/table-detail/"),n).then(b.c)},refreshTableData:function(e,t){var n=y({},Object(b.a)());return fetch("".concat(_,"/pg/").concat(e,"/refresh-table-data/"),n).then(b.c)},removeTable:function(e,t){var n=y({},Object(b.a)());return fetch("".concat(_,"/pg/").concat(e,"/").concat(t,"/remove-table/"),n).then(b.c)}},remove:function(e){var t=y({},Object(b.a)());return fetch("".concat(_,"/remove/").concat(e,"/"),t).then(b.c)},cronTabSave:function(e){var t=y(y({},Object(b.b)()),{},{body:JSON.stringify(e)});return fetch("".concat(_,"/crontab-save/"),t).then(b.c)},cronTabDetail:function(e){var t=y({},Object(b.a)());return fetch("".concat(_,"/detail/").concat(e,"/"),t).then(b.c)},DBConfiSave:function(e){var t=y(y({},Object(b.b)()),{},{body:JSON.stringify(e)});return fetch("".concat(_,"/db-config-save/"),t).then(b.c)}};var O=n(890),E=n(143),w=n(537);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C(e);if(t){var r=C(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(c,e);var t,n,a,o=x(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={id:e.match.params.id,"жагсаалтын_холбоос":"/back/another-database/pg/tables/".concat(e.match.params.id,"/all/"),"талбарууд":[{field:"feature_code",title:"View-ийн нэр"},{field:"table_name",title:"Хүснэгтийн нэр"},{field:"created_at",title:"Үүссэн"},{field:"updated_at",title:"Зассан"}],"нэмэлт_талбарууд":[{title:"Засах",text:"",icon:"fa fa-pencil-square-o text-success",action:function(e){return t.goLink(e)}},{title:"Устгах",text:"",icon:"fa fa-trash-o text-danger",action:function(e){return t.handleRemoveAction(e)}}],refresh:!0,modal_status:"closed",values:{}},t.handleRemove=t.handleRemove.bind(R(t)),t.goLink=t.goLink.bind(R(t)),t.handleModalOpen=t.handleModalOpen.bind(R(t)),t.handleRemoveAction=t.handleRemoveAction.bind(R(t)),t.modalChange=t.modalChange.bind(R(t)),t}return t=c,(n=[{key:"goLink",value:function(e){this.props.history.push("/back/db-export/connection/pg/".concat(e.another_database_id,"/").concat(e.id,"/update/"))}},{key:"handleRemove",value:function(){var e=this,t=this.state,n=t.values,a=t.id;g.pg_config.removeTable(a,n.id).then((function(t){t.success&&e.setState({refresh:!e.state.refresh})}))}},{key:"handleModalOpen",value:function(){var e=this;this.setState({modal_status:"open"},(function(){e.setState({modal_status:"initial"})}))}},{key:"handleRemoveAction",value:function(e){var t=this;this.setState({values:e}),this.modalChange("fa fa-exclamation-triangle",null,"warning","Тохиргоог устгах",'Та "'.concat(e.table_name,'" нэртэй тохиргоог устгахдаа итгэлтэй байна уу?'),!0,"","",(function(e){return t.handleRemove(e)}),null)}},{key:"modalChange",value:function(e,t,n,a,r,o,c,i,l,s){var u=this;this.setState({modal_icon:e,modal_bg:t,icon_color:n,title:a,text:r,has_button:o,actionNameBack:c,actionNameDelete:i,modalAction:l,modalClose:s},(function(){return u.handleModalOpen()}))}},{key:"render",value:function(){var e=this.state,t=e.талбарууд,n=e.жагсаалтын_холбоос,a=e.хувьсах_талбарууд,o=e.нэмэлт_талбарууд,c=e.refresh,i=(e.values,e.modal_status,e.id);return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(O.a,{"талбарууд":t,"жагсаалтын_холбоос":n,"уншиж_байх_үед_зурвас":"Уншиж байна","хувьсах_талбарууд":a,"нэмэлт_талбарууд":o,"нэмэх_товч":"/back/db-export/connection/pg/".concat(i,"/create/"),refresh:c})))),r.a.createElement(E.a,{modal_status:this.state.modal_status,modal_icon:this.state.modal_icon,modal_bg:this.state.modal_bg,icon_color:this.state.icon_color,text:this.state.text,title:this.state.title,has_button:this.state.has_button,actionNameBack:this.state.actionNameBack,actionNameDelete:this.state.actionNameDelete,modalAction:this.state.modalAction,modalClose:this.state.modalClose}),r.a.createElement(w.a,k({},this.props,{name:"Буцах",navlink_url:"/back/db-export/"})))}}])&&j(t.prototype,n),a&&j(t,a),c}(a.Component),T=n(20),F=n(34);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function B(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=G(e);if(t){var r=G(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?q(e):t}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=F.c().shape({name:F.d().required("хоосон байна!"),definition:F.d(),pg_host:F.d().required("хоосон байна!"),pg_username:F.d(),pg_password:F.d(),pg_database:F.d().required("хоосон байна!"),pg_port:F.d().required("хоосон байна!")}),U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(i,e);var t,n,o,c=V(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this,e)).state={is_editing:!1,initial_values:{id:e.match.params.id,name:"",definition:"",pg_host:"",pg_username:"",pg_password:"",pg_database:"",pg_port:""},values:{}},t.handleEdit=t.handleEdit.bind(q(t)),t.handleSubmit=t.handleSubmit.bind(q(t)),t.getConfigs=t.getConfigs.bind(q(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e&&this.getConfigs(e)}},{key:"getConfigs",value:function(e){var t=this;g.pg_config.get(e).then((function(e){var n=e.values;t.setState({initial_values:n,values:n})}))}},{key:"handleEdit",value:function(e){e.preventDefault();var t=this.state.is_editing;this.setState({is_editing:!t})}},{key:"handleSubmit",value:function(e,t){var n=this,a=t.setStatus,r=(t.setValues,t.setErrors);a("saving"),g.pg_config.save(e).then((function(e){var t=e.success,n=e.errors;if(!t)return r(n),Promise.reject();a("save_success")})).catch((function(){a("save_error")})).finally((function(){n.setState({is_editing:!1})}))}},{key:"render",value:function(){var e=this.state,t=(e.is_editing,e.initial_values);return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Postgres Connection Тохиргоо"),r.a.createElement("div",{className:"card-body"},r.a.createElement(T.e,{initialValues:t,initialStatus:"initial",enableReinitialize:!0,validationSchema:J,onSubmit:this.handleSubmit},(function(e){var t=e.errors,n=e.status,o=(e.touched,e.isSubmitting,e.setFieldValue,e.setStatus);return e.setValues,e.handleBlur,e.values,e.isValid,e.dirty,r.a.createElement(T.d,null,r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6 text-wrap"},r.a.createElement("label",{htmlFor:"id_name"},"Нэр"),r.a.createElement(T.b,{name:"name",id:"id_name",type:"text",className:"form-control"}),r.a.createElement("p",{className:"text-danger"},t.name)),r.a.createElement("div",{className:"form-group col-md-6 text-wrap"},r.a.createElement("label",{htmlFor:"id_definition"},"Тайлбар"),r.a.createElement(T.b,{name:"definition",id:"id_definition",type:"text",className:"form-control"}),r.a.createElement("p",{className:"text-danger"},t.definition)),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"id_pg_host"},"Server HOST"),r.a.createElement(T.b,{name:"pg_host",id:"id_pg_host",type:"text",className:"form-control"}),r.a.createElement("p",{className:"text-danger"},t.pg_host)),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"id_pg_username"},"Username"),r.a.createElement(T.b,{name:"pg_username",type:"text",className:"form-control",id:"id_pg_username"}),r.a.createElement("p",{className:"text-danger"},t.pg_username)),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"id_pg_password"},"Password"),r.a.createElement(T.b,{name:"pg_password",type:"text",className:"form-control",id:"id_pg_password"}),r.a.createElement("p",{className:"text-danger"},t.pg_password)),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"id_pg_database"},"Database Name"),r.a.createElement(T.b,{name:"pg_database",id:"id_pg_database",type:"text",className:"form-control"}),r.a.createElement("p",{className:"text-danger"},t.pg_database)),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"id_pg_port"},"Port"),r.a.createElement(T.b,{name:"pg_port",id:"id_pg_port",type:"text",className:"form-control"}),r.a.createElement("p",{className:"text-danger"},t.pg_port))),r.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:"saving"==n},"saving"==n&&r.a.createElement(a.Fragment,null,r.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin"})," ","Түр хүлээнэ үү..."),"saving"!=n&&"Хадгалах"),"save_success"==n&&r.a.createElement("div",{className:"alert alert-icon-success alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return o("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-success"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Амжилттай хадгаллаа!"))),"save_error"==n&&r.a.createElement("div",{className:"alert alert-icon-warning alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return o("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-warning"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Хадгалахад алдаа гарлаа!"))))}))),r.a.createElement(w.a,L({},this.props,{name:"Буцах",navlink_url:"/back/db-export/"})))}}])&&B(t.prototype,n),o&&B(t,o),i}(a.Component);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=W(e);if(t){var r=W(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(c,e);var t,n,a,o=$(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={selected_field:e.setSelectedField,selected_data_type:e.selected_data_type,field_class_name:""},t}return t=c,(n=[{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.data,r=n.selected_data_type,o=(n.selected_field,n.setSelectedField);if(e.setSelectedField!=o){var c="";o&&a.data_type.slice(0,4)!=r.slice(0,4)&&(c="is-invalid"),this.setState({field_class_name:c})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.table_fields,o=t.data_key,c=t.setSelectedField,i=this.state.field_class_name;return r.a.createElement("div",{className:"col-md-12 mb-1 pb-1"},r.a.createElement("label",{className:"col-md-4 d-inline-block"},n.column_name),r.a.createElement("select",{value:c,className:"form-control col-md-3 d-inline-block ml-4 "+(i||""),id:"table_name",onChange:function(t){return e.props.handleSetField(o,t)}},r.a.createElement("option",{value:""},"---Хүснэгтийн талбарыг сонгоно уу---"),a.map((function(e,t){return r.a.createElement("option",{key:t,value:e.column_name,name:e.data_type},e.column_name)}))),i&&r.a.createElement("span",{className:"d-block text-center text-danger"},n.column_name," болон ",c," талбаруудын төрөл таарахгүй байна !!!"))}}])&&z(t.prototype,n),a&&z(t,a),c}(a.Component);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=fe(e);if(t){var r=fe(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return se(this,n)}}function se(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?ue(e):t}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(c,e);var t,n,a,o=le(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).over_dec=[],t.state={id:e.match.params.id,table_id:e.match.params.table_id,table_names:[],view_names:[],table_name:"",view_name:"",view_fields:[],table_fields:[],matched_feilds:[],selected_data_type:"",table_field_error:[],old_error_name:""},t.handleChange=t.handleChange.bind(ue(t)),t.getViewNames=t.getViewNames.bind(ue(t)),t.handleSetField=t.handleSetField.bind(ue(t)),t.handleSave=t.handleSave.bind(ue(t)),t.setSelectedField=t.setSelectedField.bind(ue(t)),t}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this.state,t=e.id,n=e.table_id;n&&this.handleGetDetial(t,n),this.getViewNames(t)}},{key:"handleGetDetial",value:function(e,t){var n=this;g.pg_config.tableDetail(e,t).then((function(e){var t=e.success,a=e.form_datas;t&&n.setState({table_name:a.table_name,view_name:a.feature_code,matched_feilds:a.field_config,view_fields:a.view_fields,table_fields:a.table_field_names})}))}},{key:"getViewNames",value:function(e){var t=this;g.pg_config.getViewNames(e).then((function(e){var n=e.view_names,a=e.table_names;t.setState({view_names:n,table_names:a})}))}},{key:"getTableFields",value:function(e,t){var n=this,a=this.state.id;g.pg_config.fieldNames(a,e,t).then((function(e){var t=e.state_name,a=e.table_fields,r={};r[t]=a,n.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r))}))}},{key:"handleChange",value:function(e){var t=e.target.value,n=e.target.name;this.setState(oe({},n,t)),this.getTableFields(n,t)}},{key:"handleSave",value:function(){var e=this,t=this.state,n=t.id,a=t.table_id,r=t.matched_feilds,o=t.view_name,c=t.table_name;!t.table_field_error.length>0&&!this.over_dec.length>0&&g.pg_config.tableSave(n,a,r,o,c).then((function(t){t.success&&(alert("Амжилттай хадгаллаа."),e.props.history.push("/back/db-export/connection/pg/".concat(n,"/tables/")))}))}},{key:"handleSetField",value:function(e,t){var n=this.state,a=n.view_fields,r=(n.table_fields,n.matched_feilds),o=n.table_field_error,c=n.old_error_name,i=t.target.value,l={table_field:i,view_field:a[e].column_name},s=[],u=!1,f=[],d="";if(i){if(r.length>0){var p=r.findIndex((function(t){return t.view_field==a[e].column_name}));-1!=p?(r[p].table_field=i,s=r):s=r.concat(l)}else s=r.concat(l);var m=t.target.selectedIndex,b=t.target.childNodes[m].getAttribute("name");d=o.filter((function(e){return e.toLowerCase().includes(i.toLowerCase())})),a[e].data_type.slice(0,4)!=b.slice(0,4)?!d.length>0&&f.push(i):u=!0}else{var h,y=te(r),v=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=ne(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}(y.entries());try{for(v.s();!(h=v.n()).done;){var _=ee(h.value,2),g=_[0];_[1].view_field==a[e].column_name&&y.splice(g,1)}}catch(e){v.e(e)}finally{v.f()}s=y}!u&&i||(f=[]),this.setState({matched_feilds:s,selected_data_type:b,table_field_error:f,old_error_name:c})}},{key:"setSelectedField",value:function(e){var t=this.state.matched_feilds,n="";if(Object.keys(t).length>0){var a=t.findIndex((function(t){return t.view_field==e.column_name}));-1!=a&&(n=t[a].table_field)}return n}},{key:"render",value:function(){var e=this,t=this.state,n=t.table_names,a=t.table_id,o=t.id,c=t.table_name,i=t.view_name,l=t.view_names,s=t.view_fields,u=t.table_fields,f=t.matched_feilds,d=t.selected_data_type,p=t.table_field_error,m={};return f.forEach((function(e){m[e.table_field]=(m[e.table_field]||0)+1})),this.over_dec=[],r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"form-row card-body"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"id_view_name"},"Veiw-ийн нэр"),r.a.createElement("select",{className:"form-control",name:"view_name",id:"id_view_name",onChange:function(t){return e.handleChange(t)},value:i,disabled:!!a},r.a.createElement("option",{value:""}," -- View-ийн нэр сонгоно уу -- "),l.map((function(e,t){return r.a.createElement("option",{key:t,value:e.relname},e.relname)})))),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"id_table_name mt-1"},"Хүснэгтийн нэр"),r.a.createElement("select",{className:"form-control",id:"id_table_name",name:"table_name",onChange:function(t){return e.handleChange(t)},disabled:!!a,value:c},r.a.createElement("option",{value:""}," -- Хүснэгтийн нэр сонгоно уу -- "),n.map((function(e,t){return r.a.createElement("option",{key:t,value:e.table_name},e.table_name)}))))),s&&u&&r.a.createElement("div",{className:"card-body"},Object.keys(m).length>0&&r.a.createElement("div",{className:"form-group col-md-8"},r.a.createElement("label",{className:"mt-1 text-danger text-justify"},Object.keys(m).map((function(t,n){m[t]>1&&e.over_dec.push(t)})),this.over_dec.length>0&&this.over_dec.join(", ")+" талбар аль хэдийн сонгогдсон байна")),s.map((function(t,n){return r.a.createElement(X,{data_key:n,table_fields:u,data:t,matched_feilds:f,handleSetField:e.handleSetField,setSelectedField:e.setSelectedField(t),selected_data_type:d})})),r.a.createElement("a",{className:"btn btn-primary text-white m-3",disabled:p.length>0,onClick:this.handleSave},(p.length>0||this.over_dec.length>0)&&r.a.createElement("i",{className:"fa fa-spinner fa-spin"}),(p.length>0||this.over_dec.length>0)&&r.a.createElement("a",{className:"text-light"},"Алдаатай байна."),!(p.length>0||this.over_dec.length>0)&&"Хадгалах")),r.a.createElement(w.a,Z({},this.props,{name:"Буцах",navlink_url:"/back/db-export/connection/pg/".concat(o,"/tables/")})))}}])&&ce(t.prototype,n),a&&ce(t,a),c}(a.Component);function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=_e(e);if(t){var r=_e(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(i,e);var t,n,a,c=ye(i);function i(){return me(this,i),c.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return r.a.createElement("div",{className:"card-body"},r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/back/db-export/connection/pg/",component:U}),r.a.createElement(o.a,{exact:!0,path:"/back/db-export/connection/pg/:id/",component:U}),r.a.createElement(o.a,{exact:!0,path:"/back/db-export/connection/pg/:id/tables/",component:D}),r.a.createElement(o.a,{exact:!0,path:"/back/db-export/connection/pg/:id/create/",component:de}),r.a.createElement(o.a,{path:"/back/db-export/connection/pg/:id/:table_id/update/",component:de})))}}])&&be(t.prototype,n),a&&be(t,a),i}(a.Component),Oe=n(107);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=xe(e);if(t){var r=xe(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return je(this,n)}}function je(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?Ne(e):t}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(c,e);var t,n,a,o=ke(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={"жагсаалтын_холбоос":"/back/another-database/".concat(!0,"/all/"),"талбарууд":[{field:"name",title:"Нэр"},{field:"definition",title:"Тайлбар"},{field:"db_type",title:"Дата бааз төрөл"},{field:"database_updated_at",title:"Сүүлд шинэчилсэн"},{field:"created_at",title:"Үүссэн"},{field:"updated_at",title:"Зассан"}],"нэмэлт_талбарууд":[{title:"Засах",text:"",icon:"fa fa-pencil-square-o text-success",action:function(e){return t.goLink(e)}},{title:"Устгах",text:"",icon:"fa fa-trash-o text-danger",action:function(e){return t.handleRemoveAction(e)}},{title:"Export",text:"",icon:"fa fa-table text-success",action:function(e){return t.tableGoLink(e)}},{title:"Бааз шинэчлэх",text:"",icon:"fa fa-car text-danger",action:function(e){return t.handleRefreshData(e)}},{title:"crontab",text:"",icon:"fa fa-circle text-danger",action:function(e){return t.crontabLink(e)}}],is_loading:!1,refresh:!0,modal_status:"closed",values:{}},t.handleRemove=t.handleRemove.bind(Ne(t)),t.goLink=t.goLink.bind(Ne(t)),t.tableGoLink=t.tableGoLink.bind(Ne(t)),t.handleModalOpen=t.handleModalOpen.bind(Ne(t)),t.handleRemoveAction=t.handleRemoveAction.bind(Ne(t)),t.handleRefreshData=t.handleRefreshData.bind(Ne(t)),t.crontabLink=t.crontabLink.bind(Ne(t)),t.refreshPgData=t.refreshPgData.bind(Ne(t)),t.modalChange=t.modalChange.bind(Ne(t)),t}return t=c,(n=[{key:"crontabLink",value:function(e){this.props.history.push("/back/another-base/connection/crontab/".concat(e.id,"/"))}},{key:"handleRefreshData",value:function(e){"PgDB"==e.db_type&&this.refreshPgData(e)}},{key:"refreshPgData",value:function(e){var t=this;this.setState({is_loading:!0}),g.pg_config.refreshTableData(e.id).then((function(e){var n=e.success,a=e.info;n?(t.setState({is_loading:!1}),t.modalChange("fa fa-check-circle",null,"success","Амжилттай","",!1,"","",null,null)):(t.setState({is_loading:!1}),t.modalChange("fa fa-times-circle",null,"danger","Алдаа гарлаа",a,!1,"","",null,null))})).catch((function(){t.setState({is_loading:!1}),t.modalChange("fa fa-check-circle",null,"danger","Алдаа гарсан байна","",!1,"","",null,null)}))}},{key:"set_active_color",value:function(e){var t="text-danger fa fa-times";return e&&(t="text-success fa fa-check"),t}},{key:"tableGoLink",value:function(e){"MSSQL"==e.db_type?this.props.history.push("/back/db-export/connection/mssql/".concat(e.id,"/tables/")):"MONGODB"==e.db_type?this.props.history.push("/back/db-export/connection/mongo/".concat(e.id,"/list/")):"PgDB"==e.db_type&&this.props.history.push("/back/db-export/connection/pg/".concat(e.id,"/tables/"))}},{key:"goLink",value:function(e){"MSSQL"==e.db_type?this.props.history.push("/back/db-export/connection/mssql/".concat(e.id,"/")):"MONGODB"==e.db_type?this.props.history.push("/back/db-export/connection/mongo/".concat(e.id,"/")):"PgDB"==e.db_type&&this.props.history.push("/back/db-export/connection/pg/".concat(e.id,"/"))}},{key:"handleRemove",value:function(){var e=this,t=this.state.values;g.remove(t.id).then((function(t){t.success&&e.setState({refresh:!e.state.refresh},(function(){e.modalChange("fa fa-check-circle",null,"success","Амжилттай устгалаа","",!1,"","",null,null)}))}))}},{key:"handleModalOpen",value:function(){var e=this;this.setState({modal_status:"open"},(function(){e.setState({modal_status:"initial"})}))}},{key:"handleRemoveAction",value:function(e){var t=this;this.setState({values:e}),this.modalChange("fa fa-exclamation-circle",null,"warning","Тохиргоог устгах",'Та "'.concat(e.name,'" нэртэй тохиргоог устгахдаа итгэлтэй байна уу?'),!0,"","",(function(e){return t.handleRemove(e)}),null)}},{key:"modalChange",value:function(e,t,n,a,r,o,c,i,l,s){var u=this;this.setState({modal_icon:e,modal_bg:t,icon_color:n,title:a,text:r,has_button:o,actionNameBack:c,actionNameDelete:i,modalAction:l,modalClose:s},(function(){return u.handleModalOpen()}))}},{key:"render",value:function(){var e=this.state,t=e.талбарууд,n=e.жагсаалтын_холбоос,a=e.хувьсах_талбарууд,o=e.нэмэлт_талбарууд,c=e.refresh,i=(e.values,e.modal_status,e.is_loading);return r.a.createElement("div",{className:"row"},r.a.createElement(Oe.a,{is_loading:i,text:"Уншиж байна"}),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(O.a,{"талбарууд":t,"жагсаалтын_холбоос":n,"уншиж_байх_үед_зурвас":"Уншиж байна","хувьсах_талбарууд":a,"нэмэлт_талбарууд":o,"нэмэх_товч":"/back/db-export/connection/",refresh:c})))),r.a.createElement(E.a,{modal_status:this.state.modal_status,modal_icon:this.state.modal_icon,modal_bg:this.state.modal_bg,icon_color:this.state.icon_color,text:this.state.text,title:this.state.title,has_button:this.state.has_button,actionNameBack:this.state.actionNameBack,actionNameDelete:this.state.actionNameDelete,modalAction:this.state.modalAction,modalClose:this.state.modalClose}))}}])&&we(t.prototype,n),a&&we(t,a),c}(a.Component);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Ae(e);if(t){var r=Ae(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(i,e);var t,n,a,c=Te(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),c.call(this,e)}return t=i,(n=[{key:"render",value:function(){return r.a.createElement("div",{className:""},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/back/db-export/connection/pg/",component:ge}),r.a.createElement(o.a,{path:"/back/db-export/connection/",component:m}),r.a.createElement(o.a,{exact:!0,path:"/back/db-export/",component:Pe})))}}])&&Ce(t.prototype,n),a&&Ce(t,a),i}(a.Component);t.default=Le}}]);
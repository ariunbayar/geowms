(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{892:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(53);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l={createEmployee:function(e,t,a,r){var i=o(o({},Object(n.b)()),{},{body:JSON.stringify({user_detail:e,emp_role_id:t,roles:a,address:r})});return fetch("".concat(s,"/create/"),i).then(n.c)},getRole:function(e){var t=o({},Object(n.a)());return fetch("".concat("/gov/api/role","/").concat(e,"/detail/"),t).then(n.c)},getRoleList:function(){var e=o({},Object(n.a)());return fetch("".concat("/gov/api/role","/"),e).then(n.c)},getDetailEmployee:function(e){var t=o({},Object(n.a)());return fetch("".concat(s,"/").concat(e,"/detail/"),t).then(n.c)},deleteEmployee:function(e){var t=o({},Object(n.a)());return fetch("".concat(s,"/").concat(e,"/delete/"),t).then(n.c)},updateEmployee:function(e,t,a,r,i,l,c,m,u,p,d,f,_,h){var v=o(o({},Object(n.b)()),{},{body:JSON.stringify({username:e,first_name:t,last_name:a,position:r,email:i,gender:l,register:c,phone_number:m,is_admin:u,role_id:p,id:d,add_perm:f,remove_perm:_,address:h})});return fetch("".concat(s,"/").concat(d,"/update/"),v).then(n.c)},empTokenRefresh:function(e){var t=o({},Object(n.a)());return fetch("".concat(s,"/").concat(e,"/refresh-token/"),t).then(n.c)},sendMail:function(e){var t=o(o({},Object(n.b)()),{},{body:JSON.stringify({username:e})});return fetch("".concat(s,"/send-mail/"),t).then(n.c)},getGeom:function(e){var t=o(o({},Object(n.b)()),{},{body:JSON.stringify({geo_id:e})});return fetch("/payment/get-geom/",t).then(n.c)},getAddresses:function(){var e=o({},Object(n.a)());return fetch("".concat(s,"/addresses/"),e).then(n.c)},formOptions:function(){var e=o({},Object(n.a)());return fetch("/api/aimag/",e).then(n.c)},getEmpInfo:function(e,t){var a=o(o({},Object(n.b)()),{},{body:JSON.stringify({is_erguul:t})});return fetch("/back/api/org/".concat(e,"/emp-info/"),a).then(n.c)},getErguulegFields:function(e){var t=o({},Object(n.a)());return fetch("/back/api/org/".concat(e,"/erguuleg-fields/"),t).then(n.c)},saveErguul:function(e,t,a,r,i){var l=o(o({},Object(n.b)()),{},{body:JSON.stringify({values:e,emp_id:t,point:a,photo:r,erguul_id:i})});return fetch("/back/api/org/save-erguul/",l).then(n.c)},getFieldTailbar:function(){var e=o({},Object(n.a)());return fetch("".concat(s,"/get-field-tailbar/"),e).then(n.c)},saveTailbar:function(e,t){var a=o(o({},Object(n.b)()),{},{body:JSON.stringify({values:e,id:t})});return fetch("".concat(s,"/save-field-tailbar/"),a).then(n.c)},getErguul:function(){var e=o({},Object(n.a)());return fetch("".concat(s,"/get-erguul/"),e).then(n.c)}},s="/gov/api/role/employee"},945:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Ze}));var n=a(0),r=a.n(n),o=a(48),i=a(890);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p(e);if(t){var r=p(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u(this,a)}}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,a,n,o=m(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={refresh:!1,"жагсаалтын_холбоос":"/gov/api/role/employee/","нэмэх_товч":"/gov/perm/employee/add/",custom_query:{},"талбарууд":[{field:"user__first_name",title:"Нэр",has_action:!0},{field:"user__email",title:"Цахим шуудан"},{field:"position",title:"Албан тушаал"},{field:"role_name",title:"Role",is_sort:!0},{field:"is_admin",title:"Админ",has_action:!0,is_center:!0}],"хувьсах_талбарууд":[{field:"user__first_name",action:function(e){return t.go_link(e)}},{field:"user__email",text:""},{field:"position",text:""},{field:"is_admin",action:function(e){return t.set_icon(e)},action_type:!0,is_center:!0}]},t}return t=l,(a=[{key:"set_icon",value:function(e){return e?"fa fa-check-circle-o text-success fa-lg":"fa fa-times-circle-o text-danger fa-lg"}},{key:"go_link",value:function(e){this.props.history.push("/gov/perm/employee/".concat(e.id,"/detail/"))}},{key:"render",value:function(){var e=this.state,t=e.refresh,a=e.талбарууд,n=e.жагсаалтын_холбоос,o=e.хувьсах_талбарууд,l=e.custom_query,s=e.нэмэх_товч,c=e.нэмэлт_талбарууд;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(i.a,{refresh:t,color:"bg-dark","талбарууд":a,"жагсаалтын_холбоос":n,per_page:20,"уншиж_байх_үед_зурвас":"Хүсэлтүүд уншиж байна","хувьсах_талбарууд":o,"нэмэх_товч":s,custom_query:l,"нэмэлт_талбарууд":c}))))}}])&&s(t.prototype,a),n&&s(t,n),l}(n.Component),f=a(19),_=a(892),h=a(160),v=a(895),g=a(900),y=a(103),b=a(880),E=a(470),N=a(285),O=a(882),k=a(283),S=a(162),w=a(2),j=a(138),R=a(886),P=a(236),C=a(212),F=a(16),x=a(61),D=a(879);a(215);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=I(e);if(t){var r=I(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return J(this,a)}}function J(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(i,e);var t,a,n,o=V(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={projection_data:"EPSG:4326",projection_display:"EPSG:3857",coordinate_clicked:[],features:[]},t.marker=t.initMarker(),t.loadMap=t.loadMap.bind(A(t)),t.handleMapClick=t.handleMapClick.bind(A(t)),t.setFeatures=t.setFeatures.bind(A(t)),t.removeFeatureFromSource=t.removeFeatureFromSource.bind(A(t)),t}return t=i,(a=[{key:"initMarker",value:function(){var e=new j.c({image:new R.a({anchor:[.5,86],anchorXUnits:"fraction",anchorYUnits:"pixels",scale:.4,src:"/static/assets/image/marker.png"})}),t=new x.a([0,0]),a=new y.a({geometry:t});return a.setStyle(e),{feature:a,point:t}}},{key:"componentDidMount",value:function(){this.loadMap(),0!==this.props.map_coordinate.length&&this.marker.point.setCoordinates(this.props.map_coordinate)}},{key:"componentDidUpdate",value:function(e,t){e.feature!==this.props.feature&&this.props.feature!=={}&&(this.setFeatures(this.props.feature),0!==Object.keys(this.props.point).length&&0==this.props.map_coordinate.length&&this.setMarker(this.props.point))}},{key:"removeFeatureFromSource",value:function(e){var t=this.vector_layer.getSource(),a=t.getFeatures();if(null!=a&&a.length>0)for(var n=0;n<a.length;n++)if(a[n].getProperties().id==e){t.removeFeature(a[n]);break}}},{key:"fromLonLatToMapCoord",value:function(e){return Object(w.d)(e)}},{key:"setMarker",value:function(e){var t=JSON.parse(e);if(t){var a=t.coordinates,n=this.fromLonLatToMapCoord(a);this.marker.point.setCoordinates(n),this.props.sendPointCoordinate([a[1],a[0]],n)}}},{key:"setFeatures",value:function(e){var t="aimag_sum";this.removeFeatureFromSource(t),(e=(new D.a).readFeatures(e,{dataProjection:this.state.projection_data,featureProjection:this.state.projection_display}))[0].setProperties({id:t}),this.vector_layer.getSource().addFeature(e[0]),this.map.getView().fit(e[0].getGeometry(),{padding:[100,100,100,100],duration:2e3})}},{key:"loadMap",value:function(){var e=new k.a({source:new N.a({features:[this.marker.feature]})});this.marker_layer=e;var t=new k.a({source:new N.a({}),style:new j.c({stroke:new P.a({color:"rgba(100, 255, 0, 1)",width:2}),fill:new C.a({color:"rgba(100, 255, 0, 0.3)"})})});this.vector_layer=t;var a=new b.a({layers:[new S.a({source:new O.a}),t,e],target:"map",view:new E.a({center:[11461613.630815497,5878656.0228370065],zoom:5.041301562246971})});a.on("click",this.handleMapClick),this.map=a}},{key:"handleMapClick",value:function(e){var t=e.coordinate;this.marker.point.setCoordinates(t);var a=e.map.getView().getProjection(),n=Object(w.p)(e.coordinate,a,this.state.projection_data),r=Object(F.f)(n,"{y},{x}",6);this.props.sendPointCoordinate(r,t),this.setState({coordinate_clicked:r})}},{key:"render",value:function(){return r.a.createElement("div",{id:"map",style:{height:"calc( 50vh - 85px - 15px)"},className:"".concat(this.props.class)})}}])&&T(t.prototype,a),n&&T(t,n),i}(n.Component),B=a(889);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){Y(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function H(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=$(e);if(t){var r=$(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return W(this,a)}}function W(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(l,e);var t,a,o,i=Q(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).perms=[],t.role=[],t.remove_perms=[],t.state={form_values:{username:"",last_name:"",first_name:"",position:"",email:"",gender:"Эрэгтэй",register:"",phone_number:"",is_admin:!1,choose_role:""},role_list:[],emp_role_id:null,roles:{},modal_alert_status:"closed",model_type_icon:"",title:"",prefix:"/gov/perm/employee/",is_inspire_role:!1,is_inspire_role_null:!0,aimag:[],sum:[],horoo:[],aimag_id:-1,sum_id:-1,horoo_id:-1,aimag_name:"",sum_name:"",horoo_name:"",aimag_geo_id:"",sum_geo_id:"",horoo_geo_id:"",feature:{},description:"",point_coordinate:[],point:{},street:"",apartment:"",door_number:"",map_coordinate:[],is_marker:!0,is_address_map:!0},t.handleSubmit=t.handleSubmit.bind(Z(t)),t.modalClose=t.modalClose.bind(Z(t)),t.getRolesForOption=t.getRolesForOption.bind(Z(t)),t.getRole=t.getRole.bind(Z(t)),t.getValue=t.getValue.bind(Z(t)),t.getFeildValues=t.getFeildValues.bind(Z(t)),t.handleChange=t.handleChange.bind(Z(t)),t.getPoint=t.getPoint.bind(Z(t)),t.getGeomFromJson=t.getGeomFromJson.bind(Z(t)),t.getGeom=t.getGeom.bind(Z(t)),t}return t=l,(a=[{key:"componentDidMount",value:function(){this.getRolesForOption(),this.getFeildValues()}},{key:"getRolesForOption",value:function(){var e=this;_.a.getRoleList().then((function(t){var a=t.success,n=t.roles;a&&e.setState({role_list:n})}))}},{key:"getRole",value:function(e){var t=this;this.setState({emp_role_id:e,is_inspire_role:!1,is_inspire_role_null:!1}),e?_.a.getRole(e).then((function(e){var a=e.success,n=(e.role_name,e.role_id,e.role_description,e.roles);a&&t.setState({roles:n,is_inspire_role:!0})})):new Promise((function(e,a){setTimeout((function(){t.setState({roles:{},is_inspire_role_null:!0})}),300)}))}},{key:"getValue",value:function(e,t,a,n,r,o,i,l){var s=this;if(!e&&this.perms.length>0&&this.perms.map((function(e,r){e.feature_id==n&&e.property_id==a&&e.perm_kind==t&&s.perms.splice(r,1)})),e){var c={feature_id:n,property_id:a,perm_kind:t,gov_perm_ins_id:r,emp_role_ins_id:l||null};this.perms.push(c)}}},{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setSubmitting,o=t.setErrors,i=this.state.emp_role_id,l=this.state,s={street:l.street,apartment:l.apartment,door_number:l.door_number,level_1:l.aimag_name,level_2:l.sum_name,level_3:l.horoo_name,point_coordinate:l.point_coordinate};_.a.createEmployee(e,i,this.perms,s).then((function(e){var t=e.success,i=e.errors,l=e.info;t?(n("saved"),a.setState({model_type_icon:"success",modal_alert_status:"open",title:l})):i&&o(i),r(!1)})).catch((function(e){alert("Алдаа гарсан байна"),r(!1)}))}},{key:"modalClose",value:function(){this.props.history.push(this.state.prefix)}},{key:"getFeildValues",value:function(e,t,a){var n,r,o=this,i=Object();_.a.formOptions().then((function(l){var s=l.success,c=l.info;s&&(e&&(i.aimag_id=o.getGeomFromJson(e,c),n=c[i.aimag_id].geo_id,i.aimag_geo_id=n,i.aimag_name=e,r=c[i.aimag_id].children,i.sum=r),t&&(i.sum_id=o.getGeomFromJson(t,r),n=r[i.sum_id].geo_id,i.sum_geo_id=n,r=r[i.sum_id].children,i.horoo=r,i.sum_name=t),a&&(i.horoo_id=o.getGeomFromJson(a,r),n=r[i.horoo_id].geo_id,i.horoo_geo_id=n,i.horoo_name=a),o.getGeom(n),o.setState(X({aimag:c},i)))}))}},{key:"getGeom",value:function(e){var t=this;_.a.getGeom(e).then((function(a){var n=a.feature;n&&t.setState({feature:n,last_geo_id:e})}))}},{key:"getPoint",value:function(e,t){var a=e;"string"==typeof e&&(a=e.split(","));var n=[a[1],a[0]];this.setState({point_coordinate:n,map_coordinate:t})}},{key:"handleChange",value:function(e,t,a,n,r){var o,i=t+"_id",l=t+"_geo_id",s=t+"_name",c=e.target.value,m=Object();if("-1"!==c){var u=this.state[t][c];this.setState(Y({},a,u.children)),a&&(m[a]=u.children),o=u.geo_id,n.map((function(e,t){var a=e+"_geo_id",n=e+"_name";m[e+"_id"]=-1,m[a]="",m[n]=""})),m[l]=o,m[s]=u.name,this.getGeom(o)}else{if(n.length>0&&n.map((function(e,t){var a=e+"_id",n=e+"_geo_id",r=e+"_name";m[e]=[],m[a]=-1,m[n]="",m[r]=""})),"mongol"!==r){var p=r+"_id",d=this.state[p];o=this.state[r][d].geo_id}else o="au_496";m[l]=o,this.getGeom(o)}this.setState(X(Y({},i,c),m))}},{key:"getGeomFromJson",value:function(e,t){var a;return t.map((function(t,n){t.name==e&&(a=n)})),a}},{key:"render",value:function(){var e=this,t=this.state,a=t.form_values,o=t.roles,i=t.role_list,l=(t.emp_role_id,t.prefix),s=t.is_inspire_role,c=t.is_inspire_role_null,m=this.state,u=m.aimag,p=m.sum,d=m.horoo,_=m.aimag_id,y=m.sum_id,b=m.horoo_id,E=m.feature,N=m.street,O=m.apartment,k=m.door_number,S=m.point,w=m.is_address_map,j=this.props.org_roles;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement(f.e,{enableReinitialize:!0,initialValues:a,validationSchema:g.a,onSubmit:this.handleSubmit},(function(t){var a=t.errors,l=t.isSubmitting;return Object.keys(a).length,r.a.createElement(f.d,{className:"col-12"},r.a.createElement("div",null,r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("div",{className:"position-relative has-icon-right"},r.a.createElement("label",{htmlFor:"username"},"Нэвтрэх нэр:"),r.a.createElement(f.b,{className:"form-control "+(a.username?"is-invalid":""),name:"username",id:"id_username",type:"text",placeholder:"Нэвтрэх нэр"}),r.a.createElement(f.a,{name:"username",component:"div",className:"text-danger"}))),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("div",{className:"position-relative has-icon-right"},r.a.createElement("label",{htmlFor:"first_name"},"Овог:"),r.a.createElement(f.b,{className:"form-control "+(a.first_name?"is-invalid":""),name:"first_name",id:"id_first_name",type:"text",placeholder:"Овог"}),r.a.createElement(f.a,{name:"first_name",component:"div",className:"text-danger"})))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("div",{className:"position-relative has-icon-right"},r.a.createElement("label",{htmlFor:"last_name"},"Нэр:"),r.a.createElement(f.b,{className:"form-control "+(a.last_name?"is-invalid":""),name:"last_name",id:"id_last_name",type:"text",placeholder:"Нэр"}),r.a.createElement(f.a,{name:"last_name",component:"div",className:"text-danger"}))),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"position"},"Албан тушаал:"),r.a.createElement(f.b,{className:"form-control "+(a.position?"is-invalid":""),name:"position",id:"id_position",type:"text",placeholder:"Албан тушаал"}),r.a.createElement(f.a,{name:"position",component:"div",className:"text-danger"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"email"},"Цахим хаяг"),r.a.createElement(f.b,{className:"form-control "+(a.email?"is-invalid":""),name:"email",id:"id_email",type:"text",placeholder:"Цахим хаяг"}),r.a.createElement(f.a,{name:"email",component:"div",className:"text-danger"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"gender"},"Хүйс:"),r.a.createElement(n.Fragment,null,r.a.createElement(f.b,Y({name:"gender",as:"select",className:"form-control"},"className","form-control "+(a.gender?"is-invalid":"")),r.a.createElement("option",null,"Эрэгтэй"),r.a.createElement("option",null,"Эмэгтэй")),r.a.createElement(f.a,{name:"gender",component:"div",className:"text-dange"})))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"register"},"Регистер:"),r.a.createElement(f.b,{className:"form-control "+(a.register?"is-invalid":""),name:"register",id:"id_register",type:"text",placeholder:"Регистер"}),r.a.createElement(f.a,{name:"register",component:"div",className:"text-danger"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"choose_role"},"Role: "),r.a.createElement("select",{className:"form-control "+(a.choose_role?"is-invalid":""),id:"choose_role",name:"choose_role",onChange:function(t){return e.getRole(t.target.value)}},r.a.createElement("option",{value:""},"--- Role сонгоно уу ---"),i.length>0&&i.map((function(e,t){return r.a.createElement("option",{key:t,value:e.role_id},e.role_name)}))),r.a.createElement(f.a,{name:"choose_role",component:"div",className:"text-danger"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"phone_number"},"Утасны дугаар:"),r.a.createElement(f.b,{className:"form-control "+(a.phone_number?"is-invalid":""),name:"phone_number",id:"id_phone_number",type:"text",placeholder:"Утасны дугаар"}),r.a.createElement(f.a,{name:"phone_number",component:"div",className:"text-danger"})),r.a.createElement("div",{className:"form-group col-md-6 mt-1 text-center"},r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"is_admin"},"Байгууллагын админ"),r.a.createElement(f.b,{className:"ml-2",name:"is_admin",id:"id_is_admin",type:"checkbox"}),r.a.createElement(f.a,{name:"is_admin",component:"div",className:"text-danger"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("button",{className:"btn btn-primary btn-block mb-2",type:"button",onClick:function(){w&&e.state.last_geo_id&&e.getGeom(e.state.last_geo_id),e.setState({is_address_map:!w})}},w?"Гэрийн хаяг оруулах":"Role сонгох"))),r.a.createElement("div",null,w&&(s||c)?r.a.createElement(v.default,{action_type:"editable",is_employee:!0,getValue:e.getValue,dontDid:!0,org_roles:j,role:o,is_inspire_role_null:c,editable_is_check:e.perms}):r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-row p-1"},r.a.createElement("div",{className:"form-group col-4"},r.a.createElement("label",{htmlFor:"aimag"},"Аймаг/Хот:"),r.a.createElement("select",{id:"aimag",className:"form-control "+(a.level_1?"is-invalid":""),"aria-label":"Default select example",onChange:function(t){return e.handleChange(t,"aimag","sum",["sum","horoo"],"mongol")},value:_},r.a.createElement("option",{value:"-1"},"--- Аймаг/Хот сонгох ---"),u.map((function(e,t){return r.a.createElement("option",{key:t,value:t},e.name)})))),r.a.createElement("div",{className:"form-group col-4"},r.a.createElement("label",{htmlFor:"sum"},"Сум/Дүүрэг:"),r.a.createElement("select",{id:"sum",className:"form-control "+(a.level_2?"is-invalid":""),onChange:function(t){return e.handleChange(t,"sum","horoo",["horoo"],"aimag")},value:y},r.a.createElement("option",{value:"-1"},"--- Сум/Дүүрэг сонгох ---"),p.map((function(e,t){return r.a.createElement("option",{key:t,value:t},e.name)})))),r.a.createElement("div",{className:"form-group col-4"},r.a.createElement("label",{htmlFor:"horoo"},"Хороо/Баг:"),r.a.createElement("select",{id:"horoo",className:"form-control "+(a.level_3?"is-invalid":""),onChange:function(t){return e.handleChange(t,"horoo",void 0,[],"sum")},value:b},r.a.createElement("option",{value:"-1"},"--- Баг/Хороо сонгох ---"),d.map((function(e,t){return r.a.createElement("option",{key:t,value:t},e.name)})))),r.a.createElement("div",{className:"form-group col-4"},r.a.createElement("label",{htmlFor:"street"},"Гудамж:"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{id:"street",className:"form-control "+(a.street?"is-invalid":""),onChange:function(t){return e.setState({street:t.target.value})},value:N,placeholder:"Гудамжны нэрийг оруулах"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},"гудамж")))),r.a.createElement("div",{className:"form-group col-4"},r.a.createElement("label",{htmlFor:"apartment"},"Байр:"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{id:"apartment",className:"form-control "+(a.apartment?"is-invalid":""),onChange:function(t){return e.setState({apartment:t.target.value})},value:O,placeholder:"Байрны дугаарыг оруулах"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},"байр")))),r.a.createElement("div",{className:"form-group col-4"},r.a.createElement("label",{htmlFor:"door_number"},"Хаалганы дугаар:"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{id:"door_number",className:"form-control "+(a.door_number?"is-invalid":""),onChange:function(t){return e.setState({door_number:t.target.value})},value:k,placeholder:"Хаалганы дугаарыг оруулах"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},"тоот"))))),r.a.createElement(L,{feature:E,sendPointCoordinate:e.getPoint,map_coordinate:e.state.map_coordinate,point:S,is_marker:e.state.is_address_map,class:a.point?"border border-danger":""}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary waves-effect waves-light m-1",disabled:l},l&&r.a.createElement("i",{className:"fa fa-spinner fa-spin"}),l&&r.a.createElement("a",{className:"text-light"},"Шалгаж байна."),!l&&"Хадгалах"))))})))),r.a.createElement(h.a,{modalAction:function(){return e.modalClose()},status:this.state.modal_alert_status,title:this.state.title,model_type_icon:this.state.model_type_icon}),r.a.createElement(B.a,U({},this.props,{name:"Буцах",navlink_url:l})))}}])&&H(t.prototype,a),o&&H(t,o),l}(n.Component),te=a(237),ae=a(187),ne=a(59);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(a),!0).forEach((function(t){se(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function se(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ce(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=fe(e);if(t){var r=fe(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return pe(this,a)}}function pe(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?de(e):t}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(l,e);var t,a,o,i=ue(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).too=0,t.perms=[],t.role=[],t.remove_perms=[],t.emp_perms=[],t.state={form_values:{username:"",last_name:"",first_name:"",position:"",email:"",gender:"",register:"",phone_number:"",is_admin:!1},modal_status:"closed",is_loading:!0,roles:{},perms:{},role_id:"",old_role_id:null,is_inspire_role:!1,is_inspire_role_null:!1,prefix:"/gov/perm/employee/",id:t.props.match.params.id,role_list:[],modal_alert_status:"closed",timer:null,model_type_icon:"",title:"",is_address_map:!1,aimag:[],sum:[],horoo:[],aimag_id:-1,sum_id:-1,horoo_id:-1,aimag_name:"",sum_name:"",horoo_name:"",aimag_geo_id:"",sum_geo_id:"",horoo_geo_id:"",feature:{},description:"",point_coordinate:[],point:{},street:"",apartment:"",door_number:"",map_coordinate:[],is_marker:!0},t.handleSubmit=t.handleSubmit.bind(de(t)),t.getRolesForOption=t.getRolesForOption.bind(de(t)),t.getDetail=t.getDetail.bind(de(t)),t.getRole=t.getRole.bind(de(t)),t.getValue=t.getValue.bind(de(t)),t.removeItemFromArray=t.removeItemFromArray.bind(de(t)),t.removeItemFromRemoveRoles=t.removeItemFromRemoveRoles.bind(de(t)),t.checkRoleAndPerm=t.checkRoleAndPerm.bind(de(t)),t.modalClose=t.modalClose.bind(de(t)),t.modalCloseTime=t.modalCloseTime.bind(de(t)),t.handleModalOpen=t.handleModalOpen.bind(de(t)),t.handleModalClose=t.handleModalClose.bind(de(t)),t.addNotif=t.addNotif.bind(de(t)),t.handleSendMail=t.handleSendMail.bind(de(t)),t.getFeildValues=t.getFeildValues.bind(de(t)),t.handleChange=t.handleChange.bind(de(t)),t.getPoint=t.getPoint.bind(de(t)),t.getGeomFromJson=t.getGeomFromJson.bind(de(t)),t.getGeom=t.getGeom.bind(de(t)),t.refreshMap=t.refreshMap.bind(de(t)),t}return t=l,(a=[{key:"componentDidMount",value:function(){this.perms=[],this.role=[],this.remove_perms=[],this.emp_perms=[],this.getDetail(),this.getFeildValues()}},{key:"getDetail",value:function(){var e=this,t=this.state.id;_.a.getDetailEmployee(t).then((function(t){var a=t.success,n=t.employee_detail,r=t.role_id,o=t.perms;a&&(e.getFeildValues(n.level_1,n.level_2,n.level_3),e.setState({perms:o,role_id:r,old_role_id:r,is_loading:!1,form_values:{username:n.username,last_name:n.last_name,first_name:n.first_name,position:n.position,email:n.email,gender:n.gender,register:n.register,phone_number:n.phone_number,is_admin:n.is_admin},point:n.point,street:n.street,apartment:n.apartment,door_number:n.door_number}),e.getRolesForOption())}))}},{key:"getRolesForOption",value:function(){var e=this;_.a.getRoleList().then((function(t){var a=t.success,n=t.roles;a&&(e.setState({role_list:n}),e.getRole(e.state.role_id))}))}},{key:"getRole",value:function(e){var t=this;this.perms=[],this.emp_perms=[],this.setState({role_id:e,is_inspire_role:!1,is_inspire_role_null:!1}),e?_.a.getRole(e).then((function(e){var a=e.success,n=e.roles;a&&(t.role=[],t.setState({roles:n,is_inspire_role:!0}))})):new Promise((function(e,a){setTimeout((function(){t.setState({roles:{},is_inspire_role_null:!0})}),300)}))}},{key:"getValue",value:function(e,t,a,n,r,o,i,l,s){if(e||null!=o||this.removeItemFromArray(this.role,n,a,t,l,s),!e&&this.perms.length>0&&this.removeItemFromArray(this.perms,n,a,t),e&&!o&&!s||e&&("role"==o||"perms"==o)){var c={feature_id:n,property_id:a,perm_kind:t,gov_perm_ins_id:r,emp_role_ins_id:l||null};"role"==o&&this.role.push(c),"perms"==o?this.emp_perms.push(c):this.perms.push(c)}s&&e&&null==o&&this.remove_perms.length>0&&this.removeItemFromRemoveRoles(l)}},{key:"removeItemFromArray",value:function(e,t,a,n,r,o){o?this.remove_perms.push(r):e.map((function(r,o){r.feature_id==t&&r.property_id==a&&r.perm_kind==n&&e.splice(o,1)}))}},{key:"removeItemFromRemoveRoles",value:function(e){var t=this;this.remove_perms.map((function(a,n){a==e&&t.remove_perms.splice(n,1)}))}},{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setSubmitting,o=t.setErrors,i=e.username,l=e.first_name,s=e.last_name,c=e.position,m=e.email,u=e.gender,p=e.register,d=e.phone_number,f=e.is_admin,h=this.state,v=h.id,g=h.role_id,y=this.state,b={street:y.street,apartment:y.apartment,door_number:y.door_number,level_1:y.aimag_name,level_2:y.sum_name,level_3:y.horoo_name,point:y.point_coordinate};this.checkRoleAndPerm(),_.a.updateEmployee(i,l,s,c,m,u,p,d,f,g,v,this.perms,this.remove_perms,b).then((function(e){var t=e.success,i=e.info,l=e.errors;t?(n("saved"),a.setState({model_type_icon:"success",modal_alert_status:"open",title:i}),a.modalCloseTime(),a.props.getEmpRoles()):l&&o(l),r(!1)})).catch((function(e){alert("Алдаа гарсан байна"),r(!1)}))}},{key:"checkRoleAndPerm",value:function(){var e=this;this.role.map((function(t,a){e.emp_perms.map((function(a,n){t.property_id==a.property_id&&t.feature_id==a.feature_id&&t.perm_kind==a.perm_kind&&(e.remove_perms.find((function(e){return e==a.gov_perm_ins_id}))||e.remove_perms.push(a.gov_perm_ins_id))}))}))}},{key:"modalClose",value:function(){this.setState({handleSaveIsLoad:!1}),this.props.history.push(this.state.prefix),this.setState({modal_alert_status:"closed"}),clearTimeout(this.state.timer)}},{key:"modalCloseTime",value:function(){var e=this;setTimeout((function(){e.setState({handleSaveIsLoad:!1}),e.props.history.push(e.state.prefix),e.setState({modal_alert_status:"closed"})}),2e3)}},{key:"handleModalOpen",value:function(){this.setState({modal_status:"open"})}},{key:"handleModalClose",value:function(){this.setState({modal_status:"closed"})}},{key:"addNotif",value:function(e,t,a){var n=this;this.too++,this.setState({show:!0,style:e,msg:t,icon:a});var r=setInterval((function(){n.too--,n.setState({show:!0}),clearInterval(r)}),2e3)}},{key:"handleSendMail",value:function(){var e=this;this.setState({modal_status:"closed"}),this.setState({is_loading:!0});var t=this.state.form_values.username;_.a.sendMail(t).then((function(t){var a=t.success,n=t.info;a&&(e.setState({is_loading:!1}),e.addNotif("success",n,"check"))}))}},{key:"getFeildValues",value:function(e,t,a){var n,r,o=this,i=Object();_.a.formOptions().then((function(l){var s=l.success,c=l.info;s&&(e&&(i.aimag_id=o.getGeomFromJson(e,c),n=c[i.aimag_id].geo_id,i.aimag_geo_id=n,i.aimag_name=e,r=c[i.aimag_id].children,i.sum=r),t&&(i.sum_id=o.getGeomFromJson(t,r),n=r[i.sum_id].geo_id,i.sum_geo_id=n,r=r[i.sum_id].children,i.horoo=r,i.sum_name=t),a&&(i.horoo_id=o.getGeomFromJson(a,r),n=r[i.horoo_id].geo_id,i.horoo_geo_id=n,i.horoo_name=a),o.getGeom(n),o.setState(le({aimag:c},i)))}))}},{key:"getGeom",value:function(e){var t=this;_.a.getGeom(e).then((function(a){var n=a.feature;n&&t.setState({feature:n,last_geo_id:e})}))}},{key:"getPoint",value:function(e,t){var a=e;"string"==typeof e&&(a=e.split(","));var n=[a[1],a[0]];this.setState({point_coordinate:n,map_coordinate:t})}},{key:"handleChange",value:function(e,t,a,n,r){var o,i=t+"_id",l=t+"_geo_id",s=t+"_name",c=e.target.value,m=Object();if("-1"!==c){var u=this.state[t][c];this.setState(se({},a,u.children)),a&&(m[a]=u.children),o=u.geo_id,n.map((function(e,t){var a=e+"_geo_id",n=e+"_name";m[e+"_id"]=-1,m[a]="",m[n]=""})),m[l]=o,m[s]=u.name,this.getGeom(o)}else{if(n.length>0&&n.map((function(e,t){var a=e+"_id",n=e+"_geo_id",r=e+"_name";m[e]=[],m[a]=-1,m[n]="",m[r]=""})),"mongol"!==r){var p=r+"_id",d=this.state[p];o=this.state[r][d].geo_id}else o="au_496";m[l]=o,this.getGeom(o)}this.setState(le(se({},i,c),m))}},{key:"getGeomFromJson",value:function(e,t){var a;return t.map((function(t,n){t.name==e&&(a=n)})),a}},{key:"refreshMap",value:function(){var e=this.state,t=e.last_geo_id,a=e.is_address_map,n=e.is_marker,r=e.point,o=Object();o.is_address_map=!a,a&&t&&(o.is_marker=!n,o.point=r,this.getGeom(t)),this.setState(le({},o))}},{key:"render",value:function(){var e=this,t=this.state,a=t.form_values,o=t.roles,i=t.role_list,l=t.prefix,s=t.is_inspire_role,c=t.is_inspire_role_null,m=t.perms,u=t.old_role_id,p=t.role_id,d=(t.id,t.is_address_map),_=this.state,y=_.aimag,b=_.sum,E=_.horoo,N=_.aimag_id,O=_.sum_id,k=_.horoo_id,S=_.feature,w=_.street,j=_.apartment,R=_.door_number,P=_.point,C=this.props.org_roles;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement(f.e,{enableReinitialize:!0,initialValues:a,validationSchema:g.a,onSubmit:this.handleSubmit},(function(t){var l=t.errors,_=t.isSubmitting;return Object.keys(l).length,r.a.createElement(f.d,{className:"col-12"},r.a.createElement(ne.a,{is_loading:e.state.is_loading}),r.a.createElement("div",null,r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("div",{className:"position-relative has-icon-right"},r.a.createElement("label",{htmlFor:"username"},"Нэвтрэх нэр:"),r.a.createElement(f.b,{className:"form-control "+(l.username?"is-invalid":""),name:"username",id:"id_username",type:"text",placeholder:"Нэвтрэх нэр"}),r.a.createElement(f.a,{name:"username",component:"div",className:"text-danger"}))),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("div",{className:"position-relative has-icon-right"},r.a.createElement("label",{htmlFor:"first_name"},"Овог:"),r.a.createElement(f.b,{className:"form-control "+(l.first_name?"is-invalid":""),name:"first_name",id:"id_first_name",type:"text",placeholder:"Овог"}),r.a.createElement(f.a,{name:"first_name",component:"div",className:"text-danger"})))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("div",{className:"position-relative has-icon-right"},r.a.createElement("label",{htmlFor:"last_name"},"Нэр:"),r.a.createElement(f.b,{className:"form-control "+(l.last_name?"is-invalid":""),name:"last_name",id:"id_last_name",type:"text",placeholder:"Нэр"}),r.a.createElement(f.a,{name:"last_name",component:"div",className:"text-danger"}))),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"position"},"Албан тушаал:"),r.a.createElement(f.b,{className:"form-control "+(l.position?"is-invalid":""),name:"position",id:"id_position",type:"text",placeholder:"Албан тушаал"}),r.a.createElement(f.a,{name:"position",component:"div",className:"text-danger"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"email"},"Цахим хаяг"),r.a.createElement(f.b,{className:"form-control "+(l.email?"is-invalid":""),name:"email",id:"id_email",type:"text",placeholder:"Цахим хаяг"}),r.a.createElement(f.a,{name:"email",component:"div",className:"text-danger"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"gender"},"Хүйс:"),r.a.createElement(n.Fragment,null,r.a.createElement(f.b,se({name:"gender",as:"select",className:"form-control"},"className","form-control "+(l.gender?"is-invalid":"")),r.a.createElement("option",null,"Эрэгтэй"),r.a.createElement("option",null,"Эмэгтэй")),r.a.createElement(f.a,{name:"gender",component:"div",className:"text-dange"})))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"register"},"Регистер:"),r.a.createElement(f.b,{className:"form-control "+(l.register?"is-invalid":""),name:"register",id:"id_register",type:"text",placeholder:"Регистер"}),r.a.createElement(f.a,{name:"register",component:"div",className:"text-danger"})),e.props.employee.is_admin&&r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"choose_role"},"Role: "),r.a.createElement("select",{className:"form-control",id:"choose_role",name:"choose_role",value:e.state.role_id,onChange:function(t){return e.getRole(t.target.value)}},r.a.createElement("option",{value:""},"--- Role сонгоно уу ---"),i.length>0&&i.map((function(e,t){return r.a.createElement("option",{key:t,value:e.role_id},e.role_name)}))))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("div",{className:"position-relative has-icon-right"},r.a.createElement("label",{htmlFor:"phone_number"},"Утасны дугаар:"),r.a.createElement(f.b,{className:"form-control "+(l.phone_number?"is-invalid":""),name:"phone_number",id:"id_phone_number",type:"text",placeholder:"Утасны дугаар"}),r.a.createElement(f.a,{name:"phone_number",component:"div",className:"text-danger"}))),e.props.employee.is_admin&&r.a.createElement("div",{className:"form-group col-md-3 mt-1 text-center"},r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"is_admin"},"Байгууллагын админ"),r.a.createElement(f.b,{className:"ml-2",name:"is_admin",id:"id_is_admin",type:"checkbox"}),r.a.createElement(f.a,{name:"is_admin",component:"div",className:"text-danger"})),e.props.employee.username==a.username||e.props.employee.is_admin?r.a.createElement("div",{className:"col-md-3 mt-1 text-center"},r.a.createElement("br",null),r.a.createElement("button",{type:"button",className:"btn gp-btn-primary btn-sm","aria-hidden":"true",onClick:e.handleModalOpen}," Нууц үг солих имэйл илгээх")):null),r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("button",{className:"btn btn-primary btn-block mb-2",type:"button",onClick:function(){return e.refreshMap()}},d?"Гэрийн хаяг оруулах":"Role сонгох")),r.a.createElement("div",null,d&&(s||c)?r.a.createElement(v.default,{action_type:"editable",is_employee:!0,getValue:e.getValue,dontDid:!0,org_roles:C,role:o,is_inspire_role_null:c,editable_is_check:e.perms,emp_perms:u==p?m:null}):r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-row p-1"},r.a.createElement("div",{className:"form-group col-4"},r.a.createElement("label",{htmlFor:"aimag"},"Аймаг/Хот:"),r.a.createElement("select",{id:"aimag",className:"form-control "+(l.level_1?"is-invalid":""),"aria-label":"Default select example",onChange:function(t){return e.handleChange(t,"aimag","sum",["sum","horoo"],"mongol")},value:N},r.a.createElement("option",{value:"-1"},"--- Аймаг/Хот сонгох ---"),y.map((function(e,t){return r.a.createElement("option",{key:t,value:t},e.name)})))),r.a.createElement("div",{className:"form-group col-4"},r.a.createElement("label",{htmlFor:"sum"},"Сум/Дүүрэг:"),r.a.createElement("select",{id:"sum",className:"form-control "+(l.level_2?"is-invalid":""),onChange:function(t){return e.handleChange(t,"sum","horoo",["horoo"],"aimag")},value:O},r.a.createElement("option",{value:"-1"},"--- Сум/Дүүрэг сонгох ---"),b.map((function(e,t){return r.a.createElement("option",{key:t,value:t},e.name)})))),r.a.createElement("div",{className:"form-group col-4"},r.a.createElement("label",{htmlFor:"horoo"},"Хороо/Баг:"),r.a.createElement("select",{id:"horoo",className:"form-control "+(l.level_3?"is-invalid":""),onChange:function(t){return e.handleChange(t,"horoo",void 0,[],"sum")},value:k},r.a.createElement("option",{value:"-1"},"--- Баг/Хороо сонгох ---"),E.map((function(e,t){return r.a.createElement("option",{key:t,value:t},e.name)})))),r.a.createElement("div",{className:"form-group col-4"},r.a.createElement("label",{htmlFor:"street"},"Гудамж:"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{id:"street",className:"form-control "+(l.street?"is-invalid":""),onChange:function(t){return e.setState({street:t.target.value})},value:w,placeholder:"Гудамжны нэрийг оруулах"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},"гудамж")))),r.a.createElement("div",{className:"form-group col-4"},r.a.createElement("label",{htmlFor:"apartment"},"Байр:"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{id:"apartment",className:"form-control "+(l.apartment?"is-invalid":""),onChange:function(t){return e.setState({apartment:t.target.value})},value:j,placeholder:"Байрны дугаарыг оруулах"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},"байр")))),r.a.createElement("div",{className:"form-group col-4"},r.a.createElement("label",{htmlFor:"door_number"},"Хаалганы дугаар:"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{id:"door_number",className:"form-control "+(l.door_number?"is-invalid":""),onChange:function(t){return e.setState({door_number:t.target.value})},value:R,placeholder:"Хаалганы дугаарыг оруулах"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},"тоот"))))),r.a.createElement(L,{feature:S,sendPointCoordinate:e.getPoint,map_coordinate:e.state.map_coordinate,point:P,is_marker:e.state.is_marker,class:l.point?"border border-danger":""}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary waves-effect waves-light m-1",disabled:_},_&&r.a.createElement("i",{className:"fa fa-spinner fa-spin"}),_&&r.a.createElement("a",{className:"text-light"},"Шалгаж байна."),!_&&"Хадгалах"))))})))),r.a.createElement(te.a,{title:"Та нууц үг солих имэйл илгээхдээ итгэлтэй байна уу?",model_type_icon:"warning",status:this.state.modal_status,modalClose:this.handleModalClose,modalAction:function(){return e.handleSendMail()},actionNameDelete:"Илгээх"}),r.a.createElement(h.a,{modalAction:function(){return e.modalClose()},status:this.state.modal_alert_status,title:this.state.title,model_type_icon:this.state.model_type_icon}),r.a.createElement(ae.a,{show:this.state.show,too:this.too,style:this.state.style,msg:this.state.msg,icon:this.state.icon}),r.a.createElement(B.a,oe({},this.props,{name:"Буцах",navlink_url:l})))}}])&&ce(t.prototype,a),o&&ce(t,o),l}(n.Component);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Ne(e);if(t){var r=Ne(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return be(this,a)}}function be(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?Ee(e):t}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(l,e);var t,a,o,i=ye(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).state={modal_status_confirm:"closed"},t.handleButtonClick=t.handleButtonClick.bind(Ee(t)),t.modalClose=t.modalClose.bind(Ee(t)),t}return t=l,(a=[{key:"handleButtonClick",value:function(){var e=this;this.setState({modal_status_confirm:"open"},(function(){e.setState({modal_status_confirm:"initial"})}))}},{key:"modalClose",value:function(){this.setState({modal_status_confirm:"closed"})}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("span",{onClick:this.handleButtonClick,className:"btn btn-primary waves-effect waves-light m-1"},r.a.createElement("i",{className:"fa fa-refresh"})," Токен шинэчлэх"),r.a.createElement(te.a,{text:"Токенийг шинэчилсэнээр уг URL-ээр одоо ашиглаж байгаа газрууд ажиллахгүй болохыг анхаарна уу!",title:"Токен шинэчлэх",model_type_icon:"warning",actionNameDelete:"Шинэчлэх",status:this.state.modal_status_confirm,modalAction:this.props.onClick,modalClose:this.modalClose}),r.a.createElement(h.a,{status:"success"==this.props.status?"open":"closed",title:this.props.status_info,model_type_icon:"success"}),r.a.createElement(h.a,{status:"fail"==this.props.status?"open":"closed",title:this.props.status_info,model_type_icon:"danger"}))}}])&&ve(t.prototype,a),o&&ve(t,o),l}(n.Component),ke=a(30);function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function we(e){return r.a.createElement(ke.c,Se({},e,{className:"btn btn-primary waves-effect waves-light m-1"}),r.a.createElement("i",{className:"fa fa-pencil-square-o"})," Засах")}var je=a(888);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Me(e);if(t){var r=Me(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return xe(this,a)}}function xe(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?De(e):t}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(l,e);var t,a,o,i=Fe(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).state={modal_status_confirm:"closed"},t.handleButtonClick=t.handleButtonClick.bind(De(t)),t.modalClose=t.modalClose.bind(De(t)),t}return t=l,(a=[{key:"handleButtonClick",value:function(){var e=this;this.setState({modal_status_confirm:"open"},(function(){e.setState({modal_status_confirm:"initial"})}))}},{key:"modalClose",value:function(){this.setState({modal_status_confirm:"closed"})}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("span",{onClick:this.handleButtonClick,className:"btn btn-danger waves-effect waves-light m-1"},r.a.createElement("i",{className:"fa fa fa-trash-o"})," Устгах"),r.a.createElement(te.a,{text:'Та "'.concat(this.props.employee_name,'" нэртэй албан хаагчийг устгахдаа итгэлтэй байна уу?'),title:"Албан хаагчийг устгах",model_type_icon:"warning",actionName:"Устгах",status:this.state.modal_status_confirm,modalAction:this.props.onClick,modalClose:this.modalClose}),r.a.createElement(je.a,{status:"success"==this.props.status?"open":"closed",title:"Албан хаагчийг амжилттай устгалаа!",model_type_icon:"success",modalAction:this.props.onSuccess}),r.a.createElement(je.a,{status:"fail"==this.props.status?"open":"closed",title:"Устгахад алдаа гарлаа!",model_type_icon:"danger"}))}}])&&Pe(t.prototype,a),o&&Pe(t,o),l}(n.Component);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Je(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=qe(e);if(t){var r=qe(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Le(this,a)}}function Le(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?Be(e):t}function Be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(i,e);var t,a,n,o=Ie(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={employee:{id:"",username:"",first_name:"",last_name:"",email:"",gender:"",register:"",phone_number:"",position:"",is_admin:!1,is_super:!1},prefix:"/gov/perm/employee/",role_id:t.props.match.params.id,perms:{},role_name:"",roles:{},is_inspire_role:!1,is_inspire_role_null:!1,status_token_refresh:"initial",status_delete:"initial"},t.getDetail=t.getDetail.bind(Be(t)),t.getRole=t.getRole.bind(Be(t)),t.handleTokenRefresh=t.handleTokenRefresh.bind(Be(t)),t.handleDelete=t.handleDelete.bind(Be(t)),t.handleDeleteSuccess=t.handleDeleteSuccess.bind(Be(t)),t}return t=i,(a=[{key:"componentDidMount",value:function(){this.getDetail()}},{key:"getDetail",value:function(){var e=this,t=this.state.role_id;_.a.getDetailEmployee(t).then((function(t){var a=t.employee_detail,n=t.perms,r=t.role_name,o=t.role_id;t.success&&e.setState({employee:a,perms:n,role_name:r}),e.getRole(o)}))}},{key:"getRole",value:function(e){var t=this;this.setState({role_id:e,is_inspire_role:!1,is_inspire_role_null:!1}),e?_.a.getRole(e).then((function(e){var a=e.success,n=e.roles;a&&t.setState({roles:n,is_inspire_role:!0,is_inspire_role_null:!1})})):new Promise((function(e,a){setTimeout((function(){t.setState({roles:{},is_inspire_role_null:!0})}),300)}))}},{key:"handleTokenRefresh",value:function(){var e=this;this.setState({status_token_refresh:"loading"}),_.a.empTokenRefresh(this.state.employee.id).then((function(t){var a=t.success,n=t.info;a&&e.getDetail(),e.setState({status_token_refresh:a?"success":"fail",info_token_refresh:n})}))}},{key:"handleDelete",value:function(){var e=this;this.setState({status_delete:"loading"});var t=this.state.employee.id;_.a.deleteEmployee(t).then((function(t){var a=t.success;e.setState({status_delete:a?"success":"fail"})}))}},{key:"handleDeleteSuccess",value:function(){this.props.history.push("".concat(this.state.prefix))}},{key:"render",value:function(){var e=this.props.match.params.id,t=this.state,a=t.prefix,n=t.roles,o=t.is_inspire_role,i=t.is_inspire_role_null,l=t.perms,s=t.role_name,c=this.state.employee,m=c.username,u=c.last_name,p=c.first_name,d=c.position,f=c.email,_=c.gender,h=c.register,g=c.phone_number,y=c.is_admin,b=c.is_active,E=c.token,N=c.created_at,O=c.updated_at,k=c.level_1,S=c.level_2,w=c.level_3,j=c.street,R=c.apartment,P=c.door_number,C=this.state,F=C.status_token_refresh,x=C.status_delete,D=C.info_token_refresh,M=this.props.org_roles;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 p-0 text-right"},this.props.employee.is_admin||this.props.employee.username==m?r.a.createElement(Oe,{onClick:this.handleTokenRefresh,status:F,status_info:D}):null,this.props.employee.is_admin||this.props.employee.username==m?r.a.createElement(we,{to:"".concat(a).concat(e,"/edit/")}):null,this.props.employee.is_admin&&r.a.createElement(Te,{status:x,onClick:this.handleDelete,employee_name:p,onSuccess:this.handleDeleteSuccess}))),r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("dl",{className:"row"},r.a.createElement("dt",{className:"col-md-3"},"Нэвтрэх нэр:"),r.a.createElement("dd",{className:"col-md-9"},m),r.a.createElement("dt",{className:"col-md-3"},"Овог, нэр:"),r.a.createElement("dd",{className:"col-md-9"},u,", ",p),r.a.createElement("dt",{className:"col-md-3"},"Албан тушаал:"),r.a.createElement("dd",{className:"col-md-9"},d),r.a.createElement("dt",{className:"col-md-3"},"Токен:"),r.a.createElement("dd",{className:"col-md-9"},E)),r.a.createElement("dl",{className:"row"},r.a.createElement("dt",{className:"col-md-3"},"Бүртгэсэн:"),r.a.createElement("dd",{className:"col-md-9"},N),r.a.createElement("dt",{className:"col-md-3"},"Зассан:"),r.a.createElement("dd",{className:"col-md-9"},O))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("dl",{className:"row"},r.a.createElement("dt",{className:"col-md-3"},"Мэйл хаяг:"),r.a.createElement("dd",{className:"col-md-9"},f),r.a.createElement("dt",{className:"col-md-3"},"Хүйс:"),r.a.createElement("dd",{className:"col-md-9"},_),r.a.createElement("dt",{className:"col-md-3"},"Регистр:"),r.a.createElement("dd",{className:"col-md-9"},h),r.a.createElement("dt",{className:"col-md-3"},"Утасны дугаар:"),r.a.createElement("dd",{className:"col-md-9"},g),r.a.createElement("dt",{className:"col-md-3"},"Эрх:"),r.a.createElement("dd",{className:"col-md-9"},s)),k&&r.a.createElement("dl",{className:"row"},r.a.createElement("dt",{className:"col-md-3"},"Гэрийн хаяг:"),r.a.createElement("dd",{className:"col-md-9"},k+", "+S+", "+w+", "+j+" гудамж "+R+" байр, "+P+" тоот")),y&&r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-check-circle-o fa-lg","aria-hidden":"true"})," Байгууллагын админ"),!b&&r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-times-circle text-danger fa-lg","aria-hidden":"true"})," Нэвтрэх эрхгүй")))),r.a.createElement("div",null,o||i?r.a.createElement(v.default,{action_type:"viewable",is_employee:!0,dontDid:!0,org_roles:i?M:n,emp_perms:l,is_inspire_role_null:i}):null)),r.a.createElement(B.a,Ve({},this.props,{name:"Буцах",navlink_url:a})))}}])&&Je(t.prototype,a),n&&Je(t,n),i}(n.Component);function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ye(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=We(e);if(t){var r=We(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Qe(this,a)}}function Qe(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(l,e);var t,a,n,i=Ke(l);function l(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.call(this,e)}return t=l,(a=[{key:"render",value:function(){var e=this.props,t=e.org_roles,a=e.getEmpRoles,n=e.employee,i=this.props.employee,l=i.is_admin;return i.username,r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/gov/perm/employee/",component:function(e){return r.a.createElement(d,Xe({},e,{employee:n}))}}),r.a.createElement(o.a,{exact:!0,path:"/gov/perm/employee/:id/edit/",component:function(e){return r.a.createElement(_e,Xe({},e,{org_roles:t,getEmpRoles:a,employee:n}))}}),l&&r.a.createElement(o.a,{exact:!0,path:"/gov/perm/employee/add/",component:function(e){return r.a.createElement(ee,Xe({},e,{org_roles:t,employee:n}))}}),r.a.createElement(o.a,{exact:!0,path:"/gov/perm/employee/:id/detail/",component:function(e){return r.a.createElement(Ue,Xe({},e,{org_roles:t,employee:n}))}}))}}])&&Ye(t.prototype,a),n&&Ye(t,n),l}(n.Component)}}]);
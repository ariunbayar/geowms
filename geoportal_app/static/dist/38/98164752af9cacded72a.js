(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{544:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),o=n.n(r),a=n(30);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(f,e);var t,n,r,c=s(f);function f(){return i(this,f),c.apply(this,arguments)}return t=f,(n=[{key:"render",value:function(){return this.props.navlink_url?o.a.createElement(a.c,{className:"geo-back-btn geo-back-btn-toggled",to:this.props.navlink_url},o.a.createElement("i",{className:"fa fa-chevron-circle-left"}," ",this.props.name&&this.props.name)):this.props.back_url?o.a.createElement("a",{className:"geo-back-btn geo-back-btn-toggled",id:"geo-back-btn",onClick:this.props.history.push(this.props.back_url)},o.a.createElement("i",{className:"fa fa-chevron-circle-left"}," ",this.props.name&&this.props.name)):o.a.createElement("a",{className:"geo-back-btn geo-back-btn-toggled",id:"geo-back-btn",onClick:this.props.history.goBack},o.a.createElement("i",{className:"fa fa-chevron-circle-left"}," ",this.props.name&&this.props.name))}}])&&l(t.prototype,n),r&&l(t,r),f}(r.Component)},923:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return K}));var r=n(0),o=n.n(r),a=n(14),c=n(544),i=n(947);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,r,a=f(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={is_open:!1},t}return t=c,(n=[{key:"handleChecked",value:function(e){var t=e.target.checked;this.setState({is_open:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.layer,r=t.idx,a=this.state.is_open;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"custom-control custom-switch my-3"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"switch_atts-".concat(n.code,"-").concat(r),checked:a,onChange:function(t){return e.handleChecked(t)}}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"switch_atts-".concat(n.code,"-").concat(r)},"Талбаруудыг ",a?"хураах":"харах"," (",n.attributes.length,")")),a?o.a.createElement("ul",{key:r,id:"collapse-".concat(r),className:"collapsed","data-parent":"#accordion1"},n.attributes.map((function(e,t){return o.a.createElement("li",{key:t},o.a.createElement("label",{htmlFor:"active-delete-".concat(n.code,"-").concat(t)}," "," ",e.name," ",o.a.createElement("small",null,"(",e.code,")")))}))):null)}}])&&u(t.prototype,n),r&&u(t,r),c}(r.Component),b=n(49);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={paginatedList:function(e,t,n){var r=d(d({},Object(b.b)()),{},{body:JSON.stringify({page:e,per_page:t,query:n})});return fetch("/gov/api/system/",r).then(b.c)},detail:function(e){var t=d({},Object(b.a)());return fetch("/gov/api/system/".concat(e,"/detail/"),t).then(b.c)}};function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(u,e);var t,n,a,l=k(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).state={system:{},wms_list:[],public_url:"",copy_url_is:!1,private_url:"",is_state:!1},t}return t=u,(n=[{key:"componentDidMount",value:function(){var e=this;_.detail(this.props.match.params.system_id).then((function(t){var n=t.system,r=t.public_url,o=t.private_url;e.setState({system:n,wms_list:n.wms_list,public_url:r,private_url:o})}))}},{key:"copyToClipboard",value:function(e){i.a.copyToClipboard(e)}},{key:"render",value:function(){var e=this,t=this.state.system,n=(t.id,t.name),a=t.token,i=t.website,l=this.state.is_state;return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement(c.a,E({},this.props,{name:"Буцах"})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("h5",null,n),o.a.createElement("p",null,o.a.createElement("strong",null,"Token"),": ",a," "),i&&o.a.createElement("p",null,o.a.createElement("strong",null,"Вебсайт"),": ",i," ")),o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-9 pr-0 pl-0"},o.a.createElement("ul",{className:"nav nav-tabs nav-tabs-dark-gray col-12"},o.a.createElement("li",{className:"nav-item gp-text-primary"},o.a.createElement("a",{onClick:function(){return e.setState({is_state:!1})},className:"nav-link active","data-toggle":"tab",href:"#tabe-4"},o.a.createElement("i",{className:"icon-home"})," ",o.a.createElement("span",{className:"hidden-xs"},"Интернэт сүлжээ"))),o.a.createElement("li",{className:"nav-item gp-text-primary"},o.a.createElement("a",{onClick:function(){return e.setState({is_state:!0})},className:"nav-link","data-toggle":"tab",href:"#tabe-4"},o.a.createElement("i",{className:"icon-home"})," ",o.a.createElement("span",{className:"hidden-xs"},"Төрийн сүлжээ")))))),o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"col-md-9 border-top-0 border border-secondary"},o.a.createElement("div",{className:"col-md-12 mb-3 pt-3"},l?o.a.createElement("div",{className:"input-group pt-2"},o.a.createElement("input",{type:"text",className:"form-control col-9",disabled:!0,value:this.state.private_url}),o.a.createElement("span",{className:"input-group-btn"},o.a.createElement("button",{className:"btn btn-outline-primary ml-1",type:"button",onClick:function(){return e.copyToClipboard(e.state.private_url)}},o.a.createElement("i",{className:"fa fa-clone","aria-hidden":"true"})," Хуулах"))):o.a.createElement("div",{className:"input-group pt-2"},o.a.createElement("input",{type:"text",className:"form-control col-9",disabled:!0,value:this.state.public_url}),o.a.createElement("span",{className:"input-group-btn"},o.a.createElement("button",{className:"btn btn-outline-primary ml-1",type:"button",onClick:function(){return e.copyToClipboard(e.state.public_url)}},o.a.createElement("i",{className:"fa fa-clone","aria-hidden":"true"})," Хуулах")))),this.state.wms_list.map((function(t){return o.a.createElement("div",{className:"col-md-12 mt-3 mb-3 ml-3",key:t.id},t.layer_list.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h5",null," ",t.name," "),o.a.createElement("ul",null,t.layer_list.map((function(n,a){return o.a.createElement(r.Fragment,{key:a},o.a.createElement("li",{id:"accordion1"},"GeoJSON: ",n.title," (",n.code,")",o.a.createElement("div",{className:"input-group mt-2"},o.a.createElement("input",{type:"text",className:"form-control col-7",disabled:!0,value:"".concat(l?n.json_private_url:n.json_public_url)}),o.a.createElement("span",{className:"input-group-btn"},o.a.createElement("button",{className:"btn btn-outline-primary ml-1",type:"button",onClick:function(){return e.copyToClipboard(l?n.json_private_url:n.json_public_url)}},o.a.createElement("i",{className:"fa fa-clone","aria-hidden":"true"})," Хуулах")))),n&&o.a.createElement(y,{wms:t,idx:a,layer:n}))})))))})))))))}}])&&O(t.prototype,n),a&&O(t,a),u}(r.Component),S=n(941);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(c,e);var t,n,r,a=T(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={refresh:!1,"жагсаалтын_холбоос":"/gov/api/system/",custom_query:{},"талбарууд":[{field:"name",title:"Нэр",has_action:!0},{field:"token",title:"Токен"},{field:"created_at",title:"Огноо"}],"хувьсах_талбарууд":[{field:"name",action:function(e){return t.goLink(e)}}]},t}return t=c,(n=[{key:"goLink",value:function(e){this.props.history.push("/gov/system/".concat(e.id,"/дэлгэрэнгүй/"))}},{key:"render",value:function(){var e=this.state,t=(e.refresh,e.талбарууд),n=e.жагсаалтын_холбоос,r=e.хувьсах_талбарууд;return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement(S.a,{"талбарууд":t,"жагсаалтын_холбоос":n,per_page:20,"уншиж_байх_үед_зурвас":"Хүсэлтүүд уншиж байна","хувьсах_талбарууд":r,color:"primary"})))}}])&&C(t.prototype,n),r&&C(t,r),c}(r.Component);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,c=q(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),c.call(this,e)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(a.c,null,o.a.createElement(a.a,{exact:!0,path:"/gov/system/",component:D}),o.a.createElement(a.a,{exact:!0,path:"/gov/system/:system_id/дэлгэрэнгүй/",component:P}))}}])&&M(t.prototype,n),r&&M(t,r),i}(r.Component)},947:function(e,t,n){"use strict";(function(e){function r(e){return{"ШИНЭ":"text-success","ИЛГЭЭСЭН":"text-warning","ШИЙДВЭРЛЭГДСЭН":"text-primary"}[e]}function o(e){var t;return"ШИЙДВЭРЛЭГДСЭН"==e?t="text-success":"ХҮЛЭЭГДЭЖ БУЙ"==e?t="text-warning":"ЦУЦЛАСАН"==e||"БУЦААГДСАН"==e?t="text-danger":"ШИНЭ"==e?t="text-primary":"БАТАЛГААЖСАН"==e&&(t="text-success"),t}n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),t.a={test:function(e){return alert("it worked"),e},makeStateColor:r,makeKindColor:o,checkMultiGeomTypeName:function(e){e.includes("Multi")||(e="Multi".concat("",e));return e},copyToClipboard:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Амжилттай хууллаа",r=document.createElement("textarea");r.innerText=t,document.body.appendChild(r),r.select(),document.execCommand("copy"),r.remove(),e.NOTIF&&e.NOTIF("success",n,"check")}}}).call(this,n(121))}}]);
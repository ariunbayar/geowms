(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{961:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ut}));var n=a(0),r=a.n(n),c=a(217);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s={config:{geoserver:{get:function(){var e=Object(c.a)();return fetch("/back/api/config/geoserver/",e).then(c.c)},save:function(e){var t=i(i({},Object(c.b)()),{},{body:JSON.stringify(e)});return fetch("/back/api/config/geoserver/save/",t).then(c.c)}},site:{get:function(){var e=Object(c.a)();return fetch("/back/api/config/site/",e).then(c.c)},save:function(e){var t=i(i({},Object(c.b)()),{},{body:JSON.stringify(e)});return fetch("/back/api/config/site/save/",t).then(c.c)}},system:{get:function(){var e=Object(c.a)();return fetch("/back/api/config/system/",e).then(c.c)},save:function(e){var t=i(i({},Object(c.b)()),{},{body:JSON.stringify(e)});return fetch("/back/api/config/system/save/",t).then(c.c)}},email:{get:function(){var e=Object(c.a)();return fetch("/back/api/config/email/",e).then(c.c)},save:function(e){var t=i(i({},Object(c.b)()),{},{body:JSON.stringify(e)});return fetch("/back/api/config/email/save/",t).then(c.c)}},qgis:{get:function(){var e=Object(c.a)();return fetch("/back/api/config/qgis/",e).then(c.c)},save:function(e){var t=i(i({},Object(c.b)()),{},{body:JSON.stringify(e)});return fetch("/back/api/config/qgis/save/",t).then(c.c)}},dan:{get:function(){var e=Object(c.a)();return fetch("/back/api/config/dan/",e).then(c.c)},save:function(e){var t=i(i({},Object(c.b)()),{},{body:JSON.stringify(e)});return fetch("/back/api/config/dan/save/",t).then(c.c)}},payment:{get:function(){var e=Object(c.a)();return fetch("/back/api/config/payment/",e).then(c.c)},save:function(e){var t=i(i({},Object(c.b)()),{},{body:JSON.stringify(e)});return fetch("/back/api/config/payment/save/",t).then(c.c)}},qpay:{get:function(){var e=Object(c.a)();return fetch("/back/api/config/qpay/",e).then(c.c)},save:function(e){var t=i(i({},Object(c.b)()),{},{body:JSON.stringify(e)});return fetch("/back/api/config/qpay/save/",t).then(c.c)}},inspire:{get_value_type_fields:function(){var e=Object(c.a)();return fetch("/back/api/config/get-value-type-fields/",e).then(c.c)},save_value_types:function(e){var t=i(i({},Object(c.b)()),{},{body:JSON.stringify({values:e})});return fetch("/back/api/config/save-value-types/",t).then(c.c)}}},getDisk:function(){var e=i({},Object(c.a)());return fetch("/back/api/config/disk/",e).then(c.c)},getPostgeVersion:function(){var e=i({},Object(c.a)());return fetch("/back/api/config/postresqlVersion/",e).then(c.c)},getGeoServerVersion:function(){var e=Object(c.a)();return fetch("/back/api/config/geoserver-version/",e).then(c.c)}};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,a){return t&&f(e.prototype,t),a&&f(e,a),e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=h(e);if(t){var r=h(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return y(this,a)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){p(a,e);var t=b(a);function a(e){var n;return m(this,a),(n=t.call(this,e)).readableFileSize=n.readableFileSize.bind(E(n)),n.formatPercent=n.formatPercent.bind(E(n)),n}return d(a,[{key:"readableFileSize",value:function(e){if(0==e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t]}},{key:"formatPercent",value:function(e,t){return(100*e/t).toFixed(1)+"%"}},{key:"render",value:function(){var e=this.props.disk,t=this.readableFileSize(e.size_used),a=this.readableFileSize(e.size_total),c=this.formatPercent(e.size_used,e.size_total);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},"Файл систем: ",r.a.createElement("code",null,e.mount_point)),r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar",style:{width:c}},c," - ",e.name)))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-4 offset-4"},t),r.a.createElement("div",{className:"col-4"},"Нийт: ",a)))}}]),a}(n.Component),g=function(e){p(a,e);var t=b(a);function a(e){var n;return m(this,a),(n=t.call(this,e)).state={disks:[]},n}return d(a,[{key:"componentDidMount",value:function(){var e=this;s.getDisk().then((function(t){var a=t.disks;e.setState({disks:a})}))}},{key:"render",value:function(){var e=this.state.disks;return r.a.createElement("div",{className:"card flex-grow-1"},r.a.createElement("div",{className:"card-header"},"Дискийн хэмжээ"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"container"},e.map((function(e,t){return r.a.createElement(_,{disk:e,key:t})}))),r.a.createElement("p",{className:"small text-muted"},"Дискийн хэмжээний өөрчлөлтийн мэдээллийг 5 минут тутамд шинэчилнэ.")))}}]),a}(n.Component);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=R(e);if(t){var r=R(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return w(this,a)}}function w(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,e);var t,a,n,c=P(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=c.call(this,e)).state={postgreVersion:"",versionOfPostGis:"",geoserverVersion:{}},t}return t=o,(a=[{key:"componentDidMount",value:function(){var e=this;s.getPostgeVersion().then((function(t){var a=t.postgreVersion,n=t.versionOfPostGis;e.setState({postgreVersion:a,versionOfPostGis:n})})),s.getGeoServerVersion().then((function(t){var a=t.geoserverVersion;e.setState({geoserverVersion:a})}))}},{key:"render",value:function(){var e=this.state,t=e.postgreVersion,a=e.versionOfPostGis,n=e.geoserverVersion;return r.a.createElement("div",{className:"card flex-grow-1"},r.a.createElement("div",{className:"card-header"},"Системийн хувилбар"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",null,"PostgreSQL хувилбар"),r.a.createElement("p",null,t),r.a.createElement("h4",null,"PostGIS хувилбар"),r.a.createElement("p",null,a),r.a.createElement("h4",null,"Geoserver хувилбар"),r.a.createElement("p",null,"Version: ",n.version,r.a.createElement("br",null),"Build Timestamp: ",n.build_timestamp,r.a.createElement("br",null),"Git Revisioin: ",n.git_revision)))}}])&&O(t.prototype,a),n&&O(t,n),o}(n.Component),j=a(20),T=a(34);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=F(e);if(t){var r=F(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return L(this,a)}}function L(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=T.c().shape({geoserver_host:T.d(),geoserver_protocol:T.d(),geoserver_user:T.d(),geoserver_pass:T.d(),geoserver_port:T.d(),geoserver_db_host:T.d()}),B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(i,e);var t,a,c,o=A(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={is_editing:!1,initial_values:{geoserver_host:"",geoserver_user:"",geoserver_pass:"",geoserver_port:"",geoserver_db_host:"",geoserver_protocol:""},values:{}},t.handleEdit=t.handleEdit.bind(I(t)),t.handleSubmit=t.handleSubmit.bind(I(t)),t}return t=i,(a=[{key:"componentDidMount",value:function(){var e=this;s.config.geoserver.get().then((function(t){e.setState({initial_values:t,values:t})}))}},{key:"handleEdit",value:function(e){e.preventDefault();var t=this.state.is_editing;this.setState({is_editing:!t})}},{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setValues;n("saving"),s.config.geoserver.save(e).then((function(t){if(!t.success)return Promise.reject();n("save_success"),a.setState({values:e})})).catch((function(){r(a.state.values),n("save_error")})).finally((function(){a.setState({is_editing:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.is_editing,a=e.initial_values;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"GeoServer API тохиргоо",r.a.createElement("div",{className:"card-action"},r.a.createElement("a",{href:"#",onClick:this.handleEdit},r.a.createElement("i",{className:"fa fa-edit"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement(j.e,{initialValues:a,initialStatus:"initial",enableReinitialize:!0,validationSchema:V,onSubmit:this.handleSubmit},(function(e){e.errors;var a=e.status,c=(e.touched,e.isSubmitting,e.setFieldValue,e.setStatus);return e.setValues,e.handleBlur,e.values,e.isValid,e.dirty,r.a.createElement(j.d,null,r.a.createElement("fieldset",{disabled:!t},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12 text-wrap"},r.a.createElement("label",{htmlFor:"id_geoserver_host"},"IP Address / Domain name"),r.a.createElement(j.b,{name:"geoserver_host",id:"id_geoserver_host",type:"text",className:"form-control"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"id_geoserver_protocol"},"Protocol"),r.a.createElement(j.b,{name:"geoserver_protocol",id:"id_geoserver_protocol",type:"text",className:"form-control"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"id_geoserver_port"},"Port"),r.a.createElement(j.b,{name:"geoserver_port",type:"text",className:"form-control",id:"id_geoserver_port"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"id_geoserver_user"},"Username"),r.a.createElement(j.b,{name:"geoserver_user",type:"text",className:"form-control",id:"id_geoserver_user"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"id_geoserver_pass"},"Password"),r.a.createElement(j.b,{name:"geoserver_pass",type:"password",className:"form-control",id:"id_geoserver_pass"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"id_geoserver_db_host"},"Database hostname"),r.a.createElement(j.b,{name:"geoserver_db_host",id:"id_geoserver_db_host",type:"text",className:"form-control"}))),t&&r.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:"saving"==a},"saving"==a&&r.a.createElement(n.Fragment,null,r.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin"})," ","Түр хүлээнэ үү..."),"saving"!=a&&"Хадгалах")),!t&&"save_success"==a&&r.a.createElement("div",{className:"alert alert-icon-success alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-success"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Амжилттай хадгаллаа!"))),!t&&"save_error"==a&&r.a.createElement("div",{className:"alert alert-icon-warning alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-warning"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Хадгалахад алдаа гарлаа!"))))}))))}}])&&M(t.prototype,a),c&&M(t,c),i}(n.Component);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=z(e);if(t){var r=z(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return K(this,a)}}function K(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=T.c().shape({site_title:T.d(),site_footer_text:T.d(),agency_name:T.d(),agency_contact_address:T.d(),agency_contact_email:T.d(),agency_contact_phone:T.d()}),J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(i,e);var t,a,c,o=G(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={is_editing:!1,initial_values:{site_title:"",site_footer_text:"",agency_name:"",agency_contact_address:"",agency_contact_email:"",agency_contact_phone:""},values:{}},t.handleEdit=t.handleEdit.bind(Y(t)),t.handleSubmit=t.handleSubmit.bind(Y(t)),t}return t=i,(a=[{key:"componentDidMount",value:function(){var e=this;s.config.site.get().then((function(t){e.setState({initial_values:t,values:t})}))}},{key:"handleEdit",value:function(e){e.preventDefault();var t=this.state.is_editing;this.setState({is_editing:!t})}},{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setValues;n("saving"),s.config.site.save(e).then((function(t){if(!t.success)return Promise.reject();n("save_success"),a.setState({values:e})})).catch((function(){r(a.state.values),n("save_error")})).finally((function(){a.setState({is_editing:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.is_editing,a=e.initial_values;return r.a.createElement("div",{className:"card flex-grow-1"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-header"},"Сайтын тохиргоо",r.a.createElement("div",{className:"card-action"},r.a.createElement("a",{href:"#",onClick:this.handleEdit},r.a.createElement("i",{className:"fa fa-edit"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement(j.e,{initialValues:a,initialStatus:"initial",enableReinitialize:!0,validationSchema:q,onSubmit:this.handleSubmit},(function(e){e.errors;var a=e.status,c=(e.touched,e.isSubmitting,e.setFieldValue,e.setStatus);return e.setValues,e.handleBlur,e.values,e.isValid,e.dirty,r.a.createElement(j.d,null,r.a.createElement("fieldset",{disabled:!t},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"id_site_title"},"Сайтын гарчиг"),r.a.createElement(j.b,{name:"site_title",type:"text",className:"form-control",id:"id_site_title"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"id_site_footer_text"},"Footer текст"),r.a.createElement(j.b,{name:"site_footer_text",type:"text",className:"form-control",id:"id_site_footer_text"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"id_agency_name"},"Агентлагийн нэр"),r.a.createElement(j.b,{name:"agency_name",type:"text",className:"form-control",id:"id_agency_name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"id_agency_contact_address"},"Хаяг"),r.a.createElement(j.b,{name:"agency_contact_address",type:"text",className:"form-control",id:"id_agency_contact_address"})),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"id_agency_contact_email"},"Мэйл"),r.a.createElement(j.b,{name:"agency_contact_email",type:"text",className:"form-control",id:"agency_contact_email"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"id_agency_contact_phone"},"Утас"),r.a.createElement(j.b,{name:"agency_contact_phone",type:"",className:"form-control",id:"id_agency_contact_phone"}))),t&&r.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:"saving"==a},"saving"==a&&r.a.createElement(n.Fragment,null,r.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin"})," ","Түр хүлээнэ үү..."),"saving"!=a&&"Хадгалах")),!t&&"save_success"==a&&r.a.createElement("div",{className:"alert alert-icon-success alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-success"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Амжилттай хадгаллаа!"))),!t&&"save_error"==a&&r.a.createElement("div",{className:"alert alert-icon-warning alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-warning"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Хадгалахад алдаа гарлаа!"))))})))))}}])&&D(t.prototype,a),c&&D(t,c),i}(n.Component);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=te(e);if(t){var r=te(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return $(this,a)}}function $(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?ee(e):t}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ae=T.c().shape({system_local_base_url:T.d()}),ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(i,e);var t,a,c,o=X(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={is_editing:!1,initial_values:{system_local_base_url:""},values:{}},t.handleEdit=t.handleEdit.bind(ee(t)),t.handleSubmit=t.handleSubmit.bind(ee(t)),t}return t=i,(a=[{key:"componentDidMount",value:function(){var e=this;s.config.system.get().then((function(t){e.setState({initial_values:t,values:t})}))}},{key:"handleEdit",value:function(e){e.preventDefault();var t=this.state.is_editing;this.setState({is_editing:!t})}},{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setValues;n("saving"),s.config.system.save(e).then((function(t){if(!t.success)return Promise.reject();n("save_success"),a.setState({values:e})})).catch((function(){r(a.state.values),n("save_error")})).finally((function(){a.setState({is_editing:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.is_editing,a=e.initial_values;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Байгууллагын систем сервис",r.a.createElement("div",{className:"card-action"},r.a.createElement("a",{href:"#",onClick:this.handleEdit},r.a.createElement("i",{className:"fa fa-edit"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement(j.e,{initialValues:a,initialStatus:"initial",enableReinitialize:!0,validationSchema:ae,onSubmit:this.handleSubmit},(function(e){e.errors;var a=e.status,c=(e.touched,e.isSubmitting,e.setFieldValue,e.setStatus);return e.setValues,e.handleBlur,e.values,e.isValid,e.dirty,r.a.createElement(j.d,null,r.a.createElement("fieldset",{disabled:!t},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"id_system_local_base_url"},"Base url"),r.a.createElement(j.b,{name:"system_local_base_url",id:"id_system_local_base_url",type:"text",className:"form-control",placeholder:"http://x.x.x.x"}))),t&&r.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:"saving"==a},"saving"==a&&r.a.createElement(n.Fragment,null,r.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin"})," ","Түр хүлээнэ үү..."),"saving"!=a&&"Хадгалах")),!t&&"save_success"==a&&r.a.createElement("div",{className:"alert alert-icon-success alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-success"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Амжилттай хадгаллаа!"))),!t&&"save_error"==a&&r.a.createElement("div",{className:"alert alert-icon-warning alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-warning"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Хадгалахад алдаа гарлаа!"))))}))))}}])&&W(t.prototype,a),c&&W(t,c),i}(n.Component);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ue(e);if(t){var r=ue(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return le(this,a)}}function le(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?se(e):t}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=T.c().shape({EMAIL_USE_TLS:T.d(),EMAIL_HOST:T.d(),EMAIL_HOST_NAME:T.d(),EMAIL_HOST_USER:T.d(),EMAIL_HOST_PASSWORD:T.d(),EMAIL_PORT:T.d()}),fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(i,e);var t,a,c,o=ie(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={is_editing:!1,initial_values:{system_local_base_url:""},values:{}},t.handleEdit=t.handleEdit.bind(se(t)),t.handleSubmit=t.handleSubmit.bind(se(t)),t}return t=i,(a=[{key:"componentDidMount",value:function(){var e=this;s.config.email.get().then((function(t){e.setState({initial_values:t,values:t})}))}},{key:"handleEdit",value:function(e){e.preventDefault();var t=this.state.is_editing;this.setState({is_editing:!t})}},{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setValues;n("saving"),s.config.email.save(e).then((function(t){if(!t.success)return Promise.reject();n("save_success"),a.setState({values:e})})).catch((function(){r(a.state.values),n("save_error")})).finally((function(){a.setState({is_editing:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.is_editing,a=e.initial_values;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Мэйлийн тохиргоо",r.a.createElement("div",{className:"card-action"},r.a.createElement("a",{href:"#",onClick:this.handleEdit},r.a.createElement("i",{className:"fa fa-edit"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement(j.e,{initialValues:a,initialStatus:"initial",enableReinitialize:!0,validationSchema:me,onSubmit:this.handleSubmit},(function(e){e.errors;var a=e.status,c=(e.touched,e.isSubmitting,e.setFieldValue,e.setStatus);return e.setValues,e.handleBlur,e.values,e.isValid,e.dirty,r.a.createElement(j.d,null,r.a.createElement("fieldset",{disabled:!t},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"EMAIL_USE_TLS"},"EMAIL USE TLS"),r.a.createElement(j.b,{name:"EMAIL_USE_TLS",id:"EMAIL_USE_TLS",type:"text",className:"form-control"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"EMAIL_HOST_NAME"},"EMAIL HOST NAME"),r.a.createElement(j.b,{name:"EMAIL_HOST_NAME",id:"EMAIL_HOST_NAME",type:"text",className:"form-control"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"EMAIL_HOST"},"EMAIL HOST"),r.a.createElement(j.b,{name:"EMAIL_HOST",id:"EMAIL_HOST",type:"text",className:"form-control"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"EMAIL_PORT"},"EMAIL PORT"),r.a.createElement(j.b,{name:"EMAIL_PORT",id:"EMAIL_PORT",type:"text",className:"form-control"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"EMAIL_HOST_USER"},"EMAIL HOST USER"),r.a.createElement(j.b,{name:"EMAIL_HOST_USER",id:"EMAIL_HOST_USER",type:"text",className:"form-control"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"EMAIL_HOST_PASSWORD"},"EMAIL HOST PASSWORD"),r.a.createElement(j.b,{name:"EMAIL_HOST_PASSWORD",id:"EMAIL_HOST_PASSWORD",type:"password",className:"form-control"}))),t&&r.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:"saving"==a},"saving"==a&&r.a.createElement(n.Fragment,null,r.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin"})," ","Түр хүлээнэ үү..."),"saving"!=a&&"Хадгалах")),!t&&"save_success"==a&&r.a.createElement("div",{className:"alert alert-icon-success alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-success"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Амжилттай хадгаллаа!"))),!t&&"save_error"==a&&r.a.createElement("div",{className:"alert alert-icon-warning alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-warning"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Хадгалахад алдаа гарлаа!"))))}))))}}])&&ce(t.prototype,a),c&&ce(t,c),i}(n.Component);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=he(e);if(t){var r=he(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return ye(this,a)}}function ye(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?Ee(e):t}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _e=T.c().shape({qgis_local_base_url:T.d()}),ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(i,e);var t,a,c,o=be(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={is_editing:!1,initial_values:{qgis_local_base_url:""},values:{}},t.handleEdit=t.handleEdit.bind(Ee(t)),t.handleSubmit=t.handleSubmit.bind(Ee(t)),t}return t=i,(a=[{key:"componentDidMount",value:function(){var e=this;s.config.qgis.get().then((function(t){e.setState({initial_values:t,values:t})}))}},{key:"handleEdit",value:function(e){e.preventDefault();var t=this.state.is_editing;this.setState({is_editing:!t})}},{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setValues;n("saving"),s.config.qgis.save(e).then((function(t){if(!t.success)return Promise.reject();n("save_success"),a.setState({values:e})})).catch((function(){r(a.state.values),n("save_error")})).finally((function(){a.setState({is_editing:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.is_editing,a=e.initial_values;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"QGIS сервис",r.a.createElement("div",{className:"card-action"},r.a.createElement("a",{href:"#",onClick:this.handleEdit},r.a.createElement("i",{className:"fa fa-edit"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement(j.e,{initialValues:a,initialStatus:"initial",enableReinitialize:!0,validationSchema:_e,onSubmit:this.handleSubmit},(function(e){e.errors;var a=e.status,c=(e.touched,e.isSubmitting,e.setFieldValue,e.setStatus);return e.setValues,e.handleBlur,e.values,e.isValid,e.dirty,r.a.createElement(j.d,null,r.a.createElement("fieldset",{disabled:!t},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"id_qgis_local_base_url"},"Base url"),r.a.createElement(j.b,{name:"qgis_local_base_url",id:"id_qgis_local_base_url",type:"text",className:"form-control",placeholder:"http://x.x.x.x"}))),t&&r.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:"saving"==a},"saving"==a&&r.a.createElement(n.Fragment,null,r.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin"})," ","Түр хүлээнэ үү..."),"saving"!=a&&"Хадгалах")),!t&&"save_success"==a&&r.a.createElement("div",{className:"alert alert-icon-success alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-success"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Амжилттай хадгаллаа!"))),!t&&"save_error"==a&&r.a.createElement("div",{className:"alert alert-icon-warning alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-warning"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Хадгалахад алдаа гарлаа!"))))}))))}}])&&pe(t.prototype,a),c&&pe(t,c),i}(n.Component);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ke(e);if(t){var r=ke(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return we(this,a)}}function we(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?Re(e):t}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var je=T.c().shape({AUTHORIZE:T.d(),TOKEN:T.d(),SERVICE:T.d(),CLIENT_ID:T.d(),CLIENT_SECRET:T.d(),CALLBACK_URI:T.d()}),Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(i,e);var t,a,c,o=Pe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={is_editing:!1,initial_values:{AUTHORIZE:"",TOKEN:"",SERVICE:"",CLIENT_ID:"",CLIENT_SECRET:"",CALLBACK_URI:""},values:{}},t.handleEdit=t.handleEdit.bind(Re(t)),t.handleSubmit=t.handleSubmit.bind(Re(t)),t}return t=i,(a=[{key:"componentDidMount",value:function(){var e=this;s.config.dan.get().then((function(t){e.setState({initial_values:t,values:t})}))}},{key:"handleEdit",value:function(e){e.preventDefault();var t=this.state.is_editing;this.setState({is_editing:!t})}},{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setValues;n("saving"),s.config.dan.save(e).then((function(t){if(!t.success)return Promise.reject();n("save_success"),a.setState({values:e})})).catch((function(){r(a.state.values),n("save_error")})).finally((function(){a.setState({is_editing:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.is_editing,a=e.initial_values;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Дан систем",r.a.createElement("div",{className:"card-action"},r.a.createElement("a",{href:"#",onClick:this.handleEdit},r.a.createElement("i",{className:"fa fa-edit"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement(j.e,{initialValues:a,initialStatus:"initial",enableReinitialize:!0,validationSchema:je,onSubmit:this.handleSubmit},(function(e){e.errors;var a=e.status,c=(e.touched,e.isSubmitting,e.setFieldValue,e.setStatus);return e.setValues,e.handleBlur,e.values,e.isValid,e.dirty,r.a.createElement(j.d,null,r.a.createElement("fieldset",{disabled:!t},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"AUTHORIZE"},"AUTHORIZE"),r.a.createElement(j.b,{name:"AUTHORIZE",id:"id_AUTHORIZE",type:"text",className:"form-control"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"TOKEN"},"TOKEN"),r.a.createElement(j.b,{name:"TOKEN",id:"id_TOKEN",type:"text",className:"form-control"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"SERVICE"},"SERVICE"),r.a.createElement(j.b,{name:"SERVICE",id:"id_SERVICE",type:"text",className:"form-control"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"CLIENT_ID"},"CLIENT ID"),r.a.createElement(j.b,{name:"CLIENT_ID",id:"id_CLIENT_ID",type:"text",className:"form-control"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"CLIENT_SECRET"},"CLIENT SECRET"),r.a.createElement(j.b,{name:"CLIENT_SECRET",id:"id_CLIENT_SECRET",type:"text",className:"form-control"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"CALLBACK_URI"},"CALLBACK URI"),r.a.createElement(j.b,{name:"CALLBACK_URI",id:"id_CALLBACK_URI",type:"text",className:"form-control"}))),t&&r.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:"saving"==a},"saving"==a&&r.a.createElement(n.Fragment,null,r.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin"})," ","Түр хүлээнэ үү..."),"saving"!=a&&"Хадгалах")),!t&&"save_success"==a&&r.a.createElement("div",{className:"alert alert-icon-success alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-success"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Амжилттай хадгаллаа!"))),!t&&"save_error"==a&&r.a.createElement("div",{className:"alert alert-icon-warning alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-warning"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Хадгалахад алдаа гарлаа!"))))}))))}}])&&Oe(t.prototype,a),c&&Oe(t,c),i}(n.Component);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Fe(e);if(t){var r=Fe(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Le(this,a)}}function Le(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?Ie(e):t}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ve=T.c().shape({POLYGON_PER_KM_AMOUNT:T.d(),POLYGON_PER_M_AMOUNT:T.d(),PROPERTY_PER_AMOUNT:T.d()}),Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(i,e);var t,a,c,o=Ae(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={is_editing:!1,initial_values:{POLYGON_PER_KM_AMOUNT:"",POLYGON_PER_M_AMOUNT:"",PROPERTY_PER_AMOUNT:""},values:{}},t.handleEdit=t.handleEdit.bind(Ie(t)),t.handleSubmit=t.handleSubmit.bind(Ie(t)),t}return t=i,(a=[{key:"componentDidMount",value:function(){var e=this;s.config.payment.get().then((function(t){e.setState({initial_values:t,values:t})}))}},{key:"handleEdit",value:function(e){e.preventDefault();var t=this.state.is_editing;this.setState({is_editing:!t})}},{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setValues;n("saving"),s.config.payment.save(e).then((function(t){if(!t.success)return Promise.reject();n("save_success"),a.setState({values:e})})).catch((function(){r(a.state.values),n("save_error")})).finally((function(){a.setState({is_editing:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.is_editing,a=e.initial_values;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Хэсэгчлэн худалдан авалтын үнийн тохиргоо",r.a.createElement("div",{className:"card-action"},r.a.createElement("a",{href:"#",onClick:this.handleEdit},r.a.createElement("i",{className:"fa fa-edit"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement(j.e,{initialValues:a,initialStatus:"initial",enableReinitialize:!0,validationSchema:Ve,onSubmit:this.handleSubmit},(function(e){var a=e.status,c=e.setStatus;return r.a.createElement(j.d,null,r.a.createElement("fieldset",{disabled:!t},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"POLYGON_PER_KM_AMOUNT"},"POLYGON PER KM AMOUNT"),r.a.createElement(j.b,{name:"POLYGON_PER_KM_AMOUNT",id:"id_POLYGON_PER_KM_AMOUNT",type:"text",className:"form-control"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"POLYGON_PER_M_AMOUNT"},"POLYGON PER M AMOUNT"),r.a.createElement(j.b,{name:"POLYGON_PER_M_AMOUNT",id:"id_POLYGON_PER_M_AMOUNT",type:"text",className:"form-control"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"PROPERTY_PER_AMOUNT"},"PROPERTY PER AMOUNT"),r.a.createElement(j.b,{name:"PROPERTY_PER_AMOUNT",id:"id_PROPERTY_PER_AMOUNT",type:"text",className:"form-control"}))),t&&r.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:"saving"==a},"saving"==a&&r.a.createElement(n.Fragment,null,r.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin"})," ","Түр хүлээнэ үү..."),"saving"!=a&&"Хадгалах")),!t&&"save_success"==a&&r.a.createElement("div",{className:"alert alert-icon-success alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-success"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Амжилттай хадгаллаа!"))),!t&&"save_error"==a&&r.a.createElement("div",{className:"alert alert-icon-warning alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-warning"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Хадгалахад алдаа гарлаа!"))))}))))}}])&&Me(t.prototype,a),c&&Me(t,c),i}(n.Component);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ze(e);if(t){var r=ze(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Ke(this,a)}}function Ke(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?Ye(e):t}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qe=T.c().shape({id:T.d(),register_no:T.d(),name:T.d(),email:T.d(),phone_number:T.d(),note:T.d()}),Je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(i,e);var t,a,c,o=Ge(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={is_editing:!1,initial_values:{id:"",register_no:"",name:"",email:"",phone_number:"",note:""},values:{}},t.handleEdit=t.handleEdit.bind(Ye(t)),t.handleSubmit=t.handleSubmit.bind(Ye(t)),t}return t=i,(a=[{key:"componentDidMount",value:function(){var e=this;s.config.qpay.get().then((function(t){e.setState({initial_values:t,values:t})}))}},{key:"handleEdit",value:function(e){e.preventDefault();var t=this.state.is_editing;this.setState({is_editing:!t})}},{key:"handleSubmit",value:function(e,t){var a=this,n=t.setStatus,r=t.setValues;n("saving"),s.config.qpay.save(e).then((function(t){if(!t.success)return Promise.reject();n("save_success"),a.setState({values:e})})).catch((function(){r(a.state.values),n("save_error")})).finally((function(){a.setState({is_editing:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.is_editing,a=e.initial_values;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"QPay-р худалдан авалт хийх үеийн хүлээн авагчийн мэдээллийн тохиргоо",r.a.createElement("div",{className:"card-action"},r.a.createElement("a",{href:"#",onClick:this.handleEdit},r.a.createElement("i",{className:"fa fa-edit"})))),r.a.createElement("div",{className:"card-body"},r.a.createElement(j.e,{initialValues:a,initialStatus:"initial",enableReinitialize:!0,validationSchema:qe,onSubmit:this.handleSubmit},(function(e){var a=e.status,c=e.setStatus;return r.a.createElement(j.d,null,r.a.createElement("fieldset",{disabled:!t},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"id"},"id"),r.a.createElement(j.b,{name:"id",id:"id_id",type:"text",className:"form-control"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"register_no"},"register no"),r.a.createElement(j.b,{name:"register_no",id:"id_register_no",type:"text",className:"form-control"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"name"},"name"),r.a.createElement(j.b,{name:"name",id:"id_name",type:"text",className:"form-control"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"email"},"email"),r.a.createElement(j.b,{name:"email",id:"id_email",type:"text",className:"form-control"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"phone_number"},"phone number"),r.a.createElement(j.b,{name:"phone_number",id:"id_phone_number",type:"text",className:"form-control"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"note"},"note"),r.a.createElement(j.b,{name:"note",id:"id_note",type:"text",className:"form-control"}))),t&&r.a.createElement("button",{type:"submit",className:"btn gp-btn-primary",disabled:"saving"==a},"saving"==a&&r.a.createElement(n.Fragment,null,r.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin"})," ","Түр хүлээнэ үү..."),"saving"!=a&&"Хадгалах")),!t&&"save_success"==a&&r.a.createElement("div",{className:"alert alert-icon-success alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-success"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Амжилттай хадгаллаа!"))),!t&&"save_error"==a&&r.a.createElement("div",{className:"alert alert-icon-warning alert-dismissible",role:"alert"},r.a.createElement("button",{type:"button",className:"close",onClick:function(){return c("initial")}},"×"),r.a.createElement("div",{className:"alert-icon icon-part-warning"},r.a.createElement("i",{className:"icon-check"})),r.a.createElement("div",{className:"alert-message"},r.a.createElement("span",null,"Хадгалахад алдаа гарлаа!"))))}))))}}])&&De(t.prototype,a),c&&De(t,c),i}(n.Component);function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=tt(e);if(t){var r=tt(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return $e(this,a)}}function $e(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?et(e):t}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var at=T.c().shape({});n.Component;function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=st(e);if(t){var r=st(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return lt(this,a)}}function lt(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(o,e);var t,a,n,c=it(o);function o(){return rt(this,o),c.apply(this,arguments)}return t=o,(a=[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-8 d-flex"},r.a.createElement(J,null)),r.a.createElement("div",{className:"col-lg-4 d-flex flex-column"},r.a.createElement(g,null),r.a.createElement(k,null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(Be,null),r.a.createElement(ne,null),r.a.createElement(ge,null),r.a.createElement(B,null)),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(Te,null),r.a.createElement(Je,null)),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(fe,null))))}}])&&ct(t.prototype,a),n&&ct(t,n),o}(n.Component)}}]);